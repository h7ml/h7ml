/*! For license information please see 96046.5486a369.js.LICENSE.txt */
(self.webpackChunkh7ml=self.webpackChunkh7ml||[]).push([["96046"],{7279:function(n,e,r){"use strict";r.r(e);var i=r("52676"),s=r("40453");function l(n){let e=Object.assign({h2:"h2",a:"a",p:"p",ul:"ul",li:"li",img:"img",pre:"pre",code:"code",h3:"h3",strong:"strong"},(0,s.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h2,{id:"\u5B89\u88C5",children:["\u5B89\u88C5",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5B89\u88C5",children:"#"})]}),"\n",(0,i.jsxs)(e.h2,{id:"\u7248\u672C\u533A\u522B",children:["\u7248\u672C\u533A\u522B",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7248\u672C\u533A\u522B",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"\u5E38\u7528\u7248\u672C\u5206\u4E3A\u56DB\u5927\u9635\u8425"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"http://nginx.org/",target:"_blank",rel:"noopener noreferrer",children:"Nginx \u5F00\u6E90\u7248 open in new window"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://www.nginx.com/",target:"_blank",rel:"noopener noreferrer",children:"Nginx plus \u5546\u4E1A\u7248 open in new window"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"http://openresty.org/cn/",target:"_blank",rel:"noopener noreferrer",children:"openrestyopen in new window"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"http://tengine.taobao.org/",target:"_blank",rel:"noopener noreferrer",children:"Tengineopen in new window"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Nginx \u7684\u5B89\u88C5\u53EF\u4EE5\u9009\u62E9\u6E90\u7801\u7F16\u8BD1\u7684\u65B9\u5F0F\u4E5F\u53EF\u4EE5\u4F7F\u7528\u5B9D\u5854\u9762\u677F\u5B89\u88C5\uFF0C\u672C\u6587\u91C7\u7528\u7684\u662F\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5\u3002"}),"\n",(0,i.jsxs)(e.h2,{id:"\u4E0B\u8F7D-nginx",children:["\u4E0B\u8F7D Nginx",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E0B\u8F7D-nginx",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://nakoruru.h7ml.cn/httpproxy/static.5ibug.net/vitepress/assets/images/nginx/image-20220906163814476.png",alt:"image-20220906163814476"})}),"\n",(0,i.jsxs)(e.h2,{id:"\u4F7F\u7528\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5",children:["\u4F7F\u7528\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5",children:"#"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] tar zxvf nginx-1.22.0.tar.gz\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] cd nginx-1.21.6\n[root@hadoop100 ~] ./configure --prefix=/usr/local/nginx\n# --prefix=/usr/local/nginx \u6307\u5B89\u88C5\u8DEF\u5F84\u662F/usr/local/nginx\uFF0C\u5982\u679C\u524D\u9762\u5B89\u88C5\u4E86\u5B9D\u5854Linux\u9762\u677F\uFF0C\u8FD9\u4E00\u6B65\u5E94\u8BE5\u4E0D\u4F1A\u51FA\u73B0\u73AF\u5883\u95EE\u9898\u3002\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"\u5982\u679C\u51FA\u73B0\u8B66\u544A\u6216\u62A5\u9519",children:["\u5982\u679C\u51FA\u73B0\u8B66\u544A\u6216\u62A5\u9519",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5982\u679C\u51FA\u73B0\u8B66\u544A\u6216\u62A5\u9519",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u63D0\u793A\uFF1A"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"checking for OS\n+ Linux 3.10.0-693.el7.x86_64 x86_64\nchecking for C compiler ... not found\n./configure: error: C compiler cc is not found\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5B89\u88C5 gcc"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] yum install -y gcc\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u63D0\u793A\uFF1A"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"/configure: error: the HTTP rewrite module requires the PCRE library.\nYou can either disable the module by using --without-http_rewrite_module\noption, or install the PCRE library into the system, or build the PCRE library\nstatically from the source with nginx by using --with-pcre=<path> option.\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5B89\u88C5 perl \u5E93"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] yum install -y pcre pcre-devel\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u63D0\u793A\uFF1A"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"./configure: error: the HTTP gzip module requires the zlib library.\nYou can either disable the module by using --without-http_gzip_module\noption, or install the zlib library into the system, or build the zlib library\nstatically from the source with nginx by using --with-zlib=<path> option.\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5B89\u88C5 zlib \u5E93:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] yum install -y zlib zlib-devel\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u51FA\u73B0\u8FD9\u4E2A\u4EE3\u8868\u5B89\u88C5\u6210\u529F"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:'Configuration summary\n  + using system PCRE library\n  + OpenSSL library is not used\n  + using system zlib library\n\n  nginx path prefix: "/usr/local/nginx"\n  nginx binary file: "/usr/local/nginx/sbin/nginx"\n  nginx modules path: "/usr/local/nginx/modules"\n  nginx configuration prefix: "/usr/local/nginx/conf"\n  nginx configuration file: "/usr/local/nginx/conf/nginx.conf"\n  nginx pid file: "/usr/local/nginx/logs/nginx.pid"\n  nginx error log file: "/usr/local/nginx/logs/error.log"\n  nginx http access log file: "/usr/local/nginx/logs/access.log"\n  nginx http client request body temporary files: "client_body_temp"\n  nginx http proxy temporary files: "proxy_temp"\n  nginx http fastcgi temporary files: "fastcgi_temp"\n  nginx http uwsgi temporary files: "uwsgi_temp"\n  nginx http scgi temporary files: "scgi_temp"\n'})}),"\n",(0,i.jsxs)(e.h3,{id:"",children:[(0,i.jsx)(e.strong,{children:"\u63A5\u4E0B\u6765\u6267\u884C"}),(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#",children:"#"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@centos-linux nginx-1.22.0]# make\n[root@centos-linux nginx-1.22.0]# make install\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"-1",children:[(0,i.jsx)(e.strong,{children:"\u542F\u52A8 nginx"}),(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#-1",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.strong,{children:["\u8FDB\u5165\u5B89\u88C5\u597D\u7684\u76EE\u5F55 ",(0,i.jsx)(e.code,{children:"/usr/local/nginx/sbin"})]})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@centos-linux sbin]# ./nginx         # \u542F\u52A8\n[root@centos-linux sbin]# ./nginx -s stop     #\u5FEB\u901F\u505C\u6B62\n[root@centos-linux sbin]# ./nginx -s quit    #\u4F18\u96C5\u5173\u95ED\uFF0C\u5728\u9000\u51FA\u524D\u5B8C\u6210\u5DF2\u7ECF\u63A5\u53D7\u7684\u8FDE\u63A5\u8BF7\u6C42\n[root@centos-linux sbin]# ./nginx -s reload    #\u91CD\u65B0\u52A0\u8F7D\u914D\u7F6E\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"\u5173\u4E8E\u9632\u706B\u5899",children:["\u5173\u4E8E\u9632\u706B\u5899",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5173\u4E8E\u9632\u706B\u5899",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5173\u95ED\u9632\u706B\u5899"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] systemctl stop firewalld.service\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u7981\u6B62\u9632\u706B\u5899\u5F00\u673A\u542F\u52A8"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] systemctl disable firewalld.service\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u653E\u884C\u7AEF\u53E3"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] firewall-cmd --zone=public --add-port=80/tcp --permanent\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u91CD\u542F\u9632\u706B\u5899"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] firewall-cmd --reload\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"\u5B89\u88C5\u6210\u7CFB\u7EDF\u670D\u52A1",children:["\u5B89\u88C5\u6210\u7CFB\u7EDF\u670D\u52A1",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5B89\u88C5\u6210\u7CFB\u7EDF\u670D\u52A1",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u521B\u5EFA\u670D\u52A1\u811A\u672C"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] vi /usr/lib/systemd/system/nginx.service\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u670D\u52A1\u811A\u672C\u5185\u5BB9"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[Unit]\nDescription=nginx - web server\nAfter=network.target remote-fs.target nss-lookup.target\n\n[Service]\nType=forking\nPIDFile=/usr/local/nginx/logs/nginx.pid\nExecStartPre=/usr/local/nginx/sbin/nginx -t -c /usr/local/nginx/conf/nginx.conf\nExecStart=/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\nExecReload=/usr/local/nginx/sbin/nginx -s reload\nExecStop=/usr/local/nginx/sbin/nginx -s stop\nExecQuit=/usr/local/nginx/sbin/nginx -s quit\nPrivateTmp=true\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u91CD\u65B0\u52A0\u8F7D\u7CFB\u7EDF\u670D\u52A1"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] systemctl daemon-reloactdad\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u542F\u52A8\u670D\u52A1"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] systemctl start nginx.service\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u67E5\u770B\u670D\u52A1\u662F\u5426\u542F\u52A8\u6210\u529F"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 sbin] systemctl status nginx.service\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://nakoruru.h7ml.cn/httpproxy/static.5ibug.net/vitepress/assets/images/nginx/image-20220906171209767.png",alt:"image-20220906171209767"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5F00\u673A\u542F\u52A8"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-crystal",children:"[root@hadoop100 ~] systemctl enable nginx.service\n"})})]})}function a(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,s.ah)(),n.components);return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}e.default=a,a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["up%2Fnginx%2Finstall.md"]={toc:[{text:"\u5B89\u88C5",id:"\u5B89\u88C5",depth:2},{text:"\u7248\u672C\u533A\u522B",id:"\u7248\u672C\u533A\u522B",depth:2},{text:"\u4E0B\u8F7D Nginx",id:"\u4E0B\u8F7D-nginx",depth:2},{text:"\u4F7F\u7528\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5",id:"\u4F7F\u7528\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5",depth:2},{text:"\u5982\u679C\u51FA\u73B0\u8B66\u544A\u6216\u62A5\u9519",id:"\u5982\u679C\u51FA\u73B0\u8B66\u544A\u6216\u62A5\u9519",depth:3},{text:"**\u63A5\u4E0B\u6765\u6267\u884C**",id:"\u63A5\u4E0B\u6765\u6267\u884C",depth:3},{text:"**\u542F\u52A8 nginx**",id:"\u542F\u52A8-nginx",depth:3},{text:"\u5173\u4E8E\u9632\u706B\u5899",id:"\u5173\u4E8E\u9632\u706B\u5899",depth:3},{text:"\u5B89\u88C5\u6210\u7CFB\u7EDF\u670D\u52A1",id:"\u5B89\u88C5\u6210\u7CFB\u7EDF\u670D\u52A1",depth:3}],title:"\u5B89\u88C5",frontmatter:{icon:"nginx",order:1,date:"2022-03-20T00:00:00.000Z",author:"h7ml",category:"nginx",tag:"nginx",title:"\u5B89\u88C5"}}}}]);