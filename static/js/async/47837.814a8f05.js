/*! For license information please see 47837.814a8f05.js.LICENSE.txt */
(self.webpackChunkh7ml=self.webpackChunkh7ml||[]).push([["47837"],{17035:function(n,e,r){"use strict";r.r(e);var i=r("52676"),a=r("40453");function s(n){let e=Object.assign({h1:"h1",a:"a",p:"p",code:"code",blockquote:"blockquote",strong:"strong",img:"img",pre:"pre"},(0,a.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"\u573A\u666F",children:["\u573A\u666F",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u573A\u666F",children:"#"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"for...of...."})," \u7684\u539F\u7406\u662F\uFF1F"]}),"\n",(0,i.jsxs)(e.h1,{id:"\u8FED\u4EE3\u5668\u6A21\u5F0F",children:["\u8FED\u4EE3\u5668\u6A21\u5F0F",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8FED\u4EE3\u5668\u6A21\u5F0F",children:"#"})]}),"\n",(0,i.jsxs)(e.p,{children:["\u770B\u4E0B ",(0,i.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Iterator_pattern",target:"_blank",rel:"noopener noreferrer",children:"\u7EF4\u57FA\u767E\u79D1"})," \u7ED9\u7684\u5B9A\u4E49\uFF1A"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["In ",(0,i.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Object-oriented_programming",target:"_blank",rel:"noopener noreferrer",children:"object-oriented programming"}),", the ",(0,i.jsx)(e.strong,{children:"iterator pattern"})," is a ",(0,i.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Design_pattern_(computer_science)",target:"_blank",rel:"noopener noreferrer",children:"design pattern"})," in which an ",(0,i.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Iterator",target:"_blank",rel:"noopener noreferrer",children:"iterator"})," is used to traverse a ",(0,i.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Container_(data_structure)",target:"_blank",rel:"noopener noreferrer",children:"container"})," and access the container's elements. The iterator pattern decouples ",(0,i.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Algorithm",target:"_blank",rel:"noopener noreferrer",children:"algorithms"})," from containers; in some cases, algorithms are necessarily container-specific and thus cannot be decoupled."]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u8BF4\u767D\u4E86\u5C31\u662F\u6709\u4E2A\u5BB9\u5668\u7C7B\uFF0C\u6709\u4E00\u4E2A\u8FED\u4EE3\u5668\u7C7B\uFF0C\u5BB9\u5668\u7C7B\u6301\u6709\u4E00\u4E2A\u8FED\u4EE3\u5668\u7C7B\u7684\u5BF9\u8C61\uFF0C\u7136\u540E\u6211\u4EEC\u4E0D\u9700\u8981\u77E5\u9053\u5BB9\u5668\u4E2D\u5143\u7D20\u7684\u5177\u4F53\u7ED3\u6784\uFF0C\u901A\u8FC7\u8FED\u4EE3\u5668\u5BF9\u8C61\u5C31\u80FD\u591F\u8FDB\u884C\u904D\u5386\u3002"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://nakoruru.h7ml.cn/httpproxy/static.5ibug.net/vitepress/assets/images/designPattern/windliangblog.oss-cn-beijing.aliyuncs.comimage-20220226101825545.png",alt:"image-20220226101825545"})}),"\n",(0,i.jsxs)(e.p,{children:["\u4E0D\u59A8\u53EF\u4EE5\u770B\u4E0B ",(0,i.jsx)(e.code,{children:"java"})," \u7684\u5177\u4F53\u5B9E\u73B0\uFF1A"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public interface Iterator<E> {\n  boolean hasNext();\n  void next();\n  E currentItem();\n}\n\n// \u8FED\u4EE3\u5668\u7C7B\npublic class ArrayIterator<E> implements Iterator<E> {\n  private int cursor;\n  private ArrayList<E> arrayList;\n\n  public ArrayIterator(ArrayList<E> arrayList) {\n    this.cursor = 0;\n    this.arrayList = arrayList;\n  }\n\n  @Override\n  public boolean hasNext() {\n    return cursor != arrayList.size();\n  }\n\n  @Override\n  public void next() {\n    cursor++;\n  }\n\n  @Override\n  public E currentItem() {\n    if (cursor >= arrayList.size()) {\n      throw new NoSuchElementException();\n    }\n    return arrayList.get(cursor);\n  }\n}\n\npublic class Demo {\n  public static void main(String[] args) {\n    ArrayList<String> names = new ArrayList<>();\n    names.add("wind");\n    names.add("liang");\n    names.add("2022");\n\n    Iterator<String> iterator = new ArrayIterator(names);\n    while (iterator.hasNext()) {\n      System.out.println(iterator.currentItem());\n      iterator.next();\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u5BB9\u5668\u7C7B\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:"java"})," \u81EA\u5E26\u7684 ",(0,i.jsx)(e.code,{children:"ArrayList"})," \u7C7B\uFF0C\u7136\u540E\u6211\u4EEC\u624B\u52A8\u5B9E\u73B0\u4E00\u4E2A\u8FED\u4EE3\u5668\u7C7B ",(0,i.jsx)(e.code,{children:"ArrayIterator"}),"\u3002"]}),"\n",(0,i.jsxs)(e.h1,{id:"js-\u7684\u8FED\u4EE3\u5668\u6A21\u5F0F",children:["js \u7684\u8FED\u4EE3\u5668\u6A21\u5F0F",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#js-\u7684\u8FED\u4EE3\u5668\u6A21\u5F0F",children:"#"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"js"})," \u4E2D\u6211\u4EEC\u4E0D\u9700\u8981\u4E13\u95E8\u5B9A\u4E49\u8FED\u4EE3\u5668\u7684\u7C7B\u4E86\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8BA9\u5BB9\u5668\u5305\u542B\u4E00\u4E2A ",(0,i.jsx)(e.code,{children:"Symbol.iterator"})," \u65B9\u6CD5\uFF0C\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\u8FED\u4EE3\u5668\u5BF9\u8C61\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u8FED\u4EE3\u5668\u5BF9\u8C61\u5305\u542B\u4E00\u4E2A ",(0,i.jsx)(e.code,{children:"next"})," \u65B9\u6CD5\u7528\u6765\u83B7\u53D6\u5143\u7D20\uFF0C\u540C\u65F6\u83B7\u53D6\u5230\u7684\u5143\u7D20\u9664\u4E86\u672C\u8EAB\u7684 ",(0,i.jsx)(e.code,{children:"value"})," \u5916\uFF0C\u8FD8\u8FD4\u56DE\u4E00\u4E2A\u5E03\u5C14\u578B\u53D8\u91CF\u4EE3\u8868\u662F\u5426\u6709\u4E0B\u4E00\u4E2A\u5143\u7D20\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"function container(arr) {\n  let nextIndex = 0\n  return {\n    [Symbol.iterator]() {\n      return {\n        next() {\n          return nextIndex < arr.length\n            ? {\n                value: arr[nextIndex++],\n                done: false,\n              }\n            : {\n                value: undefined,\n                done: true,\n              }\n        },\n      }\n    },\n  }\n}\n\nconst list = container(['wind', 'liang', '\u4EAE'])\nconst iterator = list[Symbol.iterator]()\n\nwhile (true) {\n  const data = iterator.next()\n  if (data.done)\n    break\n  else\n    console.log(data.value)\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u4E8B\u5B9E\u4E0A\uFF0C\u6570\u7EC4\u5DF2\u7ECF\u4E3A\u6211\u4EEC\u63D0\u524D\u5B9E\u73B0\u4E86\u8FED\u4EE3\u5668\uFF0C\u6211\u4EEC\u76F4\u63A5\u901A\u8FC7 ",(0,i.jsx)(e.code,{children:"Symbol.iterator"})," \u65B9\u6CD5\u62FF\u5230\uFF0C\u4E0D\u9700\u8981\u81EA\u5DF1\u518D\u5B9E\u73B0\u4E86\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"const array = ['wind', 'liang', '\u4EAE']\nconst iteratorArray = array[Symbol.iterator]()\n\nwhile (true) {\n  const data = iteratorArray.next()\n  if (data.done)\n    break\n  else\n    console.log(data.value)\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u8FD8\u6709\u5B57\u7B26\u4E32\u4E5F\u4E3A\u6211\u4EEC\u5185\u7F6E\u4E86\u8FED\u4EE3\u5668\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"const string = 'windliang'\nconst iteratorString = string[Symbol.iterator]()\n\nwhile (true) {\n  const data = iteratorString.next()\n  if (data.done)\n    break\n  else\n    console.log(data.value)\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u540C\u7406\uFF0C",(0,i.jsx)(e.code,{children:"Map"}),"\u3001",(0,i.jsx)(e.code,{children:"Set"})," \u90FD\u5E2E\u6211\u4EEC\u5185\u7F6E\u4E86 ",(0,i.jsx)(e.code,{children:"Symbol.iterator"})," \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u8FED\u4EE3\u5668\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u6B64\u5916\uFF0C\u6211\u4EEC\u4E5F\u4E0D\u9700\u8981\u6BCF\u6B21\u90FD\u53BB ",(0,i.jsx)(e.code,{children:"while"})," \u5FAA\u73AF\u3001\u7136\u540E\u5224\u65AD\u662F\u5426\u7ED3\u675F\u5FAA\u73AF\u4E86\uFF0C\u76F4\u63A5\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:"for...of..."})," \u5373\u53EF\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"const array = ['wind', 'liang', '\u4EAE']\nfor (const a of array)\n  console.log(a)\n\nconst string = 'windliang'\nfor (const s of string)\n  console.log(s)\n"})}),"\n",(0,i.jsxs)(e.h1,{id:"\u6CE8\u610F",children:["\u6CE8\u610F",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6CE8\u610F",children:"#"})]}),"\n",(0,i.jsxs)(e.p,{children:["\u56E0\u4E3A\u6570\u7EC4\u662F\u901A\u8FC7 ",(0,i.jsx)(e.code,{children:"index"})," \u6765\u83B7\u53D6\u5143\u7D20\u7684\uFF0C\u5982\u679C\u5728\u904D\u5386\u8FC7\u7A0B\u4E2D\u5220\u9664\u5143\u7D20\uFF0C\u53EF\u80FD\u4F1A\u4EA7\u751F\u975E\u9884\u671F\u5185\u7684\u4E8B\u60C5\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"const array = ['wind', 'liang', '\u4EAE']\nfor (const a of array) {\n  console.log(a)\n  if (a === 'wind')\n    array.splice(0, 1)\n}\nconsole.log(array)\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u53EF\u4EE5\u5148\u601D\u8003\u4E0B\u4F1A\u600E\u4E48\u8F93\u51FA\uFF0C\u7136\u540E\u770B\u4E0B\u7ED3\u679C\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"wind\n\u4EAE[('liang', '\u4EAE')]\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u6211\u4EEC\u662F\u6210\u529F\u5220\u9664\u4E86 ",(0,i.jsx)(e.code,{children:"wind"})," \uFF0C\u4F46\u662F\u539F\u6570\u7EC4\u4E2D ",(0,i.jsx)(e.code,{children:"liang"})," \u5C31\u4E0D\u4F1A\u904D\u5386\u5230\u4E86\uFF0C\u4E5F\u6BD4\u8F83\u597D\u7406\u89E3\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u5F00\u59CB\u7684\u65F6\u5019\uFF0C\u6307\u9488 ",(0,i.jsx)(e.code,{children:"index"})," \u6307\u5411 ",(0,i.jsx)(e.code,{children:"wind"}),"\uFF0C\u8FDB\u884C\u4E86\u8F93\u51FA ",(0,i.jsx)(e.code,{children:"console.log(a); // wind"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:" 0     1   2\nwind liang \u4EAE\n ^\nindex\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u6B64\u65F6\u5220\u9664\u4E86 ",(0,i.jsx)(e.code,{children:"wind"})," \uFF0C",(0,i.jsx)(e.code,{children:"array.splice(0, 1);"})," \u6570\u7EC4\u6574\u4F53\u524D\u79FB\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:" 0    1\nliang \u4EAE\n ^\nindex\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u7136\u540E\u6307\u9488\u540E\u79FB\uFF0C\u904D\u5386\u4E0B\u4E2A\u5143\u7D20\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"0     1\nliang \u4EAE\n      ^\n     index\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u5C31\u76F4\u63A5\u8D70\u5230 ",(0,i.jsx)(e.code,{children:"\u4EAE"})," \u4E86\uFF0C\u800C\u6CA1\u6709\u904D\u5386 ",(0,i.jsx)(e.code,{children:"liang"})," \u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u539F\u56E0\u5C31\u662F ",(0,i.jsx)(e.code,{children:"liang"})," \u7684\u4F4D\u7F6E\u4E4B\u524D\u662F ",(0,i.jsx)(e.code,{children:"wind"})," \uFF0C",(0,i.jsx)(e.code,{children:"wind"})," \u4E4B\u524D\u5DF2\u7ECF\u904D\u5386\u8FC7\u4E86\uFF0C\u6307\u9488\u540E\u79FB\u5C31\u628A ",(0,i.jsx)(e.code,{children:"liang"})," \u8DF3\u8FC7\u4E86\u3002"]}),"\n",(0,i.jsxs)(e.h1,{id:"\u603B",children:["\u603B",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u603B",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"\u8FED\u4EE3\u5668\u6A21\u5F0F\u7684\u597D\u5904\u5C31\u662F\u53EF\u4EE5\u4E0D\u77E5\u9053\u5BB9\u5668\u4E2D\u5143\u7D20\u7684\u7ED3\u6784\u5C31\u53EF\u4EE5\u904D\u5386\uFF0C\u4E00\u822C\u7531\u5BB9\u5668\u63D0\u4F9B\u4E00\u4E2A\u8FED\u4EE3\u5668\u4F9B\u6211\u4EEC\u4F7F\u7528\u3002\u4E3A\u4E86\u5B9E\u73B0\u4E0D\u540C\u7684\u904D\u5386\u987A\u5E8F\uFF0C\u53EA\u9700\u8981\u63D0\u4F9B\u65B0\u7684\u8FED\u4EE3\u5668\u5373\u53EF\u3002"}),"\n",(0,i.jsxs)(e.p,{children:["\u4E00\u822C\u7F16\u7A0B\u8BED\u8A00\u4E2D\u90FD\u5185\u7F6E\u4E86\u8FED\u4EE3\u5668\uFF0C",(0,i.jsx)(e.code,{children:"js"})," \u4E5F\u4E0D\u4F8B\u5916\uFF0C\u5728 ",(0,i.jsx)(e.code,{children:"Array"}),"\u3001",(0,i.jsx)(e.code,{children:"String"}),"\u3001",(0,i.jsx)(e.code,{children:"Map"}),"\u3001",(0,i.jsx)(e.code,{children:"Set"})," \u4E2D\u90FD\u5185\u7F6E\u4E86",(0,i.jsx)(e.code,{children:"Symbol.iterator"})," \u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\u8FED\u4EE3\u5668\u5BF9\u8C61\uFF0C\u540C\u65F6\u63D0\u4F9B\u4E86",(0,i.jsx)(e.code,{children:"for...of..."})," \u8BED\u6CD5\u7EDF\u4E00\u4E86\u5404\u4E2A\u5BF9\u8C61\u7684\u904D\u5386\u65B9\u5F0F\u3002"]})]})}function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,a.ah)(),n.components);return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(s,{...n})}):s(n)}e.default=t,t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["posts%2FdesignPattern%2FiteratorPattern.md"]={toc:[],title:"\u8FED\u4EE3\u5668\u6A21\u5F0F",frontmatter:{title:"\u8FED\u4EE3\u5668\u6A21\u5F0F",category:["\u8BBE\u8BA1\u6A21\u5F0F","frontend"],tag:["\u8BBE\u8BA1\u6A21\u5F0F","frontend"],author:"h7ml",image:"https://www.h7ml.cn/logo.png",banner:"https://www.h7ml.cn/logo.png",date:"2022-02-26T09:09:00.000Z"}}}}]);