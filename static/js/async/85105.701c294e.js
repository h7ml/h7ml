/*! For license information please see 85105.701c294e.js.LICENSE.txt */
(self.webpackChunkh7ml=self.webpackChunkh7ml||[]).push([["85105"],{18152:function(e,t,n){"use strict";n.r(t);var a=n("52676"),s=n("40453");function r(e){let t=Object.assign({h1:"h1",a:"a",pre:"pre",code:"code"},(0,s.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.h1,{id:"javascript-ajax-\u5C01\u88C5",children:["JavaScript ajax \u5C01\u88C5",(0,a.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#javascript-ajax-\u5C01\u88C5",children:"#"})]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"function ajax(setting) {\n  const ajax = new XMLHttpRequest()\n  // \u9ED8\u8BA4 get\n  if (!setting.method)\n    setting.method = 'get'\n\n  // \u7EC4\u5408data\u67E5\u8BE2\u6570\u636E\n  if (setting.data)\n    setting.data = getSearch(setting.data)\n  else\n    setting.data = ''\n\n  if (setting.method.toLowerCase() == 'get') {\n    ajax.open('get', `${setting.url}?${setting.data}`, true)\n    ajax.send()\n  }\n  else if (setting.method.toLowerCase() == 'post') {\n    ajax.open('post', setting.url, true)\n    ajax.setRequestHeader('Content-type', 'appliction/x-www-form-urlencoded')\n    ajax.send(setting.data)\n  }\n\n  ajax.onreadystatechange = function () {\n    if (ajax.readyState == 4) {\n      if (ajax.status == 200)\n        setting.success(ajax.responseText)\n      else\n        console.log(`Error:${ajax.status}`)\n    }\n  }\n}\n\n// \u62FC\u63A5\u5B57\u7B26\u4E32\nfunction getSearch(obj) {\n  let str = ''\n  for (const key in obj)\n    str += `${key}=${obj[key]}&`\n\n  return str.slice(0, str.length - 1)\n}\n"})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,s.ah)(),e.components);return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(r,{...e})}):r(e)}t.default=i,i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["posts%2Fhtml%2Fajax%2Fajax%E5%B0%81%E8%A3%85.md"]={toc:[],title:"JavaScript ajax \u5C01\u88C5",frontmatter:{}}}}]);