/*! For license information please see 29302.eb964efc.js.LICENSE.txt */
(self.webpackChunkh7ml=self.webpackChunkh7ml||[]).push([["29302"],{44966:function(e,n,r){"use strict";r.r(n);var s=r("52676"),t=r("40453");function c(e){let n=Object.assign({h1:"h1",a:"a",p:"p",img:"img",h2:"h2",code:"code",strong:"strong",ul:"ul",li:"li",pre:"pre"},(0,t.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"\u8BF4\u8BF4\u4F60\u5728-react-\u9879\u76EE\u662F\u5982\u4F55\u6355\u83B7\u9519\u8BEF\u7684",children:["\u8BF4\u8BF4\u4F60\u5728 React \u9879\u76EE\u662F\u5982\u4F55\u6355\u83B7\u9519\u8BEF\u7684\uFF1F",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8BF4\u8BF4\u4F60\u5728-react-\u9879\u76EE\u662F\u5982\u4F55\u6355\u83B7\u9519\u8BEF\u7684",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://nakoruru.h7ml.cn/httpproxy/static.5ibug.net/vitepress/assets/images/interview/8db1b5c0-f288-11eb-85f6-6fac77c0c9b3.png",alt:""})}),"\n",(0,s.jsxs)(n.h2,{id:"\u4E00\u662F\u4EC0\u4E48",children:["\u4E00\u3001\u662F\u4EC0\u4E48",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E00\u662F\u4EC0\u4E48",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"\u9519\u8BEF\u5728\u6211\u4EEC\u65E5\u5E38\u7F16\u5199\u4EE3\u7801\u662F\u975E\u5E38\u5E38\u89C1\u7684"}),"\n",(0,s.jsxs)(n.p,{children:["\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u5728",(0,s.jsx)(n.code,{children:"react"}),"\u9879\u76EE\u4E2D\u53BB\u7F16\u5199\u7EC4\u4EF6\u5185",(0,s.jsx)(n.code,{children:"JavaScript"}),"\u4EE3\u7801\u9519\u8BEF\u4F1A\u5BFC\u81F4 ",(0,s.jsx)(n.code,{children:"React"})," \u7684\u5185\u90E8\u72B6\u6001\u88AB\u7834\u574F\uFF0C\u5BFC\u81F4\u6574\u4E2A\u5E94\u7528\u5D29\u6E83\uFF0C\u8FD9\u662F\u4E0D\u5E94\u8BE5\u51FA\u73B0\u7684\u73B0\u8C61"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4F5C\u4E3A\u4E00\u4E2A\u6846\u67B6\uFF0C",(0,s.jsx)(n.code,{children:"react"}),"\u4E5F\u6709\u81EA\u8EAB\u5BF9\u4E8E\u9519\u8BEF\u7684\u5904\u7406\u7684\u89E3\u51B3\u65B9\u6848"]}),"\n",(0,s.jsxs)(n.h2,{id:"\u4E8C\u5982\u4F55\u505A",children:["\u4E8C\u3001\u5982\u4F55\u505A",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E8C\u5982\u4F55\u505A",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["\u4E3A\u4E86\u89E3\u51B3\u51FA\u73B0\u7684\u9519\u8BEF\u5BFC\u81F4\u6574\u4E2A\u5E94\u7528\u5D29\u6E83\u7684\u95EE\u9898\uFF0C",(0,s.jsx)(n.code,{children:"react16"}),"\u5F15\u7528\u4E86",(0,s.jsx)(n.strong,{children:"\u9519\u8BEF\u8FB9\u754C"}),"\u65B0\u7684\u6982\u5FF5"]}),"\n",(0,s.jsxs)(n.p,{children:["\u9519\u8BEF\u8FB9\u754C\u662F\u4E00\u79CD ",(0,s.jsx)(n.code,{children:"React"})," \u7EC4\u4EF6\uFF0C\u8FD9\u79CD\u7EC4\u4EF6\u53EF\u4EE5\u6355\u83B7\u53D1\u751F\u5728\u5176\u5B50\u7EC4\u4EF6\u6811\u4EFB\u4F55\u4F4D\u7F6E\u7684 ",(0,s.jsx)(n.code,{children:"JavaScript"})," \u9519\u8BEF\uFF0C\u5E76\u6253\u5370\u8FD9\u4E9B\u9519\u8BEF\uFF0C\u540C\u65F6\u5C55\u793A\u964D\u7EA7 ",(0,s.jsx)(n.code,{children:"UI"}),"\uFF0C\u800C\u5E76\u4E0D\u4F1A\u6E32\u67D3\u90A3\u4E9B\u53D1\u751F\u5D29\u6E83\u7684\u5B50\u7EC4\u4EF6\u6811"]}),"\n",(0,s.jsx)(n.p,{children:"\u9519\u8BEF\u8FB9\u754C\u5728\u6E32\u67D3\u671F\u95F4\u3001\u751F\u547D\u5468\u671F\u65B9\u6CD5\u548C\u6574\u4E2A\u7EC4\u4EF6\u6811\u7684\u6784\u9020\u51FD\u6570\u4E2D\u6355\u83B7\u9519\u8BEF"}),"\n",(0,s.jsx)(n.p,{children:"\u5F62\u6210\u9519\u8BEF\u8FB9\u754C\u7EC4\u4EF6\u7684\u4E24\u4E2A\u6761\u4EF6\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4F7F\u7528\u4E86 static getDerivedStateFromError()"}),"\n",(0,s.jsx)(n.li,{children:"\u4F7F\u7528\u4E86 componentDidCatch()"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u629B\u51FA\u9519\u8BEF\u540E\uFF0C\u8BF7\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"static getDerivedStateFromError()"})," \u6E32\u67D3\u5907\u7528 UI \uFF0C\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"componentDidCatch()"})," \u6253\u5370\u9519\u8BEF\u4FE1\u606F\uFF0C\u5982\u4E0B\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // \u66F4\u65B0 state \u4F7F\u4E0B\u4E00\u6B21\u6E32\u67D3\u80FD\u591F\u663E\u793A\u964D\u7EA7\u540E\u7684 UI\n    return { hasError: true }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // \u4F60\u540C\u6837\u53EF\u4EE5\u5C06\u9519\u8BEF\u65E5\u5FD7\u4E0A\u62A5\u7ED9\u670D\u52A1\u5668\n    logErrorToMyService(error, errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // \u4F60\u53EF\u4EE5\u81EA\u5B9A\u4E49\u964D\u7EA7\u540E\u7684 UI \u5E76\u6E32\u67D3\n      return <h1>Something went wrong.</h1>\n    }\n\n    return this.props.children\n  }\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u540E\u5C31\u53EF\u4EE5\u628A\u81EA\u8EAB\u7EC4\u4EF6\u7684\u4F5C\u4E3A\u9519\u8BEF\u8FB9\u754C\u7684\u5B50\u7EC4\u4EF6\uFF0C\u5982\u4E0B\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"<ErrorBoundary>\n  <MyWidget />\n</ErrorBoundary>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4E0B\u9762\u8FD9\u4E9B\u60C5\u51B5\u65E0\u6CD5\u6355\u83B7\u5230\u5F02\u5E38\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4E8B\u4EF6\u5904\u7406"}),"\n",(0,s.jsx)(n.li,{children:"\u5F02\u6B65\u4EE3\u7801"}),"\n",(0,s.jsx)(n.li,{children:"\u670D\u52A1\u7AEF\u6E32\u67D3"}),"\n",(0,s.jsx)(n.li,{children:"\u81EA\u8EAB\u629B\u51FA\u6765\u7684\u9519\u8BEF"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5728",(0,s.jsx)(n.code,{children:"react 16"}),"\u7248\u672C\u4E4B\u540E\uFF0C\u4F1A\u628A\u6E32\u67D3\u671F\u95F4\u53D1\u751F\u7684\u6240\u6709\u9519\u8BEF\u6253\u5370\u5230\u63A7\u5236\u53F0"]}),"\n",(0,s.jsx)(n.p,{children:"\u9664\u4E86\u9519\u8BEF\u4FE1\u606F\u548C JavaScript \u6808\u5916\uFF0CReact 16 \u8FD8\u63D0\u4F9B\u4E86\u7EC4\u4EF6\u6808\u8FFD\u8E2A\u3002\u73B0\u5728\u4F60\u53EF\u4EE5\u51C6\u786E\u5730\u67E5\u770B\u53D1\u751F\u5728\u7EC4\u4EF6\u6811\u5185\u7684\u9519\u8BEF\u4FE1\u606F\uFF1A"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://nakoruru.h7ml.cn/httpproxy/static.5ibug.net/vitepress/assets/images/interview/7b2b51d0-f289-11eb-ab90-d9ae814b240d.png",alt:""})}),"\n",(0,s.jsx)(n.p,{children:"\u53EF\u4EE5\u770B\u5230\u5728\u9519\u8BEF\u4FE1\u606F\u4E0B\u65B9\u6587\u5B57\u4E2D\u5B58\u5728\u4E00\u4E2A\u7EC4\u4EF6\u6808\uFF0C\u4FBF\u4E8E\u6211\u4EEC\u8FFD\u8E2A\u9519\u8BEF"}),"\n",(0,s.jsx)(n.p,{children:"\u5BF9\u4E8E\u9519\u8BEF\u8FB9\u754C\u65E0\u6CD5\u6355\u83B7\u7684\u5F02\u5E38\uFF0C\u5982\u4E8B\u4EF6\u5904\u7406\u8FC7\u7A0B\u4E2D\u53D1\u751F\u95EE\u9898\u5E76\u4E0D\u4F1A\u6355\u83B7\u5230\uFF0C\u662F\u56E0\u4E3A\u5176\u4E0D\u4F1A\u5728\u6E32\u67D3\u671F\u95F4\u89E6\u53D1\uFF0C\u5E76\u4E0D\u4F1A\u5BFC\u81F4\u6E32\u67D3\u65F6\u5019\u95EE\u9898"}),"\n",(0,s.jsxs)(n.p,{children:["\u8FD9\u79CD\u60C5\u51B5\u53EF\u4EE5\u4F7F\u7528",(0,s.jsx)(n.code,{children:"js"}),"\u7684",(0,s.jsx)(n.code,{children:"try...catch..."}),"\u8BED\u6CD5\uFF0C\u5982\u4E0B\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"class MyComponent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { error: null }\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handleClick() {\n    try {\n      // \u6267\u884C\u64CD\u4F5C\uFF0C\u5982\u6709\u9519\u8BEF\u5219\u4F1A\u629B\u51FA\n    }\n    catch (error) {\n      this.setState({ error })\n    }\n  }\n\n  render() {\n    if (this.state.error)\n      return <h1>Caught an error.</h1>\n\n    return <button onClick={this.handleClick}>Click Me</button>\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u9664\u6B64\u4E4B\u5916\u8FD8\u53EF\u4EE5\u901A\u8FC7\u76D1\u542C",(0,s.jsx)(n.code,{children:"onerror"}),"\u4E8B\u4EF6"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"window.addEventListener('error', function(event) { ... })\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"\u53C2\u8003\u6587\u732E",children:["\u53C2\u8003\u6587\u732E",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u53C2\u8003\u6587\u732E",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://zh-hans.reactjs.org/docs/error-boundaries.html",target:"_blank",rel:"noopener noreferrer",children:"https://zh-hans.reactjs.org/docs/error-boundaries.html"})}),"\n"]})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}n.default=i,i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["interview%2FReact%2Fcapture_error.md"]={toc:[{text:"\u4E00\u3001\u662F\u4EC0\u4E48",id:"\u4E00\u662F\u4EC0\u4E48",depth:2},{text:"\u4E8C\u3001\u5982\u4F55\u505A",id:"\u4E8C\u5982\u4F55\u505A",depth:2},{text:"\u53C2\u8003\u6587\u732E",id:"\u53C2\u8003\u6587\u732E",depth:2}],title:"\u8BF4\u8BF4\u4F60\u5728 React \u9879\u76EE\u662F\u5982\u4F55\u6355\u83B7\u9519\u8BEF\u7684\uFF1F",frontmatter:{icon:"question",description:"\u524D\u7AEF\u7269\u8BED|\u9762\u8BD5\u7269\u8BED-\u8BF4\u8BF4\u4F60\u5728 React \u9879\u76EE\u662F\u5982\u4F55\u6355\u83B7\u9519\u8BEF\u7684\uFF1F",footer:"\u8BF4\u8BF4\u4F60\u5728 React \u9879\u76EE\u662F\u5982\u4F55\u6355\u83B7\u9519\u8BEF\u7684\uFF1F",order:27,star:27,date:"2023-04-14T00:00:00.000Z",author:"h7ml",image:"https://www.h7ml.cn/logo.png",banner:"https://www.h7ml.cn/logo.png",category:["interview","React"],tag:["interview","React"],shortTitle:"\u524D\u7AEF\u7269\u8BED|\u9762\u8BD5\u7269\u8BED-\u8BF4\u8BF4\u4F60\u5728 React \u9879\u76EE\u662F\u5982\u4F55\u6355\u83B7\u9519\u8BEF\u7684\uFF1F",isOriginal:!1,head:[["meta",{name:"keywords",content:"\u8BF4\u8BF4\u4F60\u5728 React \u9879\u76EE\u662F\u5982\u4F55\u6355\u83B7\u9519\u8BEF\u7684\uFF1F"}]]}}}}]);