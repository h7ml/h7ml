/*! For license information please see 58099.98d75a2e.js.LICENSE.txt */
(self.webpackChunkh7ml=self.webpackChunkh7ml||[]).push([["58099"],{27347:function(e,n,r){"use strict";r.r(n);var d=r("52676"),s=r("40453");function c(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",h3:"h3",blockquote:"blockquote",p:"p",h4:"h4",strong:"strong",code:"code",h5:"h5",ul:"ul",li:"li",pre:"pre",ol:"ol"},(0,s.ah)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.h1,{id:"docker",children:["docker",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#docker",children:"#"})]}),"\n",(0,d.jsxs)(n.h2,{id:"\u6982\u5FF5",children:["\u6982\u5FF5",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6982\u5FF5",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"docker-\u7684\u6838\u5FC3\u56DB\u5927\u7EC4\u6210\u5BF9\u8C61",children:["Docker \u7684\u6838\u5FC3\u56DB\u5927\u7EC4\u6210\u5BF9\u8C61",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#docker-\u7684\u6838\u5FC3\u56DB\u5927\u7EC4\u6210\u5BF9\u8C61",children:"#"})]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"\u955C\u50CF ( Image )\u3001\u5BB9\u5668 ( Container )\u3001\u7F51\u7EDC ( Network )\u3001\u6570\u636E\u5377 ( Volume )"}),"\n"]}),"\n",(0,d.jsxs)(n.h4,{id:"\u955C\u50CF",children:["\u955C\u50CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u955C\u50CF",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u6240\u8C13\u955C\u50CF\uFF0C\u53EF\u4EE5\u7406\u89E3\u4E3A\u4E00\u4E2A\u53EA\u8BFB\u7684\u6587\u4EF6\u5305\uFF0C\u5176\u4E2D\u5305\u542B\u4E86",(0,d.jsx)(n.strong,{children:"\u865A\u62DF\u73AF\u5883\u8FD0\u884C\u6700\u539F\u59CB\u6587\u4EF6\u7CFB\u7EDF\u7684\u5185\u5BB9"}),"\u3002"]}),"\n",(0,d.jsx)(n.p,{children:"\u6BCF\u6B21\u5BF9\u955C\u50CF\u5185\u5BB9\u7684\u4FEE\u6539\uFF0CDocker \u90FD\u4F1A\u5C06\u8FD9\u4E9B\u4FEE\u6539\u94F8\u9020\u6210\u4E00\u4E2A\u955C\u50CF\u5C42\uFF0C\u800C\u4E00\u4E2A\u955C\u50CF\u5176\u5B9E\u5C31\u662F\u7531\u5176\u4E0B\u5C42\u6240\u6709\u7684\u955C\u50CF\u5C42\u6240\u7EC4\u6210\u7684\u3002\u5F53\u7136\uFF0C\u6BCF\u4E00\u4E2A\u955C\u50CF\u5C42\u5355\u72EC\u62FF\u51FA\u6765\uFF0C\u4E0E\u5B83\u4E4B\u4E0B\u7684\u955C\u50CF\u5C42\u90FD\u53EF\u4EE5\u7EC4\u6210\u4E00\u4E2A\u955C\u50CF\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u53E6\u5916\uFF0C\u7531\u4E8E\u8FD9\u79CD\u7ED3\u6784\uFF0CDocker \u7684\u955C\u50CF\u5B9E\u8D28\u4E0A\u662F\u65E0\u6CD5\u88AB\u4FEE\u6539\u7684\uFF0C\u56E0\u4E3A\u6240\u6709\u5BF9\u955C\u50CF\u7684\u4FEE\u6539\u53EA\u4F1A\u4EA7\u751F\u65B0\u7684\u955C\u50CF\uFF0C\u800C\u4E0D\u662F\u66F4\u65B0\u539F\u6709\u7684\u955C\u50CF\u3002"}),"\n",(0,d.jsxs)(n.p,{children:["\u7C7B\u4F3C",(0,d.jsx)(n.code,{children:"git"}),"\uFF0C\u589E\u91CF\u8BB0\u5F55\u6587\u4EF6\u53D8\u66F4\u3002"]}),"\n",(0,d.jsxs)(n.h5,{id:"\u955C\u50CF\u547D\u540D",children:["\u955C\u50CF\u547D\u540D",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u955C\u50CF\u547D\u540D",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u51C6\u786E\u7684\u6765\u8BF4\uFF0C\u955C\u50CF\u7684\u547D\u540D\u6211\u4EEC\u53EF\u4EE5\u5206\u6210\u4E09\u4E2A\u90E8\u5206\uFF1Ausername\u3001repository \u548C tag\u3002"}),"\n",(0,d.jsxs)(n.p,{children:["username\uFF1A \u4E3B\u8981\u7528\u4E8E\u8BC6\u522B\u4E0A\u4F20\u955C\u50CF\u7684\u4E0D\u540C\u7528\u6237\uFF0C\u4E0E GitHub \u4E2D\u7684\u7528\u6237\u7A7A\u95F4\u7C7B\u4F3C\u3002\u5BF9\u4E8E username \u6765\u8BF4\uFF0C\u5728\u4E0A\u9762\u6211\u4EEC\u5C55\u793A\u7684 docker images \u7ED3\u679C\u4E2D\uFF0C\u6709\u7684\u955C\u50CF\u6709 username \u8FD9\u4E2A\u90E8\u5206\uFF0C\u800C\u6709\u7684\u955C\u50CF\u662F\u6CA1\u6709\u7684\u3002\u6CA1\u6709 username \u8FD9\u4E2A\u90E8\u5206\u7684\u955C\u50CF\uFF0C\u8868\u793A\u955C\u50CF\u662F\u7531 Docker \u5B98\u65B9\u6240\u7EF4\u62A4\u548C\u63D0\u4F9B\u7684\uFF0C\u6240\u4EE5\u5C31\u4E0D\u5355\u72EC\u6807\u8BB0\u7528\u6237\u4E86\u3002 ",(0,d.jsx)(n.strong,{children:"repository"}),"\uFF1A\u4E3B\u8981\u7528\u4E8E\u8BC6\u522B\u8FDB\u884C\u7684\u5185\u5BB9\uFF0C\u5F62\u6210\u5BF9\u955C\u50CF\u7684\u8868\u610F\u63CF\u8FF0\u3002Docker \u4E2D\u955C\u50CF\u7684 repository \u90E8\u5206\u901A\u5E38\u91C7\u7528\u7684\u662F\u8F6F\u4EF6\u540D\uFF0C\u53EF\u4EE5\u4EFB\u610F\u53D6\u540D\uFF0C\u7528\u8F6F\u4EF6\u540D\uFF0C\u53EA\u662F\u4E3A\u4E86\u66F4\u6613\u793A\u610F\u3002 tag\uFF1A\u4E3B\u8981\u7528\u6237\u8868\u793A\u955C\u50CF\u7684\u7248\u672C\uFF0C\u65B9\u4FBF\u533A\u5206\u8FDB\u884C\u5185\u5BB9\u7684\u4E0D\u540C\u7EC6\u8282\u3002"]}),"\n",(0,d.jsxs)(n.h4,{id:"\u5BB9\u5668",children:["\u5BB9\u5668",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5BB9\u5668",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u5BB9\u5668\u5C31\u662F\u7528\u6765\u9694\u79BB\u865A\u62DF\u73AF\u5883\u7684\u57FA\u7840\u8BBE\u65BD\uFF0C\u800C\u5728 Docker \u91CC\uFF0C\u5B83\u4E5F\u88AB\u5F15\u7533\u4E3A",(0,d.jsx)(n.strong,{children:"\u9694\u79BB\u51FA\u6765\u7684\u865A\u62DF\u73AF\u5883"}),"\u3002\u901A\u8FC7 PID \u8FDB\u7A0B\u9694\u79BB\uFF0C\u5BB9\u5668\u4E2D\u7684\u4E3B\u8FDB\u7A0B\u5C31\u662F\u5BB9\u5668\u672C\u8EAB\uFF0C\u6740\u6389\u5BB9\u5668\u4E2D\u7684\u4E3B\u8FDB\u7A0B\uFF0C\u76F8\u5F53\u4E8E\u6740\u6389\u4E86\u5BB9\u5668\u3002"]}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u628A\u955C\u50CF\u7406\u89E3\u4E3A\u7F16\u7A0B\u4E2D\u7684\u7C7B\uFF0C\u90A3\u4E48\u5BB9\u5668\u5C31\u53EF\u4EE5\u7406\u89E3\u4E3A\u7C7B\u7684\u5B9E\u4F8B\u3002\u955C\u50CF\u5185\u5B58\u653E\u7684\u662F\u4E0D\u53EF\u53D8\u5316\u7684\u4E1C\u897F\uFF0C\u5F53\u4EE5\u5B83\u4EEC\u4E3A\u57FA\u7840\u7684\u5BB9\u5668\u542F\u52A8\u540E\uFF0C\u5BB9\u5668\u5185\u4E5F\u5C31\u6210\u4E3A\u4E86\u4E00\u4E2A\u201C\u6D3B\u201D\u7684\u7A7A\u95F4\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u7528\u66F4\u5B98\u65B9\u7684\u5B9A\u4E49\uFF0CDocker \u7684\u5BB9\u5668\u5E94\u8BE5\u6709\u4E09\u9879\u5185\u5BB9\u7EC4\u6210\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4E00\u4E2A Docker \u955C\u50CF"}),"\n",(0,d.jsx)(n.li,{children:"\u4E00\u4E2A\u7A0B\u5E8F\u8FD0\u884C\u73AF\u5883"}),"\n",(0,d.jsx)(n.li,{children:"\u4E00\u4E2A\u6307\u4EE4\u96C6\u5408"}),"\n"]}),"\n",(0,d.jsxs)(n.h5,{id:"\u5BB9\u5668\u751F\u547D\u5468\u671F",children:["\u5BB9\u5668\u751F\u547D\u5468\u671F",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5BB9\u5668\u751F\u547D\u5468\u671F",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"Created\u3001Running\u3001Paused\u3001Stopped\u3001Deleted"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Created\uFF1A\u5BB9\u5668\u5DF2\u7ECF\u88AB\u521B\u5EFA\uFF0C\u5BB9\u5668\u6240\u9700\u7684\u76F8\u5173\u8D44\u6E90\u5DF2\u7ECF\u51C6\u5907\u5C31\u7EEA\uFF0C\u4F46\u5BB9\u5668\u4E2D\u7684\u7A0B\u5E8F\u8FD8\u672A\u5904\u4E8E\u8FD0\u884C\u72B6\u6001\u3002"}),"\n",(0,d.jsx)(n.li,{children:"Running\uFF1A\u5BB9\u5668\u6B63\u5728\u8FD0\u884C\uFF0C\u4E5F\u5C31\u662F\u5BB9\u5668\u4E2D\u7684\u5E94\u7528\u6B63\u5728\u8FD0\u884C\u3002"}),"\n",(0,d.jsx)(n.li,{children:"Paused\uFF1A\u5BB9\u5668\u5DF2\u6682\u505C\uFF0C\u8868\u793A\u5BB9\u5668\u4E2D\u7684\u6240\u6709\u7A0B\u5E8F\u90FD\u5904\u4E8E\u6682\u505C ( \u4E0D\u662F\u505C\u6B62 ) \u72B6\u6001\u3002"}),"\n",(0,d.jsx)(n.li,{children:"Stopped\uFF1A\u5BB9\u5668\u5904\u4E8E\u505C\u6B62\u72B6\u6001\uFF0C\u5360\u7528\u7684\u8D44\u6E90\u548C\u6C99\u76D2\u73AF\u5883\u90FD\u4F9D\u7136\u5B58\u5728\uFF0C\u53EA\u662F\u5BB9\u5668\u4E2D\u7684\u5E94\u7528\u7A0B\u5E8F\u5747\u5DF2\u505C\u6B62\u3002"}),"\n",(0,d.jsx)(n.li,{children:"Deleted\uFF1A\u5BB9\u5668\u5DF2\u5220\u9664\uFF0C\u76F8\u5173\u5360\u7528\u7684\u8D44\u6E90\u53CA\u5B58\u50A8\u5728 Docker \u4E2D\u7684\u7BA1\u7406\u4FE1\u606F\u4E5F\u90FD\u5DF2\u91CA\u653E\u548C\u79FB\u9664\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.h5,{id:"\u5199\u65F6\u590D\u5236\u673A\u5236",children:["\u5199\u65F6\u590D\u5236\u673A\u5236",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5199\u65F6\u590D\u5236\u673A\u5236",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"Docker \u7684\u5199\u65F6\u590D\u5236\u4E0E\u7F16\u7A0B\u4E2D\u7684\u76F8\u7C7B\u4F3C\uFF0C\u4E5F\u5C31\u662F\u5728\u901A\u8FC7\u955C\u50CF\u8FD0\u884C\u5BB9\u5668\u65F6\uFF0C\u5E76\u4E0D\u662F\u9A6C\u4E0A\u5C31\u628A\u955C\u50CF\u91CC\u7684\u6240\u6709\u5185\u5BB9\u62F7\u8D1D\u5230\u5BB9\u5668\u6240\u8FD0\u884C\u7684\u6C99\u76D2\u6587\u4EF6\u7CFB\u7EDF\u4E2D\uFF0C\u800C\u662F\u5229\u7528 UnionFS \u5C06\u955C\u50CF\u4EE5\u53EA\u8BFB\u7684\u65B9\u5F0F\u6302\u8F7D\u5230\u6C99\u76D2\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u3002\u53EA\u6709\u5728\u5BB9\u5668\u4E2D\u53D1\u751F\u5BF9\u6587\u4EF6\u7684\u4FEE\u6539\u65F6\uFF0C\u4FEE\u6539\u624D\u4F1A\u4F53\u73B0\u5230\u6C99\u76D2\u73AF\u5883\u4E0A\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5BB9\u5668\u5728\u521B\u5EFA\u548C\u542F\u52A8\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u4E0D\u9700\u8981\u8FDB\u884C\u4EFB\u4F55\u7684\u6587\u4EF6\u7CFB\u7EDF\u590D\u5236\u64CD\u4F5C\uFF0C\u4E5F\u4E0D\u9700\u8981\u4E3A\u5BB9\u5668\u5355\u72EC\u5F00\u8F9F\u5927\u91CF\u7684\u786C\u76D8\u7A7A\u95F4\uFF0C\u4E0E\u5176\u4ED6\u865A\u62DF\u5316\u65B9\u5F0F\u5BF9\u8FD9\u4E2A\u8FC7\u7A0B\u7684\u64CD\u4F5C\u8FDB\u884C\u5BF9\u6BD4\uFF0CDocker \u542F\u52A8\u7684\u901F\u5EA6\u53EF\u89C1\u4E00\u6591\u3002"}),"\n",(0,d.jsxs)(n.h5,{id:"\u5BB9\u5668\u4E92\u8054",children:["\u5BB9\u5668\u4E92\u8054",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5BB9\u5668\u4E92\u8054",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u7531\u4E8E Docker \u63D0\u5021\u5BB9\u5668\u4E0E\u5E94\u7528\u5171\u751F\u7684\u8F7B\u91CF\u7EA7\u5BB9\u5668\u7406\u5FF5\uFF0C\u6240\u4EE5\u5BB9\u5668\u4E2D\u901A\u5E38\u53EA\u5305\u542B\u4E00\u79CD\u5E94\u7528\u7A0B\u5E8F\uFF0C\u4F46\u6211\u4EEC\u77E5\u9053\uFF0C\u5982\u4ECA\u7EB7\u7E41\u7684\u7CFB\u7EDF\u670D\u52A1\uFF0C\u6CA1\u6709\u51E0\u4E2A\u662F\u53EF\u4EE5\u901A\u8FC7\u5355\u4E00\u7684\u5E94\u7528\u7A0B\u5E8F\u652F\u6491\u7684\u3002\u62FF\u6700\u7B80\u5355\u7684 Web \u5E94\u7528\u4E3A\u4F8B\uFF0C\u4E5F\u81F3\u5C11\u9700\u8981\u4E1A\u52A1\u5E94\u7528\u3001\u6570\u636E\u5E93\u5E94\u7528\u3001\u7F13\u5B58\u5E94\u7528\u7B49\u7EC4\u6210\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5728 Docker \u91CC\u6211\u4EEC\u9700\u8981\u901A\u8FC7\u591A\u4E2A\u5BB9\u5668\u6765\u7EC4\u6210\u8FD9\u6837\u7684\u7CFB\u7EDF\u3002"}),"\n",(0,d.jsxs)(n.h5,{id:"\u955C\u50CF-vs-\u5BB9\u5668",children:["\u955C\u50CF vs \u5BB9\u5668",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u955C\u50CF-vs-\u5BB9\u5668",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u955C\u50CF\u50CF\u662F\u8BB0\u5F55\u5BB9\u5668\u8FD0\u884C\u73AF\u5883\u7684\u6A21\u677F\uFF0C\u662F\u53EA\u8BFB\u7684\uFF0Cdocker \u4F9D\u7167\u8FD9\u4E2A\u6A21\u677F\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\uFF0C\u5BB9\u5668\u542F\u52A8\u8FD0\u884C\u65F6\u662F\u6309\u9700\u4ECE\u955C\u50CF\u6A21\u677F\u91CC\u62FF\u53D6\u4F9D\u8D56\uFF08\u5199\u65F6\u590D\u5236\uFF09\u80AF\u5B9A\u662F\u5148\u6709\u6A21\u677F\u624D\u80FD\u4F9D\u7167\u6A21\u677F\u542F\u52A8\u5BB9\u5668\uFF01\u6CA1\u6709\u955C\u50CF\uFF0C\u5BB9\u5668\u5C31\u662F\u65E0\u6E90\u4E4B\u6C34\u3002\u955C\u50CF\u50CF\u7C7B\uFF0C\u5BB9\u5668\u50CF\u7C7B\u7684\u5B9E\u4F8B\u3002\u6216\u8005\u8BF4\uFF0C\u955C\u50CF\u662F\u7A0B\u5E8F\u662F\u6B7B\u7684\uFF0C\u5BB9\u5668\u662F\u8FD0\u884C\u7684\u8FDB\u7A0B\uFF0C\u662F\u6D3B\u7684\u3002"}),"\n",(0,d.jsxs)(n.h4,{id:"\u7F51\u7EDC",children:["\u7F51\u7EDC",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7F51\u7EDC",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u7F51\u7EDC\u901A\u8BAF\u662F\u76EE\u524D\u6700\u5E38\u7528\u7684\u4E00\u79CD\u7A0B\u5E8F\u95F4\u7684\u6570\u636E\u4EA4\u6362\u65B9\u5F0F\uFF0C\u6240\u6709\u7684\u5E94\u7528\u90FD\u53EF\u4EE5\u901A\u8FC7\u7F51\u7EDC\u5728\u4E0D\u540C\u7684\u786C\u4EF6\u5E73\u53F0\u6216\u64CD\u4F5C\u7CFB\u7EDF\u5E73\u53F0\u4E0A\u8FDB\u884C\u6570\u636E\u4EA4\u4E92\u3002"}),"\n",(0,d.jsx)(n.p,{children:"docker \u5BB9\u5668\u95F4\u5EFA\u7ACB\u865A\u62DF\u7F51\u7EDC\uFF0C\u5C06\u6570\u4E2A\u5BB9\u5668\u5305\u88F9\u5176\u4E2D\uFF0C\u540C\u65F6\u4E0E\u5176\u4ED6\u7F51\u7EDC\u73AF\u5883\u9694\u79BB\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728 Docker \u7F51\u7EDC\u4E2D\uFF0C\u6709\u4E09\u4E2A\u6BD4\u8F83\u6838\u5FC3\u7684\u6982\u5FF5\uFF0C\u4E5F\u5C31\u662F\uFF1A\u6C99\u76D2 ( Sandbox )\u3001\u7F51\u7EDC ( Network )\u3001\u7AEF\u70B9 ( Endpoint )\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u6C99\u76D2\u63D0\u4F9B\u4E86\u5BB9\u5668\u7684\u865A\u62DF\u7F51\u7EDC\u6808\uFF0C\u4E5F\u5C31\u662F\u4E4B\u524D\u6240\u63D0\u5230\u7684\u7AEF\u53E3\u5957\u63A5\u5B57\u3001IP \u8DEF\u7531\u8868\u3001\u9632\u706B\u5899\u7B49\u7684\u5185\u5BB9\u3002\u5176\u5B9E\u73B0\u9694\u79BB\u4E86\u5BB9\u5668\u7F51\u7EDC\u4E0E\u5BBF\u4E3B\u673A\u7F51\u7EDC\uFF0C\u5F62\u6210\u4E86\u5B8C\u5168\u72EC\u7ACB\u7684\u5BB9\u5668\u7F51\u7EDC\u73AF\u5883\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u7F51\u7EDC\u53EF\u4EE5\u7406\u89E3\u4E3A Docker \u5185\u90E8\u7684\u865A\u62DF\u5B50\u7F51\uFF0C\u7F51\u7EDC\u5185\u7684\u53C2\u4E0E\u8005\u76F8\u4E92\u53EF\u89C1\u5E76\u80FD\u591F\u8FDB\u884C\u901A\u8BAF\u3002Docker \u7684\u8FD9\u79CD\u865A\u62DF\u7F51\u7EDC\u4E5F\u662F\u4E8E\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5B58\u5728\u9694\u79BB\u5173\u7CFB\u7684\uFF0C\u5176\u76EE\u7684\u4E3B\u8981\u662F\u5F62\u6210\u5BB9\u5668\u95F4\u7684\u5B89\u5168\u901A\u8BAF\u73AF\u5883\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u7AEF\u70B9\u662F\u4F4D\u4E8E\u5BB9\u5668\u6216\u7F51\u7EDC\u9694\u79BB\u5899\u4E4B\u4E0A\u7684\u6D1E\uFF0C\u5176\u4E3B\u8981\u76EE\u7684\u662F\u5F62\u6210\u4E00\u4E2A\u53EF\u4EE5\u63A7\u5236\u7684\u7A81\u7834\u5C01\u95ED\u7684\u7F51\u7EDC\u73AF\u5883\u7684\u51FA\u5165\u53E3\u3002\u5F53\u5BB9\u5668\u7684\u7AEF\u70B9\u4E0E\u7F51\u7EDC\u7684\u7AEF\u70B9\u5F62\u6210\u914D\u5BF9\u540E\uFF0C\u5C31\u5982\u540C\u5728\u8FD9\u4E24\u8005\u4E4B\u95F4\u642D\u5EFA\u4E86\u6865\u6881\uFF0C\u4FBF\u80FD\u591F\u8FDB\u884C\u6570\u636E\u4F20\u8F93\u4E86\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.h4,{id:"\u6570\u636E\u5377",children:["\u6570\u636E\u5377",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6570\u636E\u5377",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5728 Docker \u4E2D\uFF0C\u901A\u8FC7\u8FD9\u51E0\u79CD\u65B9\u5F0F\u8FDB\u884C\u6570\u636E\u5171\u4EAB\u6216\u6301\u4E45\u5316\u7684\u6587\u4EF6\u6216\u76EE\u5F55\uFF0C\u6211\u4EEC\u90FD\u79F0\u4E3A\u6570\u636E\u5377 ( Volume )\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u4EE5\u5F80\u7684\u865A\u62DF\u673A\u4E2D\uFF0C\u6211\u4EEC\u901A\u5E38\u76F4\u63A5\u91C7\u7528\u865A\u62DF\u673A\u7684\u6587\u4EF6\u7CFB\u7EDF\u4F5C\u4E3A\u5E94\u7528\u6570\u636E\u7B49\u6587\u4EF6\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002\u7136\u800C\u8FD9\u79CD\u65B9\u5F0F\u5176\u5B9E\u5E76\u975E\u5B8C\u5168\u5B89\u5168\u7684\uFF0C\u5F53\u865A\u62DF\u673A\u6216\u8005\u5BB9\u5668\u51FA\u73B0\u95EE\u9898\u5BFC\u81F4\u6587\u4EF6\u7CFB\u7EDF\u65E0\u6CD5\u4F7F\u7528\u65F6\uFF0C\u867D\u7136\u6211\u4EEC\u53EF\u4EE5\u5F88\u5FEB\u7684\u901A\u8FC7\u955C\u50CF\u91CD\u7F6E\u6587\u4EF6\u7CFB\u7EDF\u4F7F\u5F97\u5E94\u7528\u5FEB\u901F\u6062\u590D\u8FD0\u884C\uFF0C\u4F46\u662F\u4E4B\u524D\u5B58\u653E\u7684\u6570\u636E\u4E5F\u5C31\u6D88\u5931\u4E86\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4E3A\u4E86\u4FDD\u8BC1\u6570\u636E\u7684\u72EC\u7ACB\u6027\uFF0C\u6211\u4EEC\u901A\u5E38\u4F1A\u5355\u72EC\u6302\u8F7D\u4E00\u4E2A\u6587\u4EF6\u7CFB\u7EDF\u6765\u5B58\u653E\u6570\u636E\u3002\u8FD9\u79CD\u64CD\u4F5C\u5728\u865A\u62DF\u673A\u4E2D\u662F\u7E41\u7410\u7684\uFF0C\u56E0\u4E3A\u6211\u4EEC\u4E0D\u4F46\u8981\u641E\u5B9A\u6302\u8F7D\u5728\u4E0D\u540C\u5BBF\u4E3B\u673A\u4E2D\u5B9E\u73B0\u7684\u65B9\u6CD5\uFF0C\u8FD8\u8981\u8003\u8651\u6302\u8F7D\u6587\u4EF6\u7CFB\u7EDF\u517C\u5BB9\u6027\uFF0C\u865A\u62DF\u64CD\u4F5C\u7CFB\u7EDF\u914D\u7F6E\u7B49\u95EE\u9898\u3002\u503C\u5F97\u5E86\u5E78\u7684\u662F\uFF0C\u8FD9\u4E9B\u5728 Docker \u91CC\u90FD\u5DF2\u7ECF\u4E3A\u6211\u4EEC\u8F7B\u677E\u7684\u5B9E\u73B0\u4E86\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u7B80\u5355\u7684\u4E00\u4E24\u4E2A\u547D\u4EE4\u6216\u53C2\u6570\uFF0C\u5C31\u80FD\u5B8C\u6210\u6587\u4EF6\u7CFB\u7EDF\u76EE\u5F55\u7684\u6302\u8F7D\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u57FA\u4E8E\u5E95\u5C42\u5B58\u50A8\u5B9E\u73B0\uFF0CDocker \u63D0\u4F9B\u4E86\u4E09\u79CD\u9002\u7528\u4E8E\u4E0D\u540C\u573A\u666F\u7684\u6587\u4EF6\u7CFB\u7EDF\u6302\u8F7D\u65B9\u5F0F\uFF1ABind Mount\u3001Volume \u548C Tmpfs Mount\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Bind Mount \u80FD\u591F\u76F4\u63A5\u5C06\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u4E2D\u7684\u76EE\u5F55\u548C\u6587\u4EF6\u6302\u8F7D\u5230\u5BB9\u5668\u5185\u7684\u6587\u4EF6\u7CFB\u7EDF\u4E2D\uFF0C\u901A\u8FC7\u6307\u5B9A\u5BB9\u5668\u5916\u7684\u8DEF\u5F84\u548C\u5BB9\u5668\u5185\u7684\u8DEF\u5F84\uFF0C\u5C31\u53EF\u4EE5\u5F62\u6210\u6302\u8F7D\u6620\u5C04\u5173\u7CFB\uFF0C\u5728\u5BB9\u5668\u5185\u5916\u5BF9\u6587\u4EF6\u7684\u8BFB\u5199\uFF0C\u90FD\u662F\u76F8\u4E92\u53EF\u89C1\u7684\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Volume \u4E5F\u662F\u4ECE\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u4E2D\u6302\u8F7D\u76EE\u5F55\u5230\u5BB9\u5668\u5185\uFF0C\u53EA\u4E0D\u8FC7\u8FD9\u4E2A\u6302\u8F7D\u7684\u76EE\u5F55\u7531 Docker \u8FDB\u884C\u7BA1\u7406\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u6307\u5B9A\u5BB9\u5668\u5185\u7684\u76EE\u5F55\uFF0C\u4E0D\u9700\u8981\u5173\u5FC3\u5177\u4F53\u6302\u8F7D\u5230\u4E86\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u4E2D\u7684\u54EA\u91CC\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Tmpfs Mount \u652F\u6301\u6302\u8F7D\u7CFB\u7EDF\u5185\u5B58\u4E2D\u7684\u4E00\u90E8\u5206\u5230\u5BB9\u5668\u7684\u6587\u4EF6\u7CFB\u7EDF\u91CC\uFF0C\u4E0D\u8FC7\u7531\u4E8E\u5185\u5B58\u548C\u5BB9\u5668\u7684\u7279\u5F81\uFF0C\u5B83\u7684\u5B58\u50A8\u5E76\u4E0D\u662F\u6301\u4E45\u7684\uFF0C\u5176\u4E2D\u7684\u5185\u5BB9\u4F1A\u968F\u7740\u5BB9\u5668\u7684\u505C\u6B62\u800C\u6D88\u5931\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.h4,{id:"\u5176\u4ED6",children:["\u5176\u4ED6",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5176\u4ED6",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"Docker \u662F\u4F9D\u8D56\u4E8E Linux \u800C\u5B58\u5728\u7684\uFF0C\u5176\u5B9E Docker Desktop \u7684\u5B9E\u73B0\u903B\u8F91\u5F88\u7B80\u5355\uFF1A\u65E2\u7136 Windows \u548C macOS \u4E2D\u6CA1\u6709 Docker \u80FD\u591F\u5229\u7528\u7684 Linux \u73AF\u5883\uFF0C\u90A3\u4E48\u6211\u4EEC\u751F\u9020\u4E00\u4E2A Linux \u73AF\u5883\u5C31\u884C\u5566\uFF01Docker for Windows \u548C Docker for Mac \u6B63\u662F\u8FD9\u4E48\u5B9E\u73B0\u7684\u3002"}),"\n",(0,d.jsxs)(n.h2,{id:"\u5E38\u7528\u547D\u4EE4",children:["\u5E38\u7528\u547D\u4EE4",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5E38\u7528\u547D\u4EE4",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"docker version"})}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"Client:\n Cloud integration: 1.0.17\n Version:           20.10.7\n API version:       1.41\n Go version:        go1.16.4\n Git commit:        f0df350\n Built:             Wed Jun  2 11:56:22 2021\n OS/Arch:           darwin/amd64\n Context:           default\n Experimental:      true\n\nServer: Docker Engine - Community\n Engine:\n  Version:          20.10.7\n  API version:      1.41 (minimum version 1.12)\n  Go version:       go1.13.15\n  Git commit:       b0f5bc3\n  Built:            Wed Jun  2 11:54:58 2021\n  OS/Arch:          linux/amd64\n  Experimental:     false\n containerd:\n  Version:          1.4.6\n  GitCommit:        d71fcd7d8303cbf684402823e425e9dd2e99285d\n runc:\n  Version:          1.0.0-rc95\n  GitCommit:        b9ee9c6314599f1b4a7f497e1f1f856fe433d3b7\n docker-init:\n  Version:          0.19.0\n  GitCommit:        de40ad0\n\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"docker info"})}),"\n",(0,d.jsx)(n.p,{children:"\u5728 docker info \u8FD9\u6761\u547D\u4EE4\u7684\u7ED3\u679C\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\u6B63\u5728\u8FD0\u884C\u7684 Docker Engine \u5B9E\u4F8B\u4E2D\u8FD0\u884C\u7684\u5BB9\u5668\u6570\u91CF\uFF0C\u5B58\u50A8\u7684\u5F15\u64CE\u7B49\u7B49\u4FE1\u606F\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"docker images"})}),"\n",(0,d.jsx)(n.p,{children:"\u5728 docker images \u547D\u4EE4\u7684\u7ED3\u679C\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\u955C\u50CF\u7684 ID ( IMAGE ID)\u3001\u6784\u5EFA\u65F6\u95F4 ( CREATED )\u3001\u5360\u7528\u7A7A\u95F4 ( SIZE ) \u7B49\u6570\u636E\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u955C\u50CF\u76F8\u5173",children:["\u955C\u50CF\u76F8\u5173",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u955C\u50CF\u76F8\u5173",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker pull"}),"\uFF1A\u62C9\u53D6\u955C\u50CF"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker search"}),"\uFF1A\u641C\u7D22\u955C\u50CF"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker images"}),"\uFF1A\u5217\u51FA\u672C\u5730\u955C\u50CF"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker inspect"}),"\uFF1A\u67E5\u770B\u5173\u4E8E\u67D0\u4E2A\u955C\u50CF\u76F8\u5F53\u5B8C\u5907\u7684\u4FE1\u606F"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker rmi"}),"\uFF1A\u5220\u9664\u955C\u50CF"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker commit <container>"}),"\uFF1A\u63D0\u4EA4\u5BB9\u5668\u7684\u66F4\u6539\uFF0C\u4F8B\u5982",(0,d.jsx)(n.code,{children:'docker commit -m "Configured" webapp'}),"\uFF0C\u6253\u5305\u751F\u6210\u65B0\u955C\u50CF\u3002Docker \u6267\u884C\u5C06\u5BB9\u5668\u5185\u6C99\u76D2\u6587\u4EF6\u7CFB\u7EDF\u8BB0\u5F55\u6210\u955C\u50CF\u5C42\u7684\u65F6\u5019\uFF0C\u4F1A\u5148\u6682\u505C\u5BB9\u5668\u7684\u8FD0\u884C\uFF0C\u4EE5\u4FDD\u8BC1\u5BB9\u5668\u5185\u7684\u6587\u4EF6\u7CFB\u7EDF\u5904\u4E8E\u4E00\u4E2A\u76F8\u5BF9\u7A33\u5B9A\u7684\u72B6\u6001\uFF0C\u786E\u4FDD\u6570\u636E\u7684\u4E00\u81F4\u6027"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'# \u63D0\u4EA4webapp\u5BB9\u5668\u7684\u66F4\u6539\uFF0C\u521B\u5EFA\u5907\u6CE8\u4E3AUpgrade\uFF0C\u540D\u79F0\u4E3Awebapp\uFF0C\u6807\u7B7E\u4E3A2.0\u7684\u65B0\u955C\u50CF\ndocker commit -m "Upgrade" webapp webapp:2.0\n'})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker tag"}),"\uFF1A\u91CD\u547D\u540D\u955C\u50CF\u540D"]}),"\n"]}),"\n",(0,d.jsxs)(n.h4,{id:"\u955C\u50CF\u8FC1\u79FB",children:["\u955C\u50CF\u8FC1\u79FB",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u955C\u50CF\u8FC1\u79FB",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u5BFC\u51FAwebapp:1.0\u955C\u50CF\u5230./webapp-1.0.tar\u6587\u4EF6\ndocker save -o ./webapp-1.0.tar webapp:1.0\n\n# \u6279\u91CF\u5BFC\u51FA\ndocker save -o ./images.tar webapp:1.0 nginx:1.12 mysql:5.7\n\n# \u5BFC\u5165\u955C\u50CF\ndocker load -i webapp-1.0.tardocker run --volume\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u5BB9\u5668\u76F8\u5173",children:["\u5BB9\u5668\u76F8\u5173",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5BB9\u5668\u76F8\u5173",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker create <image>"}),"\uFF1A\u6839\u636E\u6240\u7ED9\u51FA\u7684\u955C\u50CF\u521B\u5EFA\u5BB9\u5668\uFF0C\u4F8B\u5982\uFF1A",(0,d.jsx)(n.code,{children:"docker create --name nginx nginx:1.12"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker start <\u5BB9\u5668\u540D>"}),"\uFF1A\u542F\u52A8\u5BB9\u5668"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker run"}),"\uFF1A\u521B\u5EFA(create)\u5E76\u4E14\u542F\u52A8(start)\u5BB9\u5668\uFF0C\u4F8B\u5982\uFF1A",(0,d.jsx)(n.code,{children:"docker run --name nginx -d nginx:1.12"}),"\uFF0C",(0,d.jsx)(n.code,{children:"-d"}),"\u8868\u793A\u5728\u542F\u52A8\u540E\u5C06\u7A0B\u5E8F\u4E0E\u63A7\u5236\u53F0\u5206\u79BB\uFF0C\u4F7F\u5176\u8FDB\u5165\u201C\u540E\u53F0\u201D\u8FD0\u884C\u3002\u521B\u5EFA\u65F6\u901A\u8FC7",(0,d.jsx)(n.code,{children:"--link"}),"\u53EF\u8BA9\u4E00\u4E2A\u5BB9\u5668\u8FDE\u63A5\u5230\u53E6\u5916\u4E00\u4E2A\u5BB9\u5668\u3002\u53EF\u4EE5\u901A\u8FC7",(0,d.jsx)(n.code,{children:"--expose"}),"\u6765\u66B4\u9732\u5BB9\u5668\u7AEF\u53E3\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'sudo docker run -d --name mysql -e MYSQL_RANDOM_ROOT_PASSWORD=yes mysql\nsudo docker run -d --name webapp --link mysql webapp:latest\n\n# \u5BB9\u5668\u95F4\u7684\u7F51\u7EDC\u5DF2\u7ECF\u6253\u901A\uFF0C\u90A3\u4E48\u6211\u4EEC\u8981\u5982\u4F55\u5728 Web \u5E94\u7528\u4E2D\u8FDE\u63A5\u5230 MySQL \u6570\u636E\u5E93\u5462\uFF1FDocker \u4E3A\u5BB9\u5668\u95F4\u8FDE\u63A5\u63D0\u4F9B\u4E86\u4E00\u79CD\u975E\u5E38\u53CB\u597D\u7684\u65B9\u5F0F\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u5C06\u5BB9\u5668\u7684\u7F51\u7EDC\u547D\u540D\u586B\u5165\u5230\u8FDE\u63A5\u5730\u5740\u4E2D\uFF0C\u5C31\u53EF\u4EE5\u8BBF\u95EE\u9700\u8981\u8FDE\u63A5\u7684\u5BB9\u5668\u4E86\u3002\n# String url = "jdbc:mysql://mysql:3306/webapp";\n\ndocker run -d --name mysql -e MYSQL_RANDOM_ROOT_PASSWORD=yes --expose 13306 --expose 23306 mysql:5.7\n'})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker ps"}),"\uFF1A\u5217\u51FA\u7684\u5BB9\u5668\u662F\u5904\u4E8E\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\uFF0C",(0,d.jsx)(n.code,{children:"-a"}),"\u53C2\u6570\uFF0C\u5217\u51FA\u6240\u6709\u5BB9\u5668\u3002\u7ED3\u679C\u4E2D\u8FD8\u53EF\u4EE5\u770B\u5230\u5BB9\u5668\u66B4\u9732\u7ED9\u5176\u4ED6\u5BB9\u5668\u8BBF\u95EE\u7684\u7AEF\u53E3"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker stop <name>"}),"\uFF1A\u505C\u6B62\u5BB9\u5668"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker rm <name>"}),"\uFF1A\u5220\u9664\u5BB9\u5668\uFF0C\u5BB9\u5668\u4E2D\u5E94\u7528\u7A0B\u5E8F\u6240\u4EA7\u751F\u7684\u4E00\u4E9B\u6587\u4EF6\u6570\u636E\uFF0C\u662F\u975E\u5E38\u91CD\u8981\u7684\uFF0C\u5982\u679C\u8FD9\u4E9B\u6570\u636E\u968F\u7740\u5BB9\u5668\u7684\u5220\u9664\u800C\u4E22\u5931\uFF0C\u5176\u635F\u5931\u662F\u975E\u5E38\u5DE8\u5927\u7684\u3002\u5BF9\u4E8E\u8FD9\u7C7B\u7531\u5E94\u7528\u7A0B\u5E8F\u6240\u4EA7\u751F\u7684\u6570\u636E\uFF0C\u5E76\u4E14\u9700\u8981\u4FDD\u8BC1\u5B83\u4EEC\u4E0D\u4F1A\u968F\u7740\u5BB9\u5668\u7684\u5220\u9664\u800C\u6D88\u5931\u7684\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 Docker \u4E2D\u7684\u6570\u636E\u5377\u6765\u5355\u72EC\u5B58\u653E\u3002\u7531\u4E8E\u6570\u636E\u5377\u662F\u72EC\u7ACB\u4E8E\u5BB9\u5668\u5B58\u5728\u7684\uFF0C\u6240\u4EE5\u5176\u80FD\u4FDD\u8BC1\u6570\u636E\u4E0D\u4F1A\u968F\u7740\u5BB9\u5668\u7684\u5220\u9664\u800C\u4E22\u5931"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker exec <name> <CMD>"}),"\uFF1A\u8BA9\u5BB9\u5668\u8FD0\u884C\u6211\u4EEC\u6240\u7ED9\u51FA\u7684\u547D\u4EE4\uFF0C\u4F8B\u5982\uFF1A",(0,d.jsx)(n.code,{children:"docker exec nginx more /etc/hostname"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker exec -it nginx bash"}),"\uFF0C\u7528 bash \u6765\u8FDB\u5165 nginx \u5BB9\u5668\uFF0C\u5176\u4E2D -i ( --interactive ) \u8868\u793A\u4FDD\u6301\u6211\u4EEC\u7684\u8F93\u5165\u6D41\uFF0C\u53EA\u6709\u4F7F\u7528\u5B83\u624D\u80FD\u4FDD\u8BC1\u63A7\u5236\u53F0\u7A0B\u5E8F\u80FD\u591F\u6B63\u786E\u8BC6\u522B\u6211\u4EEC\u7684\u547D\u4EE4\u3002\u800C -t ( --tty ) \u8868\u793A\u542F\u7528\u4E00\u4E2A\u4F2A\u7EC8\u7AEF\uFF0C\u5F62\u6210\u6211\u4EEC\u4E0E bash \u7684\u4EA4\u4E92\uFF0C\u5982\u679C\u6CA1\u6709\u5B83\uFF0C\u6211\u4EEC\u65E0\u6CD5\u770B\u5230 bash \u5185\u90E8\u7684\u6267\u884C\u7ED3\u679C"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u7F51\u7EDC\u76F8\u5173",children:["\u7F51\u7EDC\u76F8\u5173",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7F51\u7EDC\u76F8\u5173",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker network create"}),"\uFF1A\u81EA\u5DF1\u5B9A\u4E49\u865A\u62DF\u5B50\u7F51\uFF0C\u4F8B\u5982\uFF1A",(0,d.jsx)(n.code,{children:"docker network create -d bridge individual"}),"\uFF0C\u901A\u8FC7 -d \u9009\u9879\u6211\u4EEC\u53EF\u4EE5\u4E3A\u65B0\u7684\u7F51\u7EDC\u6307\u5B9A\u9A71\u52A8\u7684\u7C7B\u578B\uFF0C\u5176\u503C\u53EF\u4EE5\u662F\u521A\u624D\u6211\u4EEC\u6240\u63D0\u53CA\u7684 bridge\u3001host\u3001overlay\u3001maclan\u3001none\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5176\u4ED6\u7F51\u7EDC\u9A71\u52A8\u63D2\u4EF6\u6240\u5B9A\u4E49\u7684\u7C7B\u578B\u3002\u8FD9\u91CC\u6211\u4EEC\u4F7F\u7528\u7684\u662F Bridge Driver ( \u5F53\u6211\u4EEC\u4E0D\u6307\u5B9A\u7F51\u7EDC\u9A71\u52A8\u65F6\uFF0CDocker \u4E5F\u4F1A\u9ED8\u8BA4\u91C7\u7528 Bridge Driver \u4F5C\u4E3A\u7F51\u7EDC\u9A71\u52A8 )- ",(0,d.jsx)(n.code,{children:"docker network ls"}),"\uFF1A\u67E5\u770B Docker \u4E2D\u5DF2\u7ECF\u5B58\u5728\u7684\u7F51\u7EDC"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker run --network"}),"\uFF1A\u5728\u6211\u4EEC\u521B\u5EFA\u5BB9\u5668\u65F6\uFF0C\u53EF\u4EE5\u901A\u8FC7 --network \u6765\u6307\u5B9A\u5BB9\u5668\u6240\u52A0\u5165\u7684\u7F51\u7EDC"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker run --publish"}),"\uFF1A\u6620\u5C04\u7AEF\u53E3\uFF0C\u628A\u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04\u5230\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u7684\u7AEF\u53E3\u4E0A\uFF0C\u4ECE\u5916\u90E8\u8BBF\u95EE\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u7684\u7AEF\u53E3\u65F6\uFF0C\u6570\u636E\u8BF7\u6C42\u5C31\u4F1A\u81EA\u52A8\u53D1\u9001\u7ED9\u4E0E\u4E4B\u5173\u8054\u7684\u5BB9\u5668\u7AEF\u53E3\uFF0C\u4F8B\u5982\uFF1A",(0,d.jsx)(n.code,{children:"docker run -d --name nginx -p 80:80 -p 443:443 nginx:1.12"}),"\u3002",(0,d.jsx)(n.code,{children:"-p <ip>:<host-port>:<container-port>"})," \u5176\u4E2D ip \u662F\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u7684\u76D1\u542C ip\uFF0C\u53EF\u4EE5\u7528\u6765\u63A7\u5236\u76D1\u542C\u7684\u7F51\u5361\uFF0C\u9ED8\u8BA4\u4E3A 0.0.0.0\uFF0C\u4E5F\u5C31\u662F\u76D1\u542C\u6240\u6709\u7F51\u5361\u3002host-port \u548C container-port \u5206\u522B\u8868\u793A\u6620\u5C04\u5230\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u7684\u7AEF\u53E3\u548C\u5BB9\u5668\u7684\u7AEF\u53E3\uFF0C\u8FD9\u4E24\u8005\u662F\u53EF\u4EE5\u4E0D\u4E00\u6837\u7684\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u5BB9\u5668\u7684 80 \u7AEF\u53E3\u6620\u5C04\u5230\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u7684 8080 \u7AEF\u53E3\uFF0C\u4F20\u5165 -p 8080:80 \u5373\u53EF"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u5B58\u50A8\u76F8\u5173",children:["\u5B58\u50A8\u76F8\u5173",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5B58\u50A8\u76F8\u5173",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker run --volume"}),"\uFF1A\u5C06\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u4E2D\u7684\u76EE\u5F55\u6302\u8F7D\u5230\u5BB9\u5668\uFF0C\u4F8B\u5982\uFF1A",(0,d.jsx)(n.code,{children:"docker run -d --name nginx -v /webapp/html:/usr/share/nginx/html nginx:1.12"})," (\u53C2\u6570\u4F20\u9012\u4E0D\u540C\uFF0C\u5373\u53EF\u5B9E\u73B0\u4F7F\u7528\u6570\u636E\u5377\u6302\u8F7D\uFF0C\u53C2\u8003\u4E0B\u4E00\u6761\u547D\u4EE4)"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"-v"})," \u6216 ",(0,d.jsx)(n.code,{children:"--volume"})," \u6765\u6302\u8F7D\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u76EE\u5F55\u7684\u5F62\u5F0F\u662F ",(0,d.jsx)(n.code,{children:"-v <host-path>:<container-path> \u6216 --volume <host-path>:<container-path>"}),"\uFF0C\u5176\u4E2D ",(0,d.jsx)(n.code,{children:"host-path"})," \u548C ",(0,d.jsx)(n.code,{children:"container-path"})," \u5206\u522B\u4EE3\u8868\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u4E2D\u7684\u76EE\u5F55\u548C\u5BB9\u5668\u4E2D\u7684\u76EE\u5F55\u3002\u8FD9\u91CC\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u4E3A\u4E86\u907F\u514D\u6DF7\u6DC6\uFF0CDocker \u8FD9\u91CC\u5F3A\u5236\u5B9A\u4E49\u76EE\u5F55\u65F6\u5FC5\u987B\u4F7F\u7528\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u4E0D\u80FD\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["\u6211\u4EEC\u80FD\u591F\u6307\u5B9A\u76EE\u5F55\u8FDB\u884C\u6302\u8F7D\uFF0C\u4E5F\u80FD\u591F\u6307\u5B9A\u5177\u4F53\u7684\u6587\u4EF6\u6765\u6302\u8F7D\uFF0C\u5177\u4F53\u9009\u62E9\u4F55\u79CD\u5F62\u5F0F\u6765\u6302\u8F7D\uFF0C\u5927\u5BB6\u53EF\u4EE5\u6839\u636E\u5177\u4F53\u7684\u60C5\u51B5\u6765\u9009\u62E9\u3002\u53EF\u4EE5\u6DFB\u52A0",(0,d.jsx)(n.code,{children:":ro"}),"\u5B9E\u73B0\u53EA\u8BFB\u6302\u8F7D\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u5F53\u6211\u4EEC\u9700\u8981\u4ECE\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u5171\u4EAB\u914D\u7F6E\u7684\u65F6\u5019 \u548C \u5F53\u6211\u4EEC\u9700\u8981\u501F\u52A9 Docker \u8FDB\u884C\u5F00\u53D1\u7684\u65F6\u5019(\u6BCF\u6B21\u5BF9\u4EE3\u7801\u7684\u4FEE\u6539\u90FD\u53EF\u4EE5\u76F4\u63A5\u5728\u5BB9\u5668\u5916\u90E8\u8FDB\u884C)\uFF0C\u8BE5\u6302\u8F7D\u65B9\u5F0F\u6709\u5B9E\u9645\u5E94\u7528\u573A\u666F\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker run --volume"}),"\uFF1A\u4F8B\u5982\uFF1A",(0,d.jsx)(n.code,{children:"docker run -d --name webapp -v /webapp/storage webapp:latest"}),"\uFF0C"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u6570\u636E\u5377\u7684\u672C\u8D28\u5176\u5B9E\u4F9D\u7136\u662F\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u4E0A\u7684\u4E00\u4E2A\u76EE\u5F55\uFF0C\u53EA\u4E0D\u8FC7\u8FD9\u4E2A\u76EE\u5F55\u5B58\u653E\u5728 Docker \u5185\u90E8\uFF0C\u63A5\u53D7 Docker \u7684\u7BA1\u7406\u3002\u5728\u4F7F\u7528\u6570\u636E\u5377\u8FDB\u884C\u6302\u8F7D\u65F6\uFF0C\u6211\u4EEC\u4E0D\u9700\u8981\u77E5\u9053\u6570\u636E\u5177\u4F53\u5B58\u50A8\u5728\u4E86\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u7684\u4F55\u5904\uFF0C\u53EA\u9700\u8981\u7ED9\u5B9A\u5BB9\u5668\u4E2D\u7684\u54EA\u4E2A\u76EE\u5F55\u4F1A\u88AB\u6302\u8F7D\u5373\u53EF\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"-v <name>:<container-path>"}),"\uFF1A\u6570\u636E\u5377\u547D\u540D\uFF0C\u4F8B\u5982\uFF1A",(0,d.jsx)(n.code,{children:"docker run -d --name webapp -v appdata:/webapp/storage webapp:latest"}),"\uFF0C\u547D\u540D\u4E3A",(0,d.jsx)(n.code,{children:"appdata"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u6570\u636E\u5377\u7684\u547D\u540D\u5728 Docker \u4E2D\u662F\u552F\u4E00\u7684"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker volume create <name>"}),"\uFF1A\u521B\u5EFA\u6570\u636E\u5377"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker volume ls"}),"\uFF1A\u5217\u51FA\u6570\u636E\u5377"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker volume rm <name>"}),"\uFF1A\u5220\u9664\u6570\u636E\u5377\uFF0C\u5728\u5220\u9664\u5BB9\u5668\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528",(0,d.jsx)(n.code,{children:"docker rm -v <container-name>"}),"\u6765\u5220\u9664\u5BB9\u5668\u7684\u540C\u65F6\u5220\u9664\u5173\u8054\u7684\u6570\u636E\u5377"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u6211\u4EEC\u6CA1\u6709\u968F\u5BB9\u5668\u5220\u9664\u8FD9\u4E9B\u6570\u636E\u5377\uFF0CDocker \u5728\u521B\u5EFA\u65B0\u7684\u5BB9\u5668\u65F6\u4E5F\u4E0D\u4F1A\u542F\u7528\u5B83\u4EEC\uFF0C\u5373\u4F7F\u5B83\u4EEC\u4E0E\u65B0\u521B\u5EFA\u5BB9\u5668\u6240\u5B9A\u4E49\u7684\u6570\u636E\u5377\u6709\u5B8C\u5168\u4E00\u81F4\u7684\u7279\u5F81\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u6B64\u65F6\u5B83\u4EEC\u5DF2\u7ECF\u53D8\u6210\u4E86\u5B64\u9B42\u91CE\u9B3C\uFF0C\u7EAF\u7CB9\u7684\u5360\u7528\u7740\u786C\u76D8\u7A7A\u95F4\u800C\u53C8\u4E0D\u53D7\u7BA1\u7406\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"docker volume prune"}),"\uFF1A\u5220\u9664\u90A3\u4E9B\u6CA1\u6709\u88AB\u5BB9\u5668\u5F15\u7528\u7684\u6570\u636E\u5377"]}),"\n"]}),"\n",(0,d.jsxs)(n.h4,{id:"\u6570\u636E\u5377\u5BB9\u5668",children:["\u6570\u636E\u5377\u5BB9\u5668",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6570\u636E\u5377\u5BB9\u5668",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u521B\u5EFA\u6570\u636E\u5377\u5BB9\u5668\u7684\u65B9\u5F0F\u5F88\u7B80\u5355\uFF0C\u7531\u4E8E\u4E0D\u9700\u8981\u5BB9\u5668\u672C\u8EAB\u8FD0\u884C\uFF0C\u56E0\u800C\u6211\u4EEC\u627E\u4E2A\u7B80\u5355\u7684\u7CFB\u7EDF\u955C\u50CF\u90FD\u53EF\u4EE5\u5B8C\u6210\u521B\u5EFA\uFF1A",(0,d.jsx)(n.code,{children:"docker create --name appdata -v /webapp/storage ubuntu"}),"\uFF0C\u4F7F\u7528",(0,d.jsx)(n.code,{children:"ubuntu"}),"\u955C\u50CF\u6765\u521B\u5EFA\u540D\u4E3A",(0,d.jsx)(n.code,{children:"appdata"}),"\u7684\u6570\u636E\u5377\u5BB9\u5668"]}),"\n",(0,d.jsxs)(n.p,{children:["\u6570\u636E\u5377\u5BB9\u5668\u5C31\u53EF\u4EE5\u7B97\u662F\u5BB9\u5668\u95F4\u7684\u6587\u4EF6\u7CFB\u7EDF\u6865\u6881\uFF0C\u53EF\u4EE5\u50CF\u52A0\u5165\u7F51\u7EDC\u4E00\u6837\u5F15\u7528\u6570\u636E\u5377\u5BB9\u5668\uFF0C\u53EA\u9700\u8981\u5728\u521B\u5EFA\u65B0\u5BB9\u5668\u65F6\u4F7F\u7528\u4E13\u95E8\u7684 --volumes-from \u9009\u9879\u5373\u53EF\uFF0C",(0,d.jsx)(n.code,{children:"sudo docker run -d --name webapp --volumes-from appdata webapp:latest"})]}),"\n",(0,d.jsxs)(n.h4,{id:"\u6570\u636E\u5377\u5907\u4EFD\u548C\u8FC1\u79FB",children:["\u6570\u636E\u5377\u5907\u4EFD\u548C\u8FC1\u79FB",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6570\u636E\u5377\u5907\u4EFD\u548C\u8FC1\u79FB",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u7531\u4E8E\u6570\u636E\u5377\u672C\u8EAB\u5C31\u662F\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF\u4E2D\u7684\u4E00\u4E2A\u76EE\u5F55\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u5728 Docker \u8D44\u6E90\u76EE\u5F55\u91CC\u627E\u5230\u5B83\u5C31\u53EF\u4EE5\u5F88\u8F7B\u677E\u7684\u6253\u5305\u3001\u8FC1\u79FB\u3001\u6062\u590D\u4E86\u3002\u867D\u7136\u8FD9\u4E48\u505A\u76F8\u5BF9\u5176\u4ED6\u865A\u62DF\u5316\u65B9\u6848\u6765\u8BF4\u5DF2\u7ECF\u5F88\u7B80\u5355\u4E86\uFF0C\u4F46\u5728 Docker \u91CC\u8FD8\u4E0D\u662F\u6700\u4F18\u96C5\u7684\u89E3\u51B3\u65B9\u5F0F\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5229\u7528\u6570\u636E\u5377\u5BB9\u5668\uFF0C\u6211\u4EEC\u8FD8\u80FD\u591F\u66F4\u65B9\u4FBF\u7684\u5BF9\u6570\u636E\u5377\u4E2D\u7684\u6570\u636E\u8FDB\u884C\u8FC1\u79FB\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u6570\u636E\u5907\u4EFD\u3001\u8FC1\u79FB\u3001\u6062\u590D\u7684\u8FC7\u7A0B\u53EF\u4EE5\u7406\u89E3\u4E3A\u5BF9\u6570\u636E\u8FDB\u884C\u6253\u5305\uFF0C\u79FB\u52A8\u5230\u5176\u4ED6\u4F4D\u7F6E\uFF0C\u5728\u9700\u8981\u7684\u5730\u65B9\u89E3\u538B\u7684\u8FC7\u7A0B\u3002\u5728\u6570\u636E\u6253\u5305\u4E4B\u524D\uFF0C\u6211\u4EEC\u5148\u5EFA\u7ACB\u4E00\u4E2A\u7528\u6765\u5B58\u653E\u6253\u5305\u6587\u4EF6\u7684\u76EE\u5F55\uFF0C\u8FD9\u91CC\u6211\u4EEC\u4F7F\u7528 /backup \u4F5C\u4E3A\u4F8B\u5B50\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u8981\u5907\u4EFD\u6570\u636E\uFF0C\u6211\u4EEC\u5148\u5EFA\u7ACB\u4E00\u4E2A\u4E34\u65F6\u7684\u5BB9\u5668\uFF0C\u5C06\u7528\u4E8E\u5907\u4EFD\u7684\u76EE\u5F55\u548C\u8981\u5907\u4EFD\u7684\u6570\u636E\u5377\u90FD\u6302\u8F7D\u5230\u8FD9\u4E2A\u5BB9\u5668\u4E0A\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u5907\u4EFD\u547D\u4EE4\u4E2D\uFF0C\u9664\u4E86\u6302\u8F7D\u7684\u914D\u7F6E\u5916\uFF0C\u6211\u4EEC\u518D\u6CE8\u610F\u51E0\u4E2A\u9009\u9879\u3002\u901A\u8FC7 --rm \u9009\u9879\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8BA9\u5BB9\u5668\u5728\u505C\u6B62\u540E\u81EA\u52A8\u5220\u9664\uFF0C\u800C\u4E0D\u9700\u8981\u6211\u4EEC\u518D\u4F7F\u7528\u5BB9\u5668\u5220\u9664\u547D\u4EE4\u6765\u5220\u9664\u5B83\uFF0C\u8FD9\u5BF9\u4E8E\u6211\u4EEC\u4F7F\u7528\u4E00\u4E9B\u4E34\u65F6\u5BB9\u5668\u5F88\u6709\u5E2E\u52A9\u3002\u5728\u5BB9\u5668\u6240\u57FA\u4E8E\u7684\u955C\u50CF\u4E4B\u540E\uFF0C\u6211\u4EEC\u8FD8\u770B\u5230\u4E86\u4E00\u4E32\u547D\u4EE4\uFF0C\u4E5F\u5C31\u662F tar cvf /backup/backup.tar /webapp/storage\uFF0C\u5176\u5B9E\u5982\u679C\u6211\u4EEC\u5728\u955C\u50CF\u5B9A\u4E49\u4E4B\u540E\u63A5\u4E0A\u547D\u4EE4\uFF0C\u53EF\u4EE5\u76F4\u63A5\u66FF\u6362\u6389\u955C\u50CF\u6240\u5B9A\u4E49\u7684\u4E3B\u7A0B\u5E8F\u542F\u52A8\u547D\u4EE4\uFF0C\u800C\u53BB\u6267\u884C\u8FD9\u4E00\u6761\u547D\u4EE4\u3002\u5728\u5F88\u591A\u573A\u5408\u4E0B\uFF0C\u6211\u4EEC\u8FD8\u80FD\u901A\u8FC7\u8FD9\u4E2A\u65B9\u6CD5\u5E72\u5F88\u591A\u4E0D\u540C\u7684\u4E8B\u60C5\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u5907\u4EFD\u540E\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u5728 /backup \u4E0B\u627E\u5230\u6570\u636E\u5377\u7684\u5907\u4EFD\u6587\u4EF6\uFF0C\u4E5F\u5C31\u662F backup.tar \u4E86\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u8981\u6062\u590D\u6570\u636E\u5377\u4E2D\u7684\u6570\u636E\uFF0C\u6211\u4EEC\u4E5F\u53EF\u4EE5\u501F\u52A9\u4E34\u65F6\u5BB9\u5668\u5B8C\u6210\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u5907\u4EFD\ndocker run --rm --volumes-from appdata -v /backup:/backup ubuntu tar cvf /backup/backup.tar /webapp/storage\n\n# \u6062\u590D (\u6062\u590D\u7684\u8FC7\u7A0B\u4E0E\u5907\u4EFD\u7684\u8FC7\u7A0B\u7C7B\u4F3C\uFF0C\u53EA\u4E0D\u8FC7\u628A\u6253\u5305\u7684\u547D\u4EE4\u8F6C\u6362\u4E3A\u89E3\u5305\u7684\u547D\u4EE4\u800C\u5DF2)\ndocker run --rm --volumes-from appdata -v /backup:/backup ubuntu tar xvf /backup/backup.tar -C /webapp/storage --strip\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"\u7B14\u8BB0",children:["\u7B14\u8BB0",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7B14\u8BB0",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"\u4FEE\u6539\u56FD\u5185\u955C\u50CF\u6E90",children:["\u4FEE\u6539\u56FD\u5185\u955C\u50CF\u6E90",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4FEE\u6539\u56FD\u5185\u955C\u50CF\u6E90",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u5728",(0,d.jsx)(n.code,{children:"Docker Desktop"}),"\u7684 docker engine \u4E2D\u914D\u7F6E\u589E\u52A0",(0,d.jsx)(n.code,{children:"registry-mirrors"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "registry-mirrors": ["https://registry.docker-cn.com"]\n}\n'})}),"\n",(0,d.jsxs)(n.h2,{id:"\u901A\u8FC7-dockerfile-\u521B\u5EFA\u955C\u50CF",children:["\u901A\u8FC7 Dockerfile \u521B\u5EFA\u955C\u50CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u901A\u8FC7-dockerfile-\u521B\u5EFA\u955C\u50CF",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"Dockerfile \u662F Docker \u4E2D\u7528\u4E8E\u5B9A\u4E49\u955C\u50CF\u81EA\u52A8\u5316\u6784\u5EFA\u6D41\u7A0B\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u5728 Dockerfile \u4E2D\uFF0C\u5305\u542B\u4E86\u6784\u5EFA\u955C\u50CF\u8FC7\u7A0B\u4E2D\u9700\u8981\u6267\u884C\u7684\u547D\u4EE4\u548C\u5176\u4ED6\u64CD\u4F5C\u3002\u901A\u8FC7 Dockerfile \u6211\u4EEC\u53EF\u4EE5\u66F4\u52A0\u6E05\u6670\u3001\u660E\u786E\u7684\u7ED9\u5B9A Docker \u955C\u50CF\u7684\u5236\u4F5C\u8FC7\u7A0B\uFF0C\u800C\u7531\u4E8E\u5176\u4EC5\u662F\u7B80\u5355\u3001\u5C0F\u4F53\u79EF\u7684\u6587\u4EF6\uFF0C\u5728\u7F51\u7EDC\u7B49\u5176\u4ED6\u4ECB\u8D28\u4E2D\u4F20\u9012\u7684\u901F\u5EA6\u6781\u5FEB\uFF0C\u80FD\u591F\u66F4\u5FEB\u7684\u5E2E\u52A9\u6211\u4EEC\u5B9E\u73B0\u5BB9\u5668\u8FC1\u79FB\u548C\u96C6\u7FA4\u90E8\u7F72\u3002"}),"\n",(0,d.jsxs)(n.h3,{id:"\u7F16\u5199",children:["\u7F16\u5199",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7F16\u5199",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u76F8\u5BF9\u4E8E\u4E4B\u524D\u6211\u4EEC\u4ECB\u7ECD\u7684\u63D0\u4EA4\u5BB9\u5668\u4FEE\u6539\uFF0C\u518D\u8FDB\u884C\u955C\u50CF\u8FC1\u79FB\u7684\u65B9\u5F0F\u76F8\u6BD4\uFF0C\u4F7F\u7528 Dockerfile \u8FDB\u884C\u8FD9\u9879\u5DE5\u4F5C\u6709\u5F88\u591A\u4F18\u52BF\uFF0C\u6211\u603B\u7ED3\u4E86\u51E0\u9879\u5C24\u4E3A\u7A81\u51FA\u7684\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Dockerfile \u7684\u4F53\u79EF\u8FDC\u5C0F\u4E8E\u955C\u50CF\u5305\uFF0C\u66F4\u5BB9\u6613\u8FDB\u884C\u5FEB\u901F\u8FC1\u79FB\u548C\u90E8\u7F72\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u73AF\u5883\u6784\u5EFA\u6D41\u7A0B\u8BB0\u5F55\u4E86 Dockerfile \u4E2D\uFF0C\u80FD\u591F\u76F4\u89C2\u7684\u770B\u5230\u955C\u50CF\u6784\u5EFA\u7684\u987A\u5E8F\u548C\u903B\u8F91\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u4F7F\u7528 Dockerfile \u6765\u6784\u5EFA\u955C\u50CF\u80FD\u591F\u66F4\u8F7B\u677E\u7684\u5B9E\u73B0\u81EA\u52A8\u90E8\u7F72\u7B49\u81EA\u52A8\u5316\u6D41\u7A0B\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u5728\u4FEE\u6539\u73AF\u5883\u642D\u5EFA\u7EC6\u8282\u65F6\uFF0C\u4FEE\u6539 Dockerfile \u6587\u4EF6\u8981\u6BD4\u4ECE\u65B0\u63D0\u4EA4\u955C\u50CF\u6765\u7684\u8F7B\u677E\u3001\u7B80\u5355\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.h4,{id:"dockerfile-\u7684\u7ED3\u6784",children:["Dockerfile \u7684\u7ED3\u6784",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#dockerfile-\u7684\u7ED3\u6784",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u603B\u4F53\u4E0A\u6765\u8BF4\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06 Dockerfile \u7406\u89E3\u4E3A\u4E00\u4E2A\u7531\u4E0A\u5F80\u4E0B\u6267\u884C\u6307\u4EE4\u7684\u811A\u672C\u6587\u4EF6\u3002\u5F53\u6211\u4EEC\u8C03\u7528\u6784\u5EFA\u547D\u4EE4\u8BA9 Docker \u901A\u8FC7\u6211\u4EEC\u7ED9\u51FA\u7684 Dockerfile \u6784\u5EFA\u955C\u50CF\u65F6\uFF0CDocker \u4F1A\u9010\u4E00\u6309\u987A\u5E8F\u89E3\u6790 Dockerfile \u4E2D\u7684\u6307\u4EE4\uFF0C\u5E76\u6839\u636E\u5B83\u4EEC\u4E0D\u540C\u7684\u542B\u4E49\u6267\u884C\u4E0D\u540C\u7684\u64CD\u4F5C\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u8FDB\u884C\u7EC6\u5206\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06 Dockerfile \u7684\u6307\u4EE4\u7B80\u5355\u5206\u4E3A\u4E94\u5927\u7C7B\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u57FA\u7840\u6307\u4EE4\uFF1A\u7528\u4E8E\u5B9A\u4E49\u65B0\u955C\u50CF\u7684\u57FA\u7840\u548C\u6027\u8D28\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u63A7\u5236\u6307\u4EE4\uFF1A\u662F\u6307\u5BFC\u955C\u50CF\u6784\u5EFA\u7684\u6838\u5FC3\u90E8\u5206\uFF0C\u7528\u4E8E\u63CF\u8FF0\u955C\u50CF\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u9700\u8981\u6267\u884C\u7684\u547D\u4EE4\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u5F15\u5165\u6307\u4EE4\uFF1A\u7528\u4E8E\u5C06\u5916\u90E8\u6587\u4EF6\u76F4\u63A5\u5F15\u5165\u5230\u6784\u5EFA\u955C\u50CF\u5185\u90E8\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u6267\u884C\u6307\u4EE4\uFF1A\u80FD\u591F\u4E3A\u57FA\u4E8E\u955C\u50CF\u6240\u521B\u5EFA\u7684\u5BB9\u5668\uFF0C\u6307\u5B9A\u5728\u542F\u52A8\u65F6\u9700\u8981\u6267\u884C\u7684\u811A\u672C\u6216\u547D\u4EE4\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u914D\u7F6E\u6307\u4EE4\uFF1A\u5BF9\u955C\u50CF\u4EE5\u53CA\u57FA\u4E8E\u955C\u50CF\u6240\u521B\u5EFA\u7684\u5BB9\u5668\uFF0C\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u6307\u4EE4\u5BF9\u5176\u7F51\u7EDC\u3001\u7528\u6237\u7B49\u5185\u5BB9\u8FDB\u884C\u914D\u7F6E\u3002"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u8FD9\u4E94\u7C7B\u547D\u4EE4\u5E76\u975E\u90FD\u4F1A\u51FA\u73B0\u5728\u4E00\u4E2A Dockerfile \u91CC\uFF0C\u4F46\u5374\u5BF9\u57FA\u4E8E\u8FD9\u4E2A Dockerfile \u6240\u6784\u5EFA\u955C\u50CF\u5F62\u6210\u4E0D\u540C\u7684\u5F71\u54CD\u3002"}),"\n",(0,d.jsxs)(n.h4,{id:"\u5E38\u89C1-dockerfile-\u6307\u4EE4",children:["\u5E38\u89C1 Dockerfile \u6307\u4EE4",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5E38\u89C1-dockerfile-\u6307\u4EE4",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"FROM"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u901A\u5E38\u6765\u8BF4\uFF0C\u6211\u4EEC\u4E0D\u4F1A\u4ECE\u96F6\u5F00\u59CB\u642D\u5EFA\u4E00\u4E2A\u955C\u50CF\uFF0C\u800C\u662F\u4F1A\u9009\u62E9\u4E00\u4E2A\u5DF2\u7ECF\u5B58\u5728\u7684\u955C\u50CF\u4F5C\u4E3A\u6211\u4EEC\u65B0\u955C\u50CF\u7684\u57FA\u7840\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u80FD\u591F\u5927\u5E45\u51CF\u5C11\u6211\u4EEC\u7684\u65F6\u95F4\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728 Dockerfile \u91CC\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 FROM \u6307\u4EE4\u6307\u5B9A\u4E00\u4E2A\u57FA\u7840\u955C\u50CF\uFF0C\u63A5\u4E0B\u6765\u6240\u6709\u7684\u6307\u4EE4\u90FD\u662F\u57FA\u4E8E\u8FD9\u4E2A\u955C\u50CF\u6240\u5C55\u5F00\u7684\u3002\u5728\u955C\u50CF\u6784\u5EFA\u7684\u8FC7\u7A0B\u4E2D\uFF0CDocker \u4E5F\u4F1A\u5148\u83B7\u53D6\u5230\u8FD9\u4E2A\u7ED9\u51FA\u7684\u57FA\u7840\u955C\u50CF\uFF0C\u518D\u4ECE\u8FD9\u4E2A\u955C\u50CF\u4E0A\u8FDB\u884C\u6784\u5EFA\u64CD\u4F5C\u3002"}),"\n",(0,d.jsx)(n.p,{children:"FROM \u6307\u4EE4\u652F\u6301\u4E09\u79CD\u5F62\u5F0F\uFF0C\u4E0D\u7BA1\u662F\u54EA\u79CD\u5F62\u5F0F\uFF0C\u5176\u6838\u5FC3\u903B\u8F91\u5C31\u662F\u6307\u51FA\u80FD\u591F\u88AB Docker \u8BC6\u522B\u7684\u90A3\u4E2A\u955C\u50CF\uFF0C\u597D\u8BA9 Docker \u4ECE\u90A3\u4E2A\u955C\u50CF\u4E4B\u4E0A\u5F00\u59CB\u6784\u5EFA\u5DE5\u4F5C\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"FROM <image> [AS <name>]\nFROM <image>[:<tag>] [AS <name>]\nFROM <image>[@<digest>] [AS <name>]\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u65E2\u7136\u9009\u62E9\u4E00\u4E2A\u57FA\u7840\u955C\u50CF\u662F\u6784\u5EFA\u65B0\u955C\u50CF\u7684\u6839\u672C\uFF0C\u90A3\u4E48 Dockerfile \u4E2D\u7684\u7B2C\u4E00\u6761\u6307\u4EE4\u5FC5\u987B\u662F FROM \u6307\u4EE4\uFF0C\u56E0\u4E3A\u6CA1\u6709\u4E86\u57FA\u7840\u955C\u50CF\uFF0C\u4E00\u5207\u6784\u5EFA\u8FC7\u7A0B\u90FD\u65E0\u6CD5\u5F00\u5C55\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5F53\u7136\uFF0C\u4E00\u4E2A Dockerfile \u8981\u4EE5 FROM \u6307\u4EE4\u4F5C\u4E3A\u5F00\u59CB\u5E76\u4E0D\u610F\u5473\u7740 FROM \u53EA\u80FD\u662F Dockerfile \u4E2D\u7684\u7B2C\u4E00\u6761\u6307\u4EE4\u3002\u5728 Dockerfile \u4E2D\u53EF\u4EE5\u591A\u6B21\u51FA\u73B0 FROM \u6307\u4EE4\uFF0C\u5F53 FROM \u7B2C\u4E8C\u6B21\u6216\u8005\u4E4B\u540E\u51FA\u73B0\u65F6\uFF0C\u8868\u793A\u5728\u6B64\u523B\u6784\u5EFA\u65F6\uFF0C\u8981\u5C06\u5F53\u524D\u6307\u51FA\u955C\u50CF\u7684\u5185\u5BB9\u5408\u5E76\u5230\u6B64\u523B\u6784\u5EFA\u955C\u50CF\u7684\u5185\u5BB9\u91CC\u3002\u8FD9\u5BF9\u4E8E\u6211\u4EEC\u76F4\u63A5\u5408\u5E76\u4E24\u4E2A\u955C\u50CF\u7684\u529F\u80FD\u5F88\u6709\u5E2E\u52A9\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"RUN"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u955C\u50CF\u7684\u6784\u5EFA\u867D\u7136\u662F\u6309\u7167\u6307\u4EE4\u6267\u884C\u7684\uFF0C\u4F46\u6307\u4EE4\u53EA\u662F\u5F15\u5BFC\uFF0C\u6700\u7EC8\u5927\u90E8\u5206\u5185\u5BB9\u8FD8\u662F\u63A7\u5236\u53F0\u4E2D\u5BF9\u7A0B\u5E8F\u53D1\u51FA\u7684\u547D\u4EE4\uFF0C\u800C RUN \u6307\u4EE4\u5C31\u662F\u7528\u4E8E\u5411\u63A7\u5236\u53F0\u53D1\u9001\u547D\u4EE4\u7684\u6307\u4EE4\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728 RUN \u6307\u4EE4\u4E4B\u540E\uFF0C\u6211\u4EEC\u76F4\u63A5\u62FC\u63A5\u4E0A\u9700\u8981\u6267\u884C\u7684\u547D\u4EE4\uFF0C\u5728\u6784\u5EFA\u65F6\uFF0CDocker \u5C31\u4F1A\u6267\u884C\u8FD9\u4E9B\u547D\u4EE4\uFF0C\u5E76\u5C06\u5B83\u4EEC\u5BF9\u6587\u4EF6\u7CFB\u7EDF\u7684\u4FEE\u6539\u8BB0\u5F55\u4E0B\u6765\uFF0C\u5F62\u6210\u955C\u50CF\u7684\u53D8\u5316\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'RUN <command>\nRUN ["executable", "param1", "param2"]\n'})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"ENTRYPOINT \u548C CMD"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u57FA\u4E8E\u955C\u50CF\u542F\u52A8\u7684\u5BB9\u5668\uFF0C\u5728\u5BB9\u5668\u542F\u52A8\u65F6\u4F1A\u6839\u636E\u955C\u50CF\u6240\u5B9A\u4E49\u7684\u4E00\u6761\u547D\u4EE4\u6765\u542F\u52A8\u5BB9\u5668\u4E2D\u8FDB\u7A0B\u53F7\u4E3A 1 \u7684\u8FDB\u7A0B\u3002\u800C\u8FD9\u4E2A\u547D\u4EE4\u7684\u5B9A\u4E49\uFF0C\u5C31\u662F\u901A\u8FC7 Dockerfile \u4E2D\u7684 ENTRYPOINT \u548C CMD \u5B9E\u73B0\u7684\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'ENTRYPOINT ["executable", "param1", "param2"]\nENTRYPOINT command param1 param2\n\nCMD ["executable","param1","param2"]\nCMD ["param1","param2"]\nCMD command param1 param2\n'})}),"\n",(0,d.jsx)(n.p,{children:"ENTRYPOINT \u6307\u4EE4\u548C CMD \u6307\u4EE4\u7684\u7528\u6CD5\u8FD1\u4F3C\uFF0C\u90FD\u662F\u7ED9\u51FA\u9700\u8981\u6267\u884C\u7684\u547D\u4EE4\uFF0C\u5E76\u4E14\u5B83\u4EEC\u90FD\u53EF\u4EE5\u4E3A\u7A7A\uFF0C\u6216\u8005\u8BF4\u662F\u4E0D\u5728 Dockerfile \u91CC\u6307\u51FA\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5F53 ENTRYPOINT \u4E0E CMD \u540C\u65F6\u7ED9\u51FA\u65F6\uFF0CCMD \u4E2D\u7684\u5185\u5BB9\u4F1A\u4F5C\u4E3A ENTRYPOINT \u5B9A\u4E49\u547D\u4EE4\u7684\u53C2\u6570\uFF0C\u6700\u7EC8\u6267\u884C\u5BB9\u5668\u542F\u52A8\u7684\u8FD8\u662F ENTRYPOINT \u4E2D\u7ED9\u51FA\u7684\u547D\u4EE4\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"EXPOSE"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u7531\u4E8E\u6211\u4EEC\u6784\u5EFA\u955C\u50CF\u65F6\u66F4\u4E86\u89E3\u955C\u50CF\u4E2D\u5E94\u7528\u7A0B\u5E8F\u7684\u903B\u8F91\uFF0C\u4E5F\u66F4\u52A0\u6E05\u695A\u5B83\u9700\u8981\u63A5\u6536\u548C\u5904\u7406\u6765\u81EA\u54EA\u4E9B\u7AEF\u53E3\u7684\u8BF7\u6C42\uFF0C\u6240\u4EE5\u5728\u955C\u50CF\u4E2D\u5B9A\u4E49\u7AEF\u53E3\u66B4\u9732\u663E\u7136\u662F\u66F4\u5408\u7406\u7684\u505A\u6CD5\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u901A\u8FC7 EXPOSE \u6307\u4EE4\u5C31\u53EF\u4EE5\u4E3A\u955C\u50CF\u6307\u5B9A\u8981\u66B4\u9732\u7684\u7AEF\u53E3\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"EXPOSE <port> [<port>/<protocol>...]\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5F53\u6211\u4EEC\u901A\u8FC7 EXPOSE \u6307\u4EE4\u914D\u7F6E\u4E86\u955C\u50CF\u7684\u7AEF\u53E3\u66B4\u9732\u5B9A\u4E49\uFF0C\u90A3\u4E48\u57FA\u4E8E\u8FD9\u4E2A\u955C\u50CF\u6240\u521B\u5EFA\u7684\u5BB9\u5668\uFF0C\u5728\u88AB\u5176\u4ED6\u5BB9\u5668\u901A\u8FC7 --link \u9009\u9879\u8FDE\u63A5\u65F6\uFF0C\u5C31\u80FD\u591F\u76F4\u63A5\u5141\u8BB8\u6765\u81EA\u5176\u4ED6\u5BB9\u5668\u5BF9\u8FD9\u4E9B\u7AEF\u53E3\u7684\u8BBF\u95EE\u4E86\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"VOLUME"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u4E00\u4E9B\u7A0B\u5E8F\u91CC\uFF0C\u6211\u4EEC\u9700\u8981\u6301\u4E45\u5316\u4E00\u4E9B\u6570\u636E\uFF0C\u6BD4\u5982\u6570\u636E\u5E93\u4E2D\u5B58\u50A8\u6570\u636E\u7684\u6587\u4EF6\u5939\u5C31\u9700\u8981\u5355\u72EC\u5904\u7406\u3002\u5728\u4E4B\u524D\u7684\u5C0F\u8282\u91CC\uFF0C\u6211\u4EEC\u63D0\u5230\u53EF\u4EE5\u901A\u8FC7\u6570\u636E\u5377\u6765\u5904\u7406\u8FD9\u4E9B\u95EE\u9898\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4F46\u4F7F\u7528\u6570\u636E\u5377\u9700\u8981\u6211\u4EEC\u5728\u521B\u5EFA\u5BB9\u5668\u65F6\u901A\u8FC7 -v \u9009\u9879\u6765\u5B9A\u4E49\uFF0C\u800C\u6709\u65F6\u5019\u7531\u4E8E\u955C\u50CF\u7684\u4F7F\u7528\u8005\u5BF9\u955C\u50CF\u4E86\u89E3\u7A0B\u5EA6\u4E0D\u9AD8\uFF0C\u4F1A\u6F0F\u6389\u6570\u636E\u5377\u7684\u521B\u5EFA\uFF0C\u4ECE\u800C\u5F15\u8D77\u4E0D\u5FC5\u8981\u7684\u9EBB\u70E6\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u8FD8\u662F\u90A3\u53E5\u8BDD\uFF0C\u5236\u4F5C\u955C\u50CF\u7684\u4EBA\u662F\u6700\u6E05\u695A\u955C\u50CF\u4E2D\u7A0B\u5E8F\u5DE5\u4F5C\u7684\u5404\u9879\u6D41\u7A0B\u7684\uFF0C\u6240\u4EE5\u5B83\u6765\u5B9A\u4E49\u6570\u636E\u5377\u4E5F\u662F\u6700\u5408\u9002\u7684\u3002\u6240\u4EE5\u5728 Dockerfile \u91CC\uFF0C\u63D0\u4F9B\u4E86 VOLUME \u6307\u4EE4\u6765\u5B9A\u4E49\u57FA\u4E8E\u6B64\u955C\u50CF\u7684\u5BB9\u5668\u6240\u81EA\u52A8\u5EFA\u7ACB\u7684\u6570\u636E\u5377\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'VOLUME ["/data"]\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u5728 VOLUME \u6307\u4EE4\u4E2D\u5B9A\u4E49\u7684\u76EE\u5F55\uFF0C\u5728\u57FA\u4E8E\u65B0\u955C\u50CF\u521B\u5EFA\u5BB9\u5668\u65F6\uFF0C\u4F1A\u81EA\u52A8\u5EFA\u7ACB\u4E3A\u6570\u636E\u5377\uFF0C\u4E0D\u9700\u8981\u6211\u4EEC\u518D\u5355\u72EC\u4F7F\u7528 -v \u9009\u9879\u6765\u914D\u7F6E\u4E86\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"COPY \u548C ADD"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u5236\u4F5C\u65B0\u7684\u955C\u50CF\u7684\u65F6\u5019\uFF0C\u6211\u4EEC\u53EF\u80FD\u9700\u8981\u5C06\u4E00\u4E9B\u8F6F\u4EF6\u914D\u7F6E\u3001\u7A0B\u5E8F\u4EE3\u7801\u3001\u6267\u884C\u811A\u672C\u7B49\u76F4\u63A5\u5BFC\u5165\u5230\u955C\u50CF\u5185\u7684\u6587\u4EF6\u7CFB\u7EDF\u91CC\uFF0C\u4F7F\u7528 COPY \u6216 ADD \u6307\u4EE4\u80FD\u591F\u5E2E\u52A9\u6211\u4EEC\u76F4\u63A5\u4ECE\u5BBF\u4E3B\u673A\u7684\u6587\u4EF6\u7CFB\u7EDF\u91CC\u62F7\u8D1D\u5185\u5BB9\u5230\u955C\u50CF\u91CC\u7684\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'COPY [--chown=<user>:<group>] <src>... <dest>\nADD [--chown=<user>:<group>] <src>... <dest>\n\nCOPY [--chown=<user>:<group>] ["<src>",... "<dest>"]\nADD [--chown=<user>:<group>] ["<src>",... "<dest>"]\n'})}),"\n",(0,d.jsx)(n.p,{children:"COPY \u4E0E ADD \u6307\u4EE4\u7684\u5B9A\u4E49\u65B9\u5F0F\u5B8C\u5168\u4E00\u6837\uFF0C\u9700\u8981\u6CE8\u610F\u7684\u4EC5\u662F\u5F53\u6211\u4EEC\u7684\u76EE\u5F55\u4E2D\u5B58\u5728\u7A7A\u683C\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u540E\u4E24\u79CD\u683C\u5F0F\u907F\u514D\u7A7A\u683C\u4EA7\u751F\u6B67\u4E49\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5BF9\u6BD4 COPY \u4E0E ADD\uFF0C\u4E24\u8005\u7684\u533A\u522B\u4E3B\u8981\u5728\u4E8E ADD \u80FD\u591F\u652F\u6301\u4F7F\u7528\u7F51\u7EDC\u7AEF\u7684 URL \u5730\u5740\u4F5C\u4E3A src \u6E90\uFF0C\u5E76\u4E14\u5728\u6E90\u6587\u4EF6\u88AB\u8BC6\u522B\u4E3A\u538B\u7F29\u5305\u65F6\uFF0C\u81EA\u52A8\u8FDB\u884C\u89E3\u538B\uFF0C\u800C COPY \u6CA1\u6709\u8FD9\u4E24\u4E2A\u80FD\u529B\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u867D\u7136\u770B\u4E0A\u53BB COPY \u80FD\u529B\u7A0D\u5F31\uFF0C\u4F46\u5BF9\u4E8E\u90A3\u4E9B\u4E0D\u5E0C\u671B\u6E90\u6587\u4EF6\u88AB\u89E3\u538B\u6216\u6CA1\u6709\u7F51\u7EDC\u8BF7\u6C42\u7684\u573A\u666F\uFF0CCOPY \u6307\u4EE4\u662F\u4E2A\u4E0D\u9519\u7684\u9009\u62E9\u3002"}),"\n",(0,d.jsxs)(n.h3,{id:"\u6784\u5EFA\u955C\u50CF",children:["\u6784\u5EFA\u955C\u50CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6784\u5EFA\u955C\u50CF",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# -t \u540D\u79F0\n# -f \u4F9D\u8D56\u7684Dockerfile\u6587\u4EF6\n# ./webapp \u811A\u672C\u6267\u884C\u4F9D\u8D56\u7684\u8DEF\u5F84\uFF0C\u6BD4\u5982\u590D\u5236\u6587\u4EF6\u7B49\ndocker build -t webapp:latest -f ./webapp/a.Dockerfile ./webapp\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"-t"})," \u9009\u9879\uFF0C\u7528\u5B83\u6765\u6307\u5B9A\u65B0\u751F\u6210\u955C\u50CF\u7684\u540D\u79F0"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u5E38\u89C1\u6280\u5DE7",children:["\u5E38\u89C1\u6280\u5DE7",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5E38\u89C1\u6280\u5DE7",children:"#"})]}),"\n",(0,d.jsxs)(n.h4,{id:"\u6784\u5EFA\u4E2D\u4F7F\u7528\u53D8\u91CF",children:["\u6784\u5EFA\u4E2D\u4F7F\u7528\u53D8\u91CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6784\u5EFA\u4E2D\u4F7F\u7528\u53D8\u91CF",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5728 Dockerfile \u91CC\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7528 ARG \u6307\u4EE4\u6765\u5EFA\u7ACB\u4E00\u4E2A\u53C2\u6570\u53D8\u91CF\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u6784\u5EFA\u65F6\u901A\u8FC7\u6784\u5EFA\u6307\u4EE4\u4F20\u5165\u8FD9\u4E2A\u53C2\u6570\u53D8\u91CF\uFF0C\u5E76\u4E14\u5728 Dockerfile \u91CC\u4F7F\u7528\u5B83\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4F8B\u5982\uFF0C\u6211\u4EEC\u5E0C\u671B\u901A\u8FC7\u53C2\u6570\u53D8\u91CF\u63A7\u5236 Dockerfile \u4E2D\u67D0\u4E2A\u7A0B\u5E8F\u7684\u7248\u672C\uFF0C\u5728\u6784\u5EFA\u65F6\u5B89\u88C5\u6211\u4EEC\u6307\u5B9A\u7248\u672C\u7684\u8F6F\u4EF6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 ARG \u5B9A\u4E49\u7684\u53C2\u6570\u4F5C\u4E3A\u5360\u4F4D\u7B26\uFF0C\u66FF\u6362\u7248\u672C\u5B9A\u4E49\u7684\u90E8\u5206\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'FROM debian:stretch-slim\n\n## ......\n\nARG TOMCAT_MAJOR\nARG TOMCAT_VERSION\n\n## ......\n\nRUN wget -O tomcat.tar.gz "https://www.apache.org/dyn/closer.cgi?action=download&filename=tomcat/tomcat-$TOMCAT_MAJOR/v$TOMCAT_VERSION/bin/apache-tomcat-$TOMCAT_VERSION.tar.gz"\n\n## ......\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u8FD9\u4E2A\u4F8B\u5B50\u91CC\uFF0C\u6211\u4EEC\u5C06 Tomcat \u7684\u7248\u672C\u53F7\u901A\u8FC7 ARG \u6307\u4EE4\u5B9A\u4E49\u4E3A\u53C2\u6570\u53D8\u91CF\uFF0C\u5728\u8C03\u7528\u4E0B\u8F7D Tomcat \u5305\u65F6\uFF0C\u4F7F\u7528\u53D8\u91CF\u66FF\u6362\u6389\u4E0B\u8F7D\u5730\u5740\u4E2D\u7684\u7248\u672C\u53F7\u3002\u901A\u8FC7\u8FD9\u6837\u7684\u5B9A\u4E49\uFF0C\u5C31\u53EF\u4EE5\u8BA9\u6211\u4EEC\u5728\u4E0D\u5BF9 Dockerfile \u8FDB\u884C\u5927\u5E45\u4FEE\u6539\u7684\u524D\u63D0\u4E0B\uFF0C\u8F7B\u677E\u5B9E\u73B0\u5BF9 Tomcat \u7248\u672C\u7684\u5207\u6362\u5E76\u91CD\u65B0\u6784\u5EFA\u955C\u50CF\u4E86\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u6211\u4EEC\u9700\u8981\u901A\u8FC7\u8FD9\u4E2A Dockerfile \u6587\u4EF6\u6784\u5EFA Tomcat \u955C\u50CF\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u6784\u5EFA\u65F6\u901A\u8FC7 docker build \u7684 --build-arg \u9009\u9879\u6765\u8BBE\u7F6E\u53C2\u6570\u53D8\u91CF\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo docker build --build-arg TOMCAT_MAJOR=8 --build-arg TOMCAT_VERSION=8.0.53 -t tomcat:8.0 ./tomcat\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"\u73AF\u5883\u53D8\u91CF",children:["\u73AF\u5883\u53D8\u91CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u73AF\u5883\u53D8\u91CF",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u73AF\u5883\u53D8\u91CF\u4E5F\u662F\u7528\u6765\u5B9A\u4E49\u53C2\u6570\u7684\u4E1C\u897F\uFF0C\u4E0E ARG \u6307\u4EE4\u76F8\u7C7B\u4F3C\uFF0C\u73AF\u5883\u53D8\u91CF\u7684\u5B9A\u4E49\u662F\u901A\u8FC7 ENV \u8FD9\u4E2A\u6307\u4EE4\u6765\u5B8C\u6210\u7684\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'FROM debian:stretch-slim\n\n## ......\n\nENV TOMCAT_MAJOR 8\nENV TOMCAT_VERSION 8.0.53\n\n## ......\n\nRUN wget -O tomcat.tar.gz "https://www.apache.org/dyn/closer.cgi?action=download&filename=tomcat/tomcat-$TOMCAT_MAJOR/v$TOMCAT_VERSION/bin/apache-tomcat-$TOMCAT_VERSION.tar.gz"\n\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u73AF\u5883\u53D8\u91CF\u7684\u4F7F\u7528\u65B9\u6CD5\u4E0E\u53C2\u6570\u53D8\u91CF\u4E00\u6837\uFF0C\u4E5F\u90FD\u662F\u80FD\u591F\u76F4\u63A5\u66FF\u6362\u6307\u4EE4\u53C2\u6570\u4E2D\u7684\u5185\u5BB9\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4E0E\u53C2\u6570\u53D8\u91CF\u53EA\u80FD\u5F71\u54CD\u6784\u5EFA\u8FC7\u7A0B\u4E0D\u540C\uFF0C\u73AF\u5883\u53D8\u91CF\u4E0D\u4EC5\u80FD\u591F\u5F71\u54CD\u6784\u5EFA\uFF0C\u8FD8\u80FD\u591F\u5F71\u54CD\u57FA\u4E8E\u6B64\u955C\u50CF\u521B\u5EFA\u7684\u5BB9\u5668\u3002\u73AF\u5883\u53D8\u91CF\u8BBE\u7F6E\u7684\u5B9E\u8D28\uFF0C\u5176\u5B9E\u5C31\u662F\u5B9A\u4E49\u64CD\u4F5C\u7CFB\u7EDF\u73AF\u5883\u53D8\u91CF\uFF0C\u6240\u4EE5\u5728\u8FD0\u884C\u7684\u5BB9\u5668\u91CC\uFF0C\u4E00\u6837\u62E5\u6709\u8FD9\u4E9B\u53D8\u91CF\uFF0C\u800C\u5BB9\u5668\u4E2D\u8FD0\u884C\u7684\u7A0B\u5E8F\u4E5F\u80FD\u591F\u5F97\u5230\u8FD9\u4E9B\u53D8\u91CF\u7684\u503C\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u53E6\u4E00\u4E2A\u4E0D\u540C\u70B9\u662F\uFF0C\u73AF\u5883\u53D8\u91CF\u7684\u503C\u4E0D\u662F\u5728\u6784\u5EFA\u6307\u4EE4\u4E2D\u4F20\u5165\u7684\uFF0C\u800C\u662F\u5728 Dockerfile \u4E2D\u7F16\u5199\u7684\uFF0C\u6240\u4EE5\u5982\u679C\u6211\u4EEC\u8981\u4FEE\u6539\u73AF\u5883\u53D8\u91CF\u7684\u503C\uFF0C\u6211\u4EEC\u9700\u8981\u5230 Dockerfile \u4FEE\u6539\u3002\u4E0D\u8FC7\u5373\u4F7F\u8FD9\u6837\uFF0C\u53EA\u8981\u6211\u4EEC\u5C06 ENV \u5B9A\u4E49\u653E\u5728 Dockerfile \u524D\u90E8\u5BB9\u6613\u67E5\u627E\u7684\u5730\u65B9\uFF0C\u5176\u4F9D\u7136\u53EF\u4EE5\u5F88\u5FEB\u7684\u5E2E\u52A9\u6211\u4EEC\u5207\u6362\u955C\u50CF\u73AF\u5883\u4E2D\u7684\u4E00\u4E9B\u5185\u5BB9\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u7531\u4E8E\u73AF\u5883\u53D8\u91CF\u5728\u5BB9\u5668\u8FD0\u884C\u65F6\u4F9D\u7136\u6709\u6548\uFF0C\u6240\u4EE5\u8FD0\u884C\u5BB9\u5668\u65F6\u6211\u4EEC\u8FD8\u53EF\u4EE5\u5BF9\u5176\u8FDB\u884C\u8986\u76D6\uFF0C\u5728\u521B\u5EFA\u5BB9\u5668\u65F6\u4F7F\u7528 -e \u6216\u662F --env \u9009\u9879\uFF0C\u53EF\u4EE5\u5BF9\u73AF\u5883\u53D8\u91CF\u7684\u503C\u8FDB\u884C\u4FEE\u6539\u6216\u5B9A\u4E49\u65B0\u7684\u73AF\u5883\u53D8\u91CF\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo docker run -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:5.7\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4E8B\u5B9E\u4E0A\uFF0C\u8FD9\u79CD\u7528\u6CD5\u5728\u6211\u4EEC\u5F00\u53D1\u4E2D\u662F\u975E\u5E38\u5E38\u89C1\u7684\u3002\u4E5F\u6B63\u662F\u56E0\u4E3A\u8FD9\u79CD\u5141\u8BB8\u8FD0\u884C\u65F6\u914D\u7F6E\u7684\u65B9\u6CD5\u5B58\u5728\uFF0C\u73AF\u5883\u53D8\u91CF\u548C\u5B9A\u4E49\u5B83\u7684 ENV \u6307\u4EE4\uFF0C\u662F\u6211\u4EEC\u66F4\u5E38\u4F7F\u7528\u7684\u6307\u4EE4\uFF0C\u6211\u4EEC\u4F1A\u4F18\u5148\u9009\u62E9\u5B83\u4EEC\u6765\u5B9E\u73B0\u5BF9\u53D8\u91CF\u7684\u64CD\u4F5C\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u53E6\u5916\u9700\u8981\u8BF4\u660E\u4E00\u70B9\uFF0C\u901A\u8FC7 ENV \u6307\u4EE4\u548C ARG \u6307\u4EE4\u6240\u5B9A\u4E49\u7684\u53C2\u6570\uFF0C\u5728\u4F7F\u7528\u65F6\u90FD\u662F\u91C7\u7528 $ + NAME \u8FD9\u79CD\u5F62\u5F0F\u6765\u5360\u4F4D\u7684\uFF0C\u6240\u4EE5\u5B83\u4EEC\u4E4B\u95F4\u7684\u5B9A\u4E49\u5C31\u5B58\u5728\u51B2\u7A81\u7684\u53EF\u80FD\u6027\u3002\u5BF9\u4E8E\u8FD9\u79CD\u573A\u666F\uFF0C\u5927\u5BB6\u53EA\u9700\u8981\u8BB0\u4F4F\uFF0CENV \u6307\u4EE4\u6240\u5B9A\u4E49\u7684\u53D8\u91CF\uFF0C\u6C38\u8FDC\u4F1A\u8986\u76D6 ARG \u6240\u5B9A\u4E49\u7684\u53D8\u91CF\uFF0C\u5373\u4F7F\u5B83\u4EEC\u5B9A\u65F6\u7684\u987A\u5E8F\u662F\u76F8\u53CD\u7684\u3002"}),"\n",(0,d.jsxs)(n.h4,{id:"\u5408\u5E76\u547D\u4EE4",children:["\u5408\u5E76\u547D\u4EE4",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5408\u5E76\u547D\u4EE4",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u4E0A\u4E00\u8282\u6211\u4EEC\u5C55\u793A\u7684\u5B8C\u6574\u7684\u5B98\u65B9 Redis \u955C\u50CF\u7684 Dockerfile \u4E2D\uFF0C\u6211\u4EEC\u4F1A\u53D1\u73B0 RUN \u7B49\u6307\u4EE4\u91CC\u4F1A\u805A\u5408\u4E0B\u5927\u91CF\u7684\u4EE3\u7801\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4E8B\u5B9E\u4E0A\uFF0C\u4E0B\u9762\u4E24\u79CD\u5199\u6CD5\u5BF9\u4E8E\u642D\u5EFA\u7684\u73AF\u5883\u6765\u8BF4\u662F\u6CA1\u6709\u592A\u5927\u533A\u522B\u7684\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u53EA\u4F1A\u6253\u4E00\u4E2Acommit\uFF0C\u589E\u52A0\u4E00\u4E2A\u955C\u50CF\u5C42 (\u4F18\u5148\u4F7F\u7528\u8BE5\u79CD)\nRUN apt-get update; \\\n    apt-get install -y --no-install-recommends $fetchDeps; \\\n    rm -rf /var/lib/apt/lists/*;\n\n# \u589E\u52A0\u4E09\u4E2A\u955C\u50CF\u5C42\nRUN apt-get update\nRUN apt-get install -y --no-install-recommends $fetchDeps\nRUN rm -rf /var/lib/apt/lists/*\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"\u6784\u5EFA\u7F13\u5B58",children:["\u6784\u5EFA\u7F13\u5B58",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6784\u5EFA\u7F13\u5B58",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"Docker \u5728\u955C\u50CF\u6784\u5EFA\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u8FD8\u652F\u6301\u4E00\u79CD\u7F13\u5B58\u7B56\u7565\u6765\u63D0\u9AD8\u955C\u50CF\u7684\u6784\u5EFA\u901F\u5EA6\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u7531\u4E8E\u955C\u50CF\u662F\u591A\u4E2A\u6307\u4EE4\u6240\u521B\u5EFA\u7684\u955C\u50CF\u5C42\u7EC4\u5408\u800C\u5F97\uFF0C\u90A3\u4E48\u5982\u679C\u6211\u4EEC\u5224\u65AD\u65B0\u7F16\u8BD1\u7684\u955C\u50CF\u5C42\u4E0E\u5DF2\u7ECF\u5B58\u5728\u7684\u955C\u50CF\u5C42\u672A\u53D1\u751F\u53D8\u5316\uFF0C\u90A3\u4E48\u6211\u4EEC\u5B8C\u5168\u53EF\u4EE5\u76F4\u63A5\u5229\u7528\u4E4B\u524D\u6784\u5EFA\u7684\u7ED3\u679C\uFF0C\u800C\u4E0D\u9700\u8981\u518D\u6267\u884C\u8FD9\u6761\u6784\u5EFA\u6307\u4EE4\uFF0C\u8FD9\u5C31\u662F\u955C\u50CF\u6784\u5EFA\u7F13\u5B58\u7684\u539F\u7406\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u90A3\u4E48 Docker \u662F\u5982\u4F55\u5224\u65AD\u955C\u50CF\u5C42\u4E0E\u4E4B\u524D\u7684\u955C\u50CF\u95F4\u4E0D\u5B58\u5728\u53D8\u5316\u7684\u5462\uFF1F\u8FD9\u4E3B\u8981\u53C2\u8003\u4E24\u4E2A\u7EF4\u5EA6\uFF0C\u7B2C\u4E00\u662F\u6240\u57FA\u4E8E\u7684\u955C\u50CF\u5C42\u662F\u5426\u4E00\u6837\uFF0C\u7B2C\u4E8C\u662F\u7528\u4E8E\u751F\u6210\u955C\u50CF\u5C42\u7684\u6307\u4EE4\u7684\u5185\u5BB9\u662F\u5426\u4E00\u6837\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u57FA\u4E8E\u8FD9\u4E2A\u539F\u5219\uFF0C\u6211\u4EEC\u5728\u6761\u4EF6\u5141\u8BB8\u7684\u524D\u63D0\u4E0B\uFF0C\u66F4\u5EFA\u8BAE\u5C06\u4E0D\u5BB9\u6613\u53D1\u751F\u53D8\u5316\u7684\u642D\u5EFA\u8FC7\u7A0B\u653E\u5230 Dockerfile \u7684\u524D\u90E8\uFF0C\u5145\u5206\u5229\u7528\u6784\u5EFA\u7F13\u5B58\u63D0\u9AD8\u955C\u50CF\u6784\u5EFA\u7684\u901F\u5EA6\u3002\u53E6\u5916\uFF0C\u6307\u4EE4\u7684\u5408\u5E76\u4E5F\u4E0D\u5B9C\u8FC7\u5EA6\uFF0C\u800C\u662F\u5C06\u6613\u53D8\u548C\u4E0D\u6613\u53D8\u7684\u8FC7\u7A0B\u62C6\u5206\uFF0C\u5206\u522B\u653E\u5230\u4E0D\u540C\u7684\u6307\u4EE4\u91CC\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u53E6\u5916\u4E00\u4E9B\u65F6\u5019\uFF0C\u6211\u4EEC\u53EF\u80FD\u4E0D\u5E0C\u671B Docker \u5728\u6784\u5EFA\u955C\u50CF\u65F6\u4F7F\u7528\u6784\u5EFA\u7F13\u5B58\uFF0C\u8FD9\u65F6\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 --no-cache \u9009\u9879\u6765\u7981\u7528\u5B83\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker build --no-cache ./webapp\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"\u642D\u914D-entrypoint-\u548C-cmd",children:["\u642D\u914D ENTRYPOINT \u548C CMD",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u642D\u914D-entrypoint-\u548C-cmd",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u4E0A\u4E00\u8282\u6211\u4EEC\u8C08\u5230\u4E86 ENTRYPOINT \u548C CMD \u8FD9\u4E24\u4E2A\u547D\u4EE4\uFF0C\u4E5F\u89E3\u91CA\u4E86\u8FD9\u4E24\u4E2A\u547D\u4EE4\u7684\u76EE\u7684\uFF0C\u5373\u90FD\u662F\u7528\u6765\u6307\u5B9A\u57FA\u4E8E\u6B64\u955C\u50CF\u6240\u521B\u5EFA\u5BB9\u5668\u91CC\u4E3B\u8FDB\u7A0B\u7684\u542F\u52A8\u547D\u4EE4\u7684\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4E24\u4E2A\u6307\u4EE4\u7684\u533A\u522B\u5728\u4E8E\uFF0CENTRYPOINT \u6307\u4EE4\u7684\u4F18\u5148\u7EA7\u9AD8\u4E8E CMD \u6307\u4EE4\u3002\u5F53 ENTRYPOINT \u548C CMD \u540C\u65F6\u5728\u955C\u50CF\u4E2D\u88AB\u6307\u5B9A\u65F6\uFF0CCMD \u91CC\u7684\u5185\u5BB9\u4F1A\u4F5C\u4E3A ENTRYPOINT \u7684\u53C2\u6570\uFF0C\u4E24\u8005\u62FC\u63A5\u4E4B\u540E\uFF0C\u624D\u662F\u6700\u7EC8\u6267\u884C\u7684\u547D\u4EE4\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u6709\u7684\u8BFB\u8005\u4F1A\u5B58\u5728\u7591\u95EE\uFF0C\u65E2\u7136\u4E24\u8005\u90FD\u662F\u7528\u6765\u5B9A\u4E49\u5BB9\u5668\u542F\u52A8\u547D\u4EE4\u7684\uFF0C\u4E3A\u4EC0\u4E48\u8FD8\u8981\u5206\u6210\u4E24\u4E2A\uFF0C\u5408\u5E76\u4E3A\u4E00\u4E2A\u6307\u4EE4\u5C82\u4E0D\u662F\u66F4\u65B9\u4FBF\u5417\uFF1F"}),"\n",(0,d.jsxs)(n.p,{children:["\u8FD9\u5176\u5B9E\u5728\u4E8E ENTRYPOINT \u548C CMD \u8BBE\u8BA1\u7684\u76EE\u7684\u662F\u4E0D\u540C\u7684\u3002",(0,d.jsx)(n.strong,{children:"ENTRYPOINT \u6307\u4EE4\u4E3B\u8981\u7528\u4E8E\u5BF9\u5BB9\u5668\u8FDB\u884C\u4E00\u4E9B\u521D\u59CB\u5316\uFF0C\u800C CMD \u6307\u4EE4\u5219\u7528\u4E8E\u771F\u6B63\u5B9A\u4E49\u5BB9\u5668\u4E2D\u4E3B\u7A0B\u5E8F\u7684\u542F\u52A8\u547D\u4EE4"}),"\u3002"]}),"\n",(0,d.jsx)(n.p,{children:"\u53E6\u5916\uFF0C\u6211\u4EEC\u4E4B\u524D\u8C08\u5230\u521B\u5EFA\u5BB9\u5668\u65F6\u53EF\u4EE5\u6539\u5199\u5BB9\u5668\u4E3B\u7A0B\u5E8F\u7684\u542F\u52A8\u547D\u4EE4\uFF0C\u800C\u8FD9\u4E2A\u8986\u76D6\u53EA\u4F1A\u8986\u76D6 CMD \u4E2D\u5B9A\u4E49\u7684\u5185\u5BB9\uFF0C\u800C\u4E0D\u4F1A\u5F71\u54CD ENTRYPOINT \u4E2D\u7684\u5185\u5BB9\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u6211\u4EEC\u4F9D\u7136\u4EE5\u4E4B\u524D\u7684 Redis \u955C\u50CF\u4E3A\u4F8B\uFF0C\u8FD9\u662F Redis \u955C\u50CF\u4E2D\u5BF9 ENTRYPOINT \u548C CMD \u7684\u5B9A\u4E49\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'## ......\n\nCOPY docker-entrypoint.sh /usr/local/bin/\n\nENTRYPOINT ["docker-entrypoint.sh"]\n\n## ......\n\nCMD ["redis-server"]\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u53EF\u4EE5\u5F88\u6E05\u6670\u7684\u770B\u5230\uFF0CCMD \u6307\u4EE4\u5B9A\u4E49\u7684\u6B63\u662F\u542F\u52A8 Redis \u7684\u670D\u52A1\u7A0B\u5E8F\uFF0C\u800C ENTRYPOINT \u4F7F\u7528\u7684\u662F\u4E00\u4E2A\u5916\u90E8\u5F15\u5165\u7684\u811A\u672C\u6587\u4EF6\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4E8B\u5B9E\u4E0A\uFF0C\u4F7F\u7528\u811A\u672C\u6587\u4EF6\u6765\u4F5C\u4E3A ENTRYPOINT \u7684\u5185\u5BB9\u662F\u5E38\u89C1\u7684\u505A\u6CD5\uFF0C\u56E0\u4E3A\u5BF9\u5BB9\u5668\u8FD0\u884C\u521D\u59CB\u5316\u7684\u547D\u4EE4\u76F8\u5BF9\u8F83\u591A\uFF0C\u5168\u90E8\u76F4\u63A5\u653E\u7F6E\u5728 ENTRYPOINT \u540E\u4F1A\u7279\u522B\u590D\u6742\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u6211\u4EEC\u6765\u770B\u770B Redis \u4E2D\u7684 ENTRYPOINT \u811A\u672C\uFF0C\u53EF\u4EE5\u770B\u5230\u5176\u4E2D\u4F1A\u6839\u636E\u811A\u672C\u53C2\u6570\u8FDB\u884C\u4E00\u4E9B\u5904\u7406\uFF0C\u800C\u811A\u672C\u7684\u53C2\u6570\uFF0C\u5176\u5B9E\u5C31\u662F CMD \u4E2D\u5B9A\u4E49\u7684\u5185\u5BB9\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sh",children:'#!/bin/sh\nset -e\n\n# first arg is `-f` or `--some-option`\n# or first arg is `something.conf`\nif [ "${1#-}" != "$1" ] || [ "${1%.conf}" != "$1" ]; then\n  set -- redis-server "$@"\nfi\n\n# allow the container to be started with `--user`\nif [ "$1" = \'redis-server\' -a "$(id -u)" = \'0\' ]; then\n  find . \\! -user redis -exec chown redis \'{}\' +\n  exec gosu redis "$0" "$@"\nfi\n\nexec "$@"\n'})}),"\n",(0,d.jsx)(n.p,{children:'\u8FD9\u91CC\u6211\u4EEC\u8981\u5173\u6CE8\u811A\u672C\u6700\u540E\u7684\u4E00\u6761\u547D\u4EE4\uFF0C\u4E5F\u5C31\u662F exec "$@"\u3002\u5728\u5F88\u591A\u955C\u50CF\u7684 ENTRYPOINT \u811A\u672C\u91CC\uFF0C\u6211\u4EEC\u90FD\u4F1A\u770B\u5230\u8FD9\u6761\u547D\u4EE4\uFF0C\u5176\u4F5C\u7528\u5176\u5B9E\u5F88\u7B80\u5355\uFF0C\u5C31\u662F\u8FD0\u884C\u4E00\u4E2A\u7A0B\u5E8F\uFF0C\u800C\u8FD0\u884C\u547D\u4EE4\u5C31\u662F ENTRYPOINT \u811A\u672C\u7684\u53C2\u6570\u3002\u53CD\u8FC7\u6765\uFF0C\u7531\u4E8E ENTRYPOINT \u811A\u672C\u7684\u53C2\u6570\u5C31\u662F CMD \u6307\u4EE4\u4E2D\u7684\u5185\u5BB9\uFF0C\u6240\u4EE5\u5B9E\u9645\u6267\u884C\u7684\u5C31\u662F CMD \u91CC\u7684\u547D\u4EE4\u3002'}),"\n",(0,d.jsx)(n.p,{children:"\u6240\u4EE5\u8BF4\uFF0C\u867D\u7136 Docker \u5BF9\u5BB9\u5668\u542F\u52A8\u547D\u4EE4\u7684\u7ED3\u5408\u673A\u5236\u4E3A CMD \u4F5C\u4E3A ENTRYPOINT \u7684\u53C2\u6570\uFF0C\u5408\u5E76\u540E\u6267\u884C ENTRYPOINT \u4E2D\u7684\u5B9A\u4E49\uFF0C\u4F46\u5B9E\u9645\u5728\u6211\u4EEC\u4F7F\u7528\u4E2D\uFF0C\u6211\u4EEC\u8FD8\u4F1A\u5728 ENTRYPOINT \u7684\u811A\u672C\u91CC\u4EE3\u7406\u5230 CMD \u547D\u4EE4\u4E0A\u3002"}),"\n",(0,d.jsxs)(n.h4,{id:"\u4F7F\u7528-alpine-\u955C\u50CF",children:["\u4F7F\u7528 Alpine \u955C\u50CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528-alpine-\u955C\u50CF",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u5927\u5BB6\u591A\u63A5\u89E6\u51E0\u4E2A\u955C\u50CF\uFF0C\u5C31\u4F1A\u53D1\u73B0\u5E26\u6709 Alpine \u7684\u7248\u672C\u662F\u8BB8\u591A\u955C\u50CF\u4E2D\u90FD\u5E38\u89C1\u7684\u6807\u7B7E\u3002\u5E26\u6709 Alpine \u6807\u7B7E\u7684\u955C\u50CF\u5230\u5E95\u662F\u4EC0\u4E48\u6837\u7684\u5B58\u5728\u5462\uFF1F\u5B83\u4E0E\u76F8\u540C\u8F6F\u4EF6\u4E0D\u540C\u6807\u7B7E\u7684\u955C\u50CF\u53C8\u6709\u4EC0\u4E48\u6837\u7684\u533A\u522B\u5462\uFF1F"}),"\n",(0,d.jsx)(n.p,{children:"\u955C\u50CF\u6807\u7B7E\u4E2D\u7684 Alpine \u5176\u5B9E\u6307\u7684\u662F\u8FD9\u4E2A\u955C\u50CF\u5185\u7684\u6587\u4EF6\u7CFB\u7EDF\u5185\u5BB9\uFF0C\u662F\u57FA\u4E8E Alpine Linux \u8FD9\u4E2A\u64CD\u4F5C\u7CFB\u7EDF\u7684\u3002Alpine Linux \u662F\u4E00\u4E2A\u76F8\u5F53\u7CBE\u7B80\u7684\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u800C\u57FA\u4E8E\u5B83\u7684 Docker \u955C\u50CF\u53EF\u4EE5\u4EC5\u6709\u6570 MB \u7684\u5C3A\u5BF8\u3002\u5982\u679C\u8F6F\u4EF6\u57FA\u4E8E\u8FD9\u6837\u7684\u7CFB\u7EDF\u955C\u50CF\u4E4B\u4E0A\u6784\u5EFA\u800C\u5F97\uFF0C\u53EF\u4EE5\u60F3\u8C61\u65B0\u7684\u955C\u50CF\u4E5F\u662F\u5341\u5206\u5C0F\u5DE7\u7684\u3002"}),"\n",(0,d.jsxs)(n.h2,{id:"docker-compose-\u5BB9\u5668\u7F16\u6392",children:["Docker Compose \u5BB9\u5668\u7F16\u6392",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#docker-compose-\u5BB9\u5668\u7F16\u6392",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u7531\u4E8E Docker \u91C7\u7528\u8F7B\u91CF\u7EA7\u5BB9\u5668\u7684\u8BBE\u8BA1\uFF0C\u6BCF\u4E2A\u5BB9\u5668\u4E00\u822C\u53EA\u8FD0\u884C\u4E00\u4E2A\u8F6F\u4EF6\uFF0C\u800C\u76EE\u524D\u7EDD\u5927\u591A\u6570\u5E94\u7528\u7CFB\u7EDF\u90FD\u7EDD\u4E0D\u662F\u4E00\u4E2A\u8F6F\u4EF6\u6240\u80FD\u7EC4\u6210\u7684\u3002\u867D\u7136\u6211\u4EEC\u4E4B\u524D\u63D0\u5230\u4E86\u5BB9\u5668\u95F4\u4E92\u76F8\u8FDE\u63A5\u3001\u4EA4\u6362\u6570\u636E\u7684\u5404\u79CD\u65B9\u6CD5\uFF0C\u901A\u8FC7\u8FD9\u4E9B\u65B9\u6CD5\u8DB3\u4EE5\u642D\u5EFA\u8D77\u5B8C\u6574\u7684\u7528\u4E8E\u5E94\u7528\u7CFB\u7EDF\u8FD0\u884C\u7684\u5BB9\u5668\u7FA4\uFF0C\u4F46\u662F\u8FD9\u663E\u7136\u8FD8\u4E0D\u591F\uFF0C\u8FD9\u4E2A\u5BB9\u5668\u7FA4\u7684\u642D\u5EFA\u9700\u8981\u6267\u884C\u592A\u591A\u547D\u4EE4\uFF0C\u66F4\u91CD\u8981\u7684\u662F\u9700\u8981\u8003\u8651\u592A\u591A\u5E94\u7528\u548C\u5BB9\u5668\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\u5904\u7406\uFF0C\u662F\u4E00\u6CE2\u4EE4\u4EBA\u5934\u5927\u7684\u64CD\u4F5C\u3002\u5728\u8FD9\u4E00\u8282\u4E2D\uFF0C\u6211\u4EEC\u5C31\u6765\u4ECB\u7ECD\u5982\u4F55\u89E3\u51B3\u8FD9\u4E9B\u95EE\u9898\u3002"}),"\n",(0,d.jsxs)(n.h3,{id:"\u5BB9\u5668\u7BA1\u7406\u95EE\u9898",children:["\u5BB9\u5668\u7BA1\u7406\u95EE\u9898",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5BB9\u5668\u7BA1\u7406\u95EE\u9898",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u62FF\u4EFB\u4F55\u4E00\u4E2A\u76F8\u5BF9\u5B8C\u6574\u7684\u5E94\u7528\u7CFB\u7EDF\u6765\u8BF4\uFF0C\u90FD\u4E0D\u53EF\u80FD\u662F\u7531\u4E00\u4E2A\u7A0B\u5E8F\u72EC\u7ACB\u652F\u6491\u7684\uFF0C\u800C\u5BF9\u4E8E\u4F7F\u7528 Docker \u6765\u90E8\u7F72\u7684\u5206\u5E03\u5F0F\u8BA1\u7B97\u670D\u52A1\u66F4\u662F\u8FD9\u6837\u3002\u968F\u7740\u65F6\u4EE3\u7684\u53D1\u5C55\u548C\u6280\u672F\u6F14\u8FDB\uFF0C\u6211\u4EEC\u8D8A\u6765\u8D8A\u63A8\u5D07\u5C06\u5927\u578B\u670D\u52A1\u62C6\u5206\u6210\u8F83\u5C0F\u7684\u5FAE\u670D\u52A1\uFF0C\u5206\u522B\u90E8\u7F72\u5230\u72EC\u7ACB\u7684\u673A\u5668\u6216\u5BB9\u5668\u4E2D\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u6211\u4EEC\u7684\u5E94\u7528\u7CFB\u7EDF\u5F80\u5F80\u7531\u6570\u5341\u4E2A\u751A\u81F3\u4E0A\u767E\u4E2A\u5E94\u7528\u7A0B\u5E8F\u6216\u5FAE\u670D\u52A1\u7EC4\u6210\u3002\u5373\u4F7F\u662F\u4E00\u4E2A\u5C0F\u7684\u5FAE\u670D\u52A1\u6A21\u5757\uFF0C\u901A\u5E38\u90FD\u9700\u8981\u591A\u4E2A\u5E94\u7528\u534F\u4F5C\u5B8C\u6210\u5DE5\u4F5C\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u6211\u4EEC\u7F16\u5199\u4E00\u4E2A\u5C0F\u578B\u7684\u5FAE\u670D\u52A1\u6A21\u5757\uFF0C\u867D\u7136\u6211\u4EEC\u7F16\u5199\u4EE3\u7801\u4E3B\u8981\u9488\u5BF9\u7684\u662F\u5176\u4E2D\u7684\u5E94\u7528\u90E8\u5206\uFF0C\u4F46\u5982\u679C\u6211\u4EEC\u8981\u5B8C\u6574\u7684\u8FDB\u884C\u5F00\u53D1\u3001\u6D4B\u8BD5\uFF0C\u4E0E\u5E94\u7528\u76F8\u5173\u7684\u5468\u8FB9\u8F6F\u4EF6\u5FC5\u7136\u662F\u5FC5\u4E0D\u53EF\u5C11\u7684\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u867D\u7136 Docker Engine \u5E2E\u52A9\u6211\u4EEC\u5B8C\u6210\u4E86\u5BF9\u5E94\u7528\u8FD0\u884C\u73AF\u5883\u7684\u5C01\u88C5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4E0D\u9700\u8981\u8BB0\u5F55\u590D\u6742\u7684\u5E94\u7528\u73AF\u5883\u642D\u5EFA\u8FC7\u7A0B\uFF0C\u901A\u8FC7\u7B80\u5355\u7684\u914D\u7F6E\u4FBF\u53EF\u4EE5\u5C06\u5E94\u7528\u8FD0\u884C\u8D77\u6765\u4E86\uFF0C\u4F46\u8FD9\u53EA\u662F\u9488\u5BF9\u5355\u4E2A\u5BB9\u5668\u6216\u5355\u4E2A\u5E94\u7528\u7A0B\u5E8F\u6765\u8BF4\u7684\u3002\u5982\u679C\u5EF6\u4F38\u5230\u7531\u591A\u4E2A\u5E94\u7528\u7EC4\u6210\u7684\u5E94\u7528\u7CFB\u7EDF\uFF0C\u90A3\u60C5\u51B5\u5C31\u7A0D\u663E\u590D\u6742\u4E86\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5C31\u62FF\u6700\u7B80\u5355\u7684\u4F8B\u5B50\u6765\u8BF4\u5427\uFF0C\u5982\u679C\u6211\u4EEC\u8981\u4E3A\u6211\u4EEC\u7684\u5E94\u7528\u5BB9\u5668\u51C6\u5907\u4E00\u4E2A MySQL \u5BB9\u5668\u548C\u4E00\u4E2A Redis \u5BB9\u5668\uFF0C\u90A3\u4E48\u5728\u6BCF\u6B21\u542F\u52A8\u65F6\uFF0C\u6211\u4EEC\u5148\u8981\u5C06 MySQL \u5BB9\u5668\u548C Redis \u5BB9\u5668\u542F\u52A8\u8D77\u6765\uFF0C\u518D\u5C06\u5E94\u7528\u5BB9\u5668\u8FD0\u884C\u8D77\u6765\u3002\u8FD9\u5176\u4E2D\u8FD8\u4E0D\u8981\u5FD8\u4E86\u5728\u521B\u5EFA\u5E94\u7528\u5BB9\u5668\u65F6\u5C06\u5BB9\u5668\u7F51\u7EDC\u8FDE\u63A5\u5230 MySQL \u5BB9\u5668\u548C Redis \u5BB9\u5668\u4E0A\uFF0C\u4EE5\u4FBF\u5E94\u7528\u8FDE\u63A5\u4E0A\u5B83\u4EEC\u5E76\u8FDB\u884C\u6570\u636E\u4EA4\u6362\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u8FD9\u8FD8\u4E0D\u591F\uFF0C\u5982\u679C\u6211\u4EEC\u8FD8\u5BF9\u5BB9\u5668\u8FDB\u884C\u4E86\u5404\u79CD\u914D\u7F6E\uFF0C\u6211\u4EEC\u6700\u597D\u8FD8\u5F97\u5C06\u5BB9\u5668\u521B\u5EFA\u548C\u914D\u7F6E\u7684\u547D\u4EE4\u4FDD\u5B58\u4E0B\u6765\uFF0C\u4EE5\u4FBF\u4E0B\u6B21\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u6211\u4EEC\u8981\u60F3\u8BA9\u8FD9\u5957\u4F53\u7CFB\u50CF docker run \u548C docker rm \u90A3\u6837\u81EA\u5982\u7684\u8FDB\u884C\u65E0\u75D5\u5207\u6362\uFF0C\u90A3\u5C31\u66F4\u52A0\u9EBB\u70E6\u4E86\uFF0C\u6211\u4EEC\u53EF\u80FD\u9700\u8981\u7F16\u5199\u4E00\u4E9B\u811A\u672C\u624D\u80FD\u4E0D\u81F3\u4E8E\u88AB\u7ED5\u5230\u547D\u4EE4\u7684\u6BDB\u7EBF\u7403\u91CC\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u8BF4\u4E86\u8FD9\u4E48\u591A\uFF0C\u5176\u5B9E\u6838\u5FC3\u8FD8\u662F\u7F3A\u5C11\u4E00\u4E2A\u5BF9\u5BB9\u5668\u7EC4\u5408\u8FDB\u884C\u7BA1\u7406\u7684\u4E1C\u897F\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u9488\u5BF9\u8FD9\u79CD\u60C5\u51B5\uFF0C\u6211\u4EEC\u5C31\u4E0D\u5F97\u4E0D\u5F15\u51FA\u5728\u6211\u4EEC\u5F00\u53D1\u4E2D\u6700\u5E38\u4F7F\u7528\u7684\u591A\u5BB9\u5668\u5B9A\u4E49\u548C\u8FD0\u884C\u8F6F\u4EF6\uFF0C\u4E5F\u5C31\u662F Docker Compose \u4E86\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u8BF4 Dockerfile \u662F\u5C06\u5BB9\u5668\u5185\u8FD0\u884C\u73AF\u5883\u7684\u642D\u5EFA\u56FA\u5316\u4E0B\u6765\uFF0C\u90A3\u4E48 Docker Compose \u6211\u4EEC\u5C31\u53EF\u4EE5\u7406\u89E3\u4E3A\u5C06\u591A\u4E2A\u5BB9\u5668\u8FD0\u884C\u7684\u65B9\u5F0F\u548C\u914D\u7F6E\u56FA\u5316\u4E0B\u6765\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728 Docker Compose \u91CC\uFF0C\u6211\u4EEC\u901A\u8FC7\u4E00\u4E2A\u914D\u7F6E\u6587\u4EF6\uFF0C\u5C06\u6240\u6709\u4E0E\u5E94\u7528\u7CFB\u7EDF\u76F8\u5173\u7684\u8F6F\u4EF6\u53CA\u5B83\u4EEC\u5BF9\u5E94\u7684\u5BB9\u5668\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E4B\u540E\u4F7F\u7528 Docker Compose \u63D0\u4F9B\u7684\u547D\u4EE4\u8FDB\u884C\u542F\u52A8\uFF0C\u5C31\u80FD\u8BA9 Docker Compose \u5C06\u521A\u624D\u6211\u4EEC\u6240\u63D0\u5230\u7684\u90A3\u4E9B\u590D\u6742\u95EE\u9898\u89E3\u51B3\u6389\u3002"}),"\n",(0,d.jsxs)(n.h3,{id:"\u7F16\u5199-docker-compose-\u914D\u7F6E",children:["\u7F16\u5199 Docker Compose \u914D\u7F6E",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7F16\u5199-docker-compose-\u914D\u7F6E",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u914D\u7F6E\u6587\u4EF6\u662F Docker Compose \u7684\u6838\u5FC3\u90E8\u5206\uFF0C\u6211\u4EEC\u6B63\u662F\u901A\u8FC7\u5B83\u53BB\u5B9A\u4E49\u7EC4\u6210\u5E94\u7528\u670D\u52A1\u5BB9\u5668\u7FA4\u7684\u5404\u9879\u914D\u7F6E\uFF0C\u800C\u7F16\u5199\u914D\u7F6E\u6587\u4EF6\uFF0C\u5219\u662F\u4F7F\u7528 Docker Compose \u8FC7\u7A0B\u4E2D\u6700\u6838\u5FC3\u7684\u4E00\u4E2A\u6B65\u9AA4\u3002"}),"\n",(0,d.jsx)(n.p,{children:"Docker Compose \u7684\u914D\u7F6E\u6587\u4EF6\u662F\u4E00\u4E2A\u57FA\u4E8E YAML \u683C\u5F0F\u7684\u6587\u4EF6\u3002\u5173\u4E8E YAML \u7684\u8BED\u6CD5\u5927\u5BB6\u53EF\u4EE5\u5728\u7F51\u4E0A\u627E\u5230\uFF0C\u8FD9\u91CC\u4E0D\u518D\u7EC6\u8BF4\uFF0C\u603B\u7684\u6765\u8BF4\uFF0CYAML \u662F\u4E00\u79CD\u6E05\u6670\u3001\u7B80\u5355\u7684\u6807\u8BB0\u8BED\u8A00\uFF0C\u4F60\u751A\u81F3\u90FD\u53EF\u4EE5\u5728\u770B\u8FC7\u51E0\u4E2A\u4F8B\u5B50\u540E\u6478\u7D22\u51FA\u5B83\u7684\u8BED\u6CD5\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4E0E Dockerfile \u91C7\u7528 Dockerfile \u8FD9\u4E2A\u540D\u5B57\u4F5C\u4E3A\u955C\u50CF\u6784\u5EFA\u5B9A\u4E49\u7684\u9ED8\u8BA4\u6587\u4EF6\u540D\u4E00\u6837\uFF0CDocker Compose \u7684\u914D\u7F6E\u6587\u4EF6\u4E5F\u6709\u4E00\u4E2A\u7F3A\u7701\u7684\u6587\u4EF6\u540D\uFF0C\u4E5F\u5C31\u662F docker-compose.yml\uFF0C\u5982\u975E\u5FC5\u8981\uFF0C\u6211\u5EFA\u8BAE\u5927\u5BB6\u76F4\u63A5\u4F7F\u7528\u8FD9\u4E2A\u6587\u4EF6\u540D\u6765\u505A Docker Compose \u9879\u76EE\u7684\u5B9A\u4E49\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"version: '3'\n\nservices:\n  webapp:\n    build: ./image/webapp\n    ports:\n      - '5000:5000'\n    volumes:\n      - ./code:/code\n      - logvolume:/var/log\n    links:\n      - mysql\n      - redis\n\n  redis:\n    image: redis:3.2\n\n  mysql:\n    image: mysql:5.7\n    environment:\n      - MYSQL_ROOT_PASSWORD=my-secret-pw\n\nvolumes:\n  logvolume: {}\n"})}),"\n",(0,d.jsx)(n.p,{children:"Docker Compose \u914D\u7F6E\u6587\u4EF6\u91CC\u53EF\u4EE5\u5305\u542B\u8BB8\u591A\u5185\u5BB9\uFF0C\u4ECE\u6BCF\u4E2A\u5BB9\u5668\u7684\u5404\u4E2A\u7EC6\u8282\u63A7\u5236\uFF0C\u5230\u7F51\u7EDC\u3001\u6570\u636E\u5377\u7B49\u7684\u5B9A\u4E49\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u8FD9\u91CC\u6211\u4EEC\u770B\u51E0\u4E2A\u4E3B\u8981\u7684\u7EC6\u8282\u3002\u9996\u5148\u662F version \u8FD9\u4E2A\u914D\u7F6E\uFF0C\u8FD9\u4EE3\u8868\u6211\u4EEC\u5B9A\u4E49\u7684 docker-compose.yml \u6587\u4EF6\u5185\u5BB9\u6240\u91C7\u7528\u7684\u7248\u672C\uFF0C\u76EE\u524D Docker Compose \u7684\u914D\u7F6E\u6587\u4EF6\u5DF2\u7ECF\u8FED\u4EE3\u81F3\u4E86\u7B2C\u4E09\u7248\uFF0C\u5176\u6240\u652F\u6301\u7684\u529F\u80FD\u4E5F\u8D8A\u6765\u8D8A\u4E30\u5BCC\uFF0C\u6240\u4EE5\u6211\u4EEC\u5EFA\u8BAE\u4F7F\u7528\u6700\u65B0\u7684\u7248\u672C\u6765\u5B9A\u4E49\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u63A5\u4E0B\u6765\u6211\u4EEC\u6765\u770B services \u8FD9\u5757\uFF0C\u8FD9\u662F\u6574\u4E2A docker-compose.yml \u7684\u6838\u5FC3\u90E8\u5206\uFF0C\u5176\u5B9A\u4E49\u4E86\u5BB9\u5668\u7684\u5404\u9879\u7EC6\u8282\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728 Docker Compose \u91CC\u4E0D\u76F4\u63A5\u4F53\u73B0\u5BB9\u5668\u8FD9\u4E2A\u6982\u5FF5\uFF0C\u8FD9\u662F\u628A service \u4F5C\u4E3A\u914D\u7F6E\u7684\u6700\u5C0F\u5355\u5143\u3002\u867D\u7136\u6211\u4EEC\u770B\u4E0A\u53BB\u6BCF\u4E2A service \u91CC\u7684\u914D\u7F6E\u5185\u5BB9\u5C31\u50CF\u662F\u5728\u914D\u7F6E\u5BB9\u5668\uFF0C\u4F46\u5176\u5B9E service \u4EE3\u8868\u7684\u662F\u4E00\u4E2A\u5E94\u7528\u96C6\u7FA4\u7684\u914D\u7F6E\u3002\u6BCF\u4E2A service \u5B9A\u4E49\u7684\u5185\u5BB9\uFF0C\u53EF\u4EE5\u901A\u8FC7\u7279\u5B9A\u7684\u914D\u7F6E\u8FDB\u884C\u6C34\u5E73\u6269\u5145\uFF0C\u5C06\u540C\u6837\u7684\u5BB9\u5668\u590D\u5236\u6570\u4EFD\u5F62\u6210\u4E00\u4E2A\u5BB9\u5668\u96C6\u7FA4\u3002\u800C Docker Compose \u80FD\u591F\u5BF9\u8FD9\u4E2A\u96C6\u7FA4\u505A\u5230\u9ED1\u76D2\u6548\u679C\uFF0C\u8BA9\u5176\u4ED6\u7684\u5E94\u7528\u548C\u5BB9\u5668\u65E0\u6CD5\u611F\u77E5\u5B83\u4EEC\u7684\u5177\u4F53\u7ED3\u6784\u3002"}),"\n",(0,d.jsxs)(n.h3,{id:"\u542F\u52A8\u548C\u505C\u6B62",children:["\u542F\u52A8\u548C\u505C\u6B62",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u542F\u52A8\u548C\u505C\u6B62",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u542F\u52A8\uFF1A",(0,d.jsx)(n.code,{children:"docker-compose up -d"}),"\uFF0C-d \u4EE3\u8868\u540E\u53F0\u6267\u884C"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0Cdocker-compose \u547D\u4EE4\u9ED8\u8BA4\u4F1A\u8BC6\u522B\u5F53\u524D\u63A7\u5236\u53F0\u6240\u5728\u76EE\u5F55\u5185\u7684 docker-compose.yml \u6587\u4EF6\uFF0C\u800C\u4F1A\u4EE5\u8FD9\u4E2A\u76EE\u5F55\u7684\u540D\u5B57\u4F5C\u4E3A\u7EC4\u88C5\u7684\u5E94\u7528\u9879\u76EE\u7684\u540D\u79F0\u3002\u5982\u679C\u6211\u4EEC\u9700\u8981\u6539\u53D8\u5B83\u4EEC\uFF0C\u53EF\u4EE5\u901A\u8FC7\u9009\u9879 -f \u6765\u4FEE\u6539\u8BC6\u522B\u7684 Docker Compose \u914D\u7F6E\u6587\u4EF6\uFF0C\u901A\u8FC7 -p \u9009\u9879\u6765\u5B9A\u4E49\u9879\u76EE\u540D(\u4E00\u5806\u5BB9\u5668\u6784\u6210\u4E00\u4E2A\u9879\u76EE\uFF0C\u5373\u4E00\u4E2A\u670D\u52A1)\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker-compose -f ./compose/docker-compose.yml -p myapp up -d\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u505C\u6B62\u6240\u6709\u7684\u5BB9\u5668\uFF0C\u5E76\u5C06\u5B83\u4EEC\u5220\u9664\uFF0C\u540C\u65F6\u6D88\u9664\u7F51\u7EDC\u7B49\u914D\u7F6E\u5185\u5BB9\uFF0C\u4E5F\u5C31\u662F\u51E0\u4E4E\u5C06\u8FD9\u4E2A Docker Compose \u9879\u76EE\u7684\u6240\u6709\u5F71\u54CD\u4ECE Docker \u4E2D\u6E05\u9664\u3002"}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker-compose down\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u6761\u4EF6\u5141\u8BB8\uFF0C\u6211\u66F4\u5EFA\u8BAE\u5927\u5BB6\u50CF\u5BB9\u5668\u4F7F\u7528\u4E00\u6837\u5BF9\u5F85 Docker Compose \u9879\u76EE\uFF0C\u505A\u5230\u968F\u7528\u968F\u542F\uFF0C\u968F\u505C\u968F\u5220\u3002\u4E5F\u5C31\u662F\u4F7F\u7528\u7684\u65F6\u5019\u901A\u8FC7 docker-compose up \u8FDB\u884C\uFF0C\u800C\u77ED\u65F6\u95F4\u5185\u4E0D\u518D\u9700\u8981\u65F6\uFF0C\u901A\u8FC7 docker-compose down \u6E05\u7406\u5B83\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u501F\u52A9 Docker \u5BB9\u5668\u7684\u79D2\u7EA7\u542F\u52A8\u548C\u505C\u6B62\u7279\u6027\uFF0C\u6211\u4EEC\u5728\u4F7F\u7528 docker-compose up \u548C docker-compose down \u65F6\u53EF\u4EE5\u975E\u5E38\u5FEB\u7684\u5B8C\u6210\u64CD\u4F5C\u3002\u8FD9\u5C31\u610F\u5473\u7740\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u4E0D\u5230\u534A\u5206\u949F\u7684\u65F6\u95F4\u5185\u505C\u6B62\u4E00\u5957\u73AF\u5883\uFF0C\u5207\u6362\u5230\u53E6\u5916\u4E00\u5957\u73AF\u5883\uFF0C\u8FD9\u5BF9\u4E8E\u7ECF\u5E38\u8FDB\u884C\u591A\u4E2A\u9879\u76EE\u5F00\u53D1\u7684\u670B\u53CB\u6765\u8BF4\uFF0C\u7EDD\u5BF9\u662F\u798F\u97F3\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u901A\u8FC7 Docker \u8BA9\u6211\u4EEC\u80FD\u591F\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u642D\u5EFA\u4E00\u5957\u4E0D\u53D7\u5E72\u6270\u7684\u72EC\u7ACB\u73AF\u5883\uFF0C\u8BA9\u5F00\u53D1\u8FC7\u7A0B\u80FD\u591F\u57FA\u4E8E\u7A33\u5B9A\u7684\u73AF\u5883\u4E0B\u8FDB\u884C\u3002\u800C Docker Compose \u5219\u8BA9\u6211\u4EEC\u66F4\u8FD1\u4E00\u6B65\uFF0C\u540C\u65F6\u8BA9\u6211\u4EEC\u5904\u7406\u597D\u591A\u5957\u5F00\u53D1\u73AF\u5883\uFF0C\u5E76\u8FDB\u884C\u5FEB\u901F\u5207\u6362\u3002"}),"\n",(0,d.jsxs)(n.h3,{id:"\u5BB9\u5668\u547D\u4EE4",children:["\u5BB9\u5668\u547D\u4EE4",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5BB9\u5668\u547D\u4EE4",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u9664\u4E86\u542F\u52A8\u548C\u505C\u6B62\u547D\u4EE4\u5916\uFF0CDocker Compose \u8FD8\u4E3A\u6211\u4EEC\u63D0\u4F9B\u4E86\u5F88\u591A\u76F4\u63A5\u64CD\u4F5C\u670D\u52A1\u7684\u547D\u4EE4\u3002\u4E4B\u524D\u6211\u4EEC\u8BF4\u4E86\uFF0C\u670D\u52A1\u53EF\u4EE5\u770B\u6210\u662F\u4E00\u7EC4\u76F8\u540C\u5BB9\u5668\u7684\u96C6\u5408\uFF0C\u6240\u4EE5\u64CD\u4F5C\u670D\u52A1\u5C31\u6709\u70B9\u50CF\u64CD\u4F5C\u5BB9\u5668\u4E00\u6837\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u8FD9\u4E9B\u547D\u4EE4\u770B\u4E0A\u53BB\u90FD\u548C Docker Engine \u4E2D\u5BF9\u5355\u4E2A\u5BB9\u5668\u8FDB\u884C\u64CD\u4F5C\u7684\u547D\u4EE4\u7C7B\u4F3C\uFF0C\u6211\u4EEC\u6765\u770B\u51E0\u4E2A\u5E38\u89C1\u7684\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728 Docker Engine \u4E2D\uFF0C\u5982\u679C\u6211\u4EEC\u60F3\u8981\u67E5\u770B\u5BB9\u5668\u4E2D\u4E3B\u8FDB\u7A0B\u7684\u8F93\u51FA\u5185\u5BB9\uFF0C\u53EF\u4EE5\u4F7F\u7528 docker logs \u547D\u4EE4\u3002\u800C\u7531\u4E8E\u5728 Docker Compose \u4E0B\u8FD0\u884C\u7684\u670D\u52A1\uFF0C\u5176\u547D\u540D\u90FD\u662F\u7531 Docker Compose \u81EA\u52A8\u5B8C\u6210\u7684\uFF0C\u5982\u679C\u6211\u4EEC\u76F4\u63A5\u4F7F\u7528 docker logs \u5C31\u9700\u8981\u5148\u627E\u5230\u5BB9\u5668\u7684\u540D\u5B57\uFF0C\u8FD9\u663E\u7136\u6709\u4E9B\u9EBB\u70E6\u4E86\u3002\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 docker-compose logs \u547D\u4EE4\u6765\u5B8C\u6210\u8FD9\u9879\u5DE5\u4F5C\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker-compose logs nginx\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5728 docker-compose logs \u8854\u63A5\u7684\u662F Docker Compose \u4E2D\u6240\u5B9A\u4E49\u7684\u670D\u52A1\u7684\u540D\u79F0\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u540C\u7406\uFF0C\u5728 Docker Compose \u8FD8\u6709\u51E0\u4E2A\u7C7B\u4F3C\u7684\u547D\u4EE4\u53EF\u4EE5\u5355\u72EC\u63A7\u5236\u67D0\u4E2A\u6216\u67D0\u4E9B\u670D\u52A1\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u901A\u8FC7 docker-compose create\uFF0Cdocker-compose start \u548C docker-compose stop \u6211\u4EEC\u53EF\u4EE5\u5B9E\u73B0\u4E0E docker create\uFF0Cdocker start \u548C docker stop \u76F8\u4F3C\u7684\u6548\u679C\uFF0C\u53EA\u4E0D\u8FC7\u64CD\u4F5C\u7684\u5BF9\u8C61\u7531 Docker Engine \u4E2D\u7684\u5BB9\u5668\u53D8\u4E3A\u4E86 Docker Compose \u4E2D\u7684\u670D\u52A1\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker-compose create webapp\ndocker-compose start webapp\ndocker-compose stop webap\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u5E38\u7528\u7684-docker-compose-\u914D\u7F6E\u9879",children:["\u5E38\u7528\u7684 Docker Compose \u914D\u7F6E\u9879",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5E38\u7528\u7684-docker-compose-\u914D\u7F6E\u9879",children:"#"})]}),"\n",(0,d.jsxs)(n.h4,{id:"\u914D\u7F6E\u793A\u4F8B",children:["\u914D\u7F6E\u793A\u4F8B",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u914D\u7F6E\u793A\u4F8B",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"version: '3'\n\nservices:\n  # \u670D\u52A1\u540D\u79F0\n  redis:\n    image: redis:3.2\n    networks:\n      - backend\n    volumes:\n      - ./redis/redis.conf:/etc/redis.conf:ro\n    ports:\n      - '6379:6379'\n    command: [redis-server, /etc/redis.conf]\n\n  # \u670D\u52A1\u540D\u79F0\n  database:\n    image: mysql:5.7\n    networks:\n      - backend\n    volumes:\n      - ./mysql/my.cnf:/etc/mysql/my.cnf:ro\n      - mysql-data:/var/lib/mysql\n    environment:\n      - MYSQL_ROOT_PASSWORD=my-secret-pw\n    ports:\n      - '3306:3306'\n\n  # \u670D\u52A1\u540D\u79F0\n  webapp:\n    build: ./webapp\n    networks:\n      - frontend\n      - backend\n    volumes:\n      - ./webapp:/webapp\n    depends_on:\n      - redis\n      - database\n\n  # \u670D\u52A1\u540D\u79F0\n  nginx:\n    image: nginx:1.12\n    networks:\n      - frontend\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./nginx/conf.d:/etc/nginx/conf.d:ro\n      - ./webapp/html:/webapp/html\n    depends_on:\n      - webapp\n    ports:\n      - '80:80'\n      - '443:443'\n\nnetworks:\n  frontend:\n  backend:\n\nvolumes:\n  mysql-data:\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"\u6307\u5B9A\u955C\u50CF",children:["\u6307\u5B9A\u955C\u50CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6307\u5B9A\u955C\u50CF",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u5BB9\u5668\u6700\u57FA\u7840\u7684\u5C31\u662F\u955C\u50CF\u4E86\uFF0C\u6240\u4EE5\u6BCF\u4E2A\u670D\u52A1\u5FC5\u987B\u6307\u5B9A\u955C\u50CF\u3002\u5728 Docker Compose \u91CC\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4E24\u79CD\u65B9\u5F0F\u4E3A\u670D\u52A1\u6307\u5B9A\u6240\u91C7\u7528\u7684\u955C\u50CF\u3002\u4E00\u79CD\u662F\u901A\u8FC7 ",(0,d.jsx)(n.code,{children:"image"})," \u8FD9\u4E2A\u914D\u7F6E\uFF0C\u8FD9\u4E2A\u76F8\u5BF9\u7B80\u5355\uFF0C\u7ED9\u51FA\u80FD\u5728\u955C\u50CF\u4ED3\u5E93\u4E2D\u627E\u5230\u955C\u50CF\u7684\u540D\u79F0\u5373\u53EF\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:["\u53E6\u5916\u4E00\u79CD\u6307\u5B9A\u955C\u50CF\u7684\u65B9\u5F0F\u5C31\u662F\u76F4\u63A5\u91C7\u7528 ",(0,d.jsx)(n.code,{children:"Dockerfile"})," \u6765\u6784\u5EFA\u955C\u50CF\uFF0C\u901A\u8FC7 build \u8FD9\u4E2A\u914D\u7F6E\u6211\u4EEC\u80FD\u591F\u5B9A\u4E49\u6784\u5EFA\u7684\u73AF\u5883\u76EE\u5F55\uFF0C\u8FD9\u4E0E docker build \u4E2D\u7684\u73AF\u5883\u76EE\u5F55\u662F\u540C\u4E00\u4E2A\u542B\u4E49\u3002\u5982\u679C\u6211\u4EEC\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\u6307\u5B9A\u955C\u50CF\uFF0C\u90A3\u4E48 Docker Compose \u5148\u4F1A\u5E2E\u52A9\u6211\u4EEC\u6267\u884C\u955C\u50CF\u7684\u6784\u5EFA\uFF0C\u4E4B\u540E\u518D\u901A\u8FC7\u8FD9\u4E2A\u955C\u50CF\u542F\u52A8\u5BB9\u5668\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"# # ......\nwebapp:\n  build:\n    context: ./webapp\n    dockerfile: webapp-dockerfile\n    args:\n      - JAVA_VERSION=1.6\n# # ......\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u914D\u7F6E\u6587\u4EF6\u91CC\uFF0C\u6211\u4EEC\u8FD8\u80FD\u7528 Map \u7684\u5F62\u5F0F\u6765\u5B9A\u4E49 build\uFF0C\u5728\u8FD9\u79CD\u683C\u5F0F\u4E0B\uFF0C\u6211\u4EEC\u80FD\u591F\u6307\u5B9A\u66F4\u591A\u7684\u955C\u50CF\u6784\u5EFA\u53C2\u6570\uFF0C\u4F8B\u5982 Dockerfile \u7684\u6587\u4EF6\u540D\uFF0C\u6784\u5EFA\u53C2\u6570\u7B49\u7B49\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5F53\u7136\uFF0C\u5BF9\u4E8E\u4E00\u4E9B\u53EF\u4EE5\u4E0D\u901A\u8FC7\u91CD\u65B0\u6784\u5EFA\u955C\u50CF\u7684\u65B9\u5F0F\u4FBF\u80FD\u4FEE\u6539\u7684\u5185\u5BB9\uFF0C\u6211\u4EEC\u8FD8\u662F\u4E0D\u5EFA\u8BAE\u91CD\u65B0\u6784\u5EFA\u955C\u50CF\uFF0C\u800C\u662F\u4F7F\u7528\u539F\u6709\u7684\u955C\u50CF\u505A\u7B80\u5355\u7684\u4FEE\u6539\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4F8B\u5982\u4E0A\u9762\u7684\u914D\u7F6E\u91CC\uFF0C\u6211\u4EEC\u5E0C\u671B\u4FEE\u6539 Redis \u7684\u542F\u52A8\u547D\u4EE4\uFF0C\u52A0\u5165\u914D\u7F6E\u6587\u4EF6\u4EE5\u4FBF\u5BF9 Redis \u670D\u52A1\u8FDB\u884C\u914D\u7F6E\uFF0C\u90A3\u4E48\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7 command \u914D\u7F6E\u6765\u4FEE\u6539\u3002\u800C\u5728 MySQL \u7684\u5B9A\u4E49\uFF0C\u6211\u4EEC\u901A\u8FC7 environment \u914D\u7F6E\u4E3A MySQL \u8BBE\u7F6E\u4E86\u521D\u59CB\u5BC6\u7801\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u8FD9\u4E9B\u5BF9\u955C\u50CF\u7684\u4F7F\u7528\u65B9\u6CD5\u6211\u4EEC\u5728\u4E4B\u524D\u90FD\u5DF2\u7ECF\u8C08\u5230\u8FC7\u4E86\uFF0C\u53EA\u4E0D\u8FC7\u6211\u4EEC\u4E4B\u524D\u7528\u7684\u662F Docker Engine \u7684\u547D\u4EE4\u4EE5\u53CA\u5176\u9009\u9879\u6765\u63A7\u5236\u7684\uFF0C\u800C\u5728 Docker Compose \u91CC\uFF0C\u6211\u4EEC\u76F4\u63A5\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u6765\u5B9A\u4E49\u5B83\u4EEC\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u7531\u4E8E Docker Compose \u7684\u914D\u7F6E\u5DF2\u7ECF\u56FA\u5316\u4E0B\u6765\uFF0C\u6240\u4EE5\u6211\u4EEC\u4E0D\u9700\u8981\u62C5\u5FC3\u5FD8\u8BB0\u4E4B\u524D\u6267\u884C\u4E86\u54EA\u4E9B\u547D\u4EE4\u6765\u542F\u52A8\u5BB9\u5668\uFF0C\u5F53\u6BCF\u6B21\u9700\u8981\u5F00\u542F\u6216\u5173\u95ED\u73AF\u5883\u65F6\uFF0C\u53EA\u9700\u8981 docker-compose up -d \u548C docker-compose down \u547D\u4EE4\uFF0C\u5C31\u80FD\u8F7B\u677E\u5B8C\u6210\u64CD\u4F5C\u3002"}),"\n",(0,d.jsxs)(n.h4,{id:"\u4F9D\u8D56\u58F0\u660E-depends_on",children:["\u4F9D\u8D56\u58F0\u660E (depends_on)",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F9D\u8D56\u58F0\u660E-depends_on",children:"#"})]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"\u5BB9\u5668\u542F\u52A8\u987A\u5E8F"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u867D\u7136\u6211\u4EEC\u5728 Docker Compose \u7684\u914D\u7F6E\u6587\u4EF6\u91CC\u5B9A\u4E49\u670D\u52A1\uFF0C\u5728\u4E66\u5199\u4E0A\u6709\u7531\u4E0A\u81F3\u4E0B\u7684\u5148\u540E\u5173\u7CFB\uFF0C\u4F46\u5B9E\u9645\u5728\u5BB9\u5668\u542F\u52A8\u4E2D\uFF0C\u7531\u4E8E\u5404\u79CD\u56E0\u7D20\u7684\u5B58\u5728\uFF0C\u5176\u987A\u5E8F\u8FD8\u662F\u65E0\u6CD5\u4FDD\u969C\u7684\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u6240\u4EE5\uFF0C\u5982\u679C\u6211\u4EEC\u7684\u670D\u52A1\u95F4\u6709\u975E\u5E38\u5F3A\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u6211\u4EEC\u5C31\u5FC5\u987B\u544A\u77E5 Docker Compose \u5BB9\u5668\u7684\u5148\u540E\u542F\u52A8\u987A\u5E8F\u3002\u53EA\u6709\u5F53\u88AB\u4F9D\u8D56\u7684\u5BB9\u5668\u5B8C\u5168\u542F\u52A8\u540E\uFF0CDocker Compose \u624D\u4F1A\u521B\u5EFA\u548C\u542F\u52A8\u8FD9\u4E2A\u5BB9\u5668\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5B9A\u4E49\u4F9D\u8D56\u7684\u65B9\u5F0F\u5F88\u7B80\u5355\uFF0C\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u91CC\u6211\u4EEC\u5DF2\u7ECF\u770B\u5230\u4E86\uFF0C\u4E5F\u5C31\u662F depends_on \u8FD9\u4E2A\u914D\u7F6E\u9879\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u901A\u8FC7\u5B83\u5217\u51FA\u8FD9\u4E2A\u670D\u52A1\u6240\u6709\u4F9D\u8D56\u7684\u5176\u4ED6\u670D\u52A1\u5373\u53EF\u3002\u5728 Docker Compose \u4E3A\u6211\u4EEC\u542F\u52A8\u9879\u76EE\u7684\u65F6\u5019\uFF0C\u4F1A\u68C0\u67E5\u6240\u6709\u4F9D\u8D56\uFF0C\u5F62\u6210\u6B63\u786E\u7684\u542F\u52A8\u987A\u5E8F\u5E76\u6309\u8FD9\u4E2A\u987A\u5E8F\u6765\u4F9D\u6B21\u542F\u52A8\u5BB9\u5668\u3002"}),"\n",(0,d.jsxs)(n.h4,{id:"\u6587\u4EF6\u6302\u8F7D",children:["\u6587\u4EF6\u6302\u8F7D",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6587\u4EF6\u6302\u8F7D",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5728 Docker Compose \u91CC\u5B9A\u4E49\u6587\u4EF6\u6302\u8F7D\u7684\u65B9\u5F0F\u4E0E Docker Engine \u91CC\u4E5F\u5E76\u6CA1\u6709\u592A\u591A\u7684\u533A\u522B\uFF0C\u4F7F\u7528 volumes \u914D\u7F6E\u53EF\u4EE5\u50CF docker CLI \u91CC\u7684 -v \u9009\u9879\u4E00\u6837\u6765\u6307\u5B9A\u5916\u90E8\u6302\u8F7D\u548C\u6570\u636E\u5377\u6302\u8F7D\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u91CC\uFF0C\u6211\u4EEC\u770B\u5230\u4E86\u5B9A\u4E49\u51E0\u79CD\u5E38\u7528\u6302\u8F7D\u7684\u65B9\u5F0F\u3002\u6211\u4EEC\u80FD\u591F\u76F4\u63A5\u6302\u8F7D\u5BBF\u4E3B\u673A\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u7684\u76EE\u5F55\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u6570\u636E\u5377\u7684\u5F62\u5F0F\u6302\u8F7D\u5185\u5BB9\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u4F7F\u7528\u5916\u90E8\u6587\u4EF6\u6302\u8F7D\u7684\u65F6\u5019\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u6307\u5B9A\u76F8\u5BF9\u76EE\u5F55\u8FDB\u884C\u6302\u8F7D\uFF0C\u8FD9\u91CC\u7684\u76F8\u5BF9\u76EE\u5F55\u662F\u6307\u76F8\u5BF9\u4E8E docker-compose.yml \u6587\u4EF6\u7684\u76EE\u5F55\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u7531\u4E8E\u6709\u76F8\u5BF9\u76EE\u5F55\u8FD9\u6837\u7684\u673A\u5236\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06 docker-compose.yml \u548C\u6240\u6709\u76F8\u5173\u7684\u6302\u8F7D\u6587\u4EF6\u653E\u7F6E\u5230\u540C\u4E00\u4E2A\u6587\u4EF6\u5939\u4E0B\uFF0C\u5F62\u6210\u4E00\u4E2A\u5B8C\u6574\u7684\u9879\u76EE\u6587\u4EF6\u5939\u3002\u8FD9\u6837\u65E2\u53EF\u4EE5\u5F88\u597D\u7684\u6574\u7406\u9879\u76EE\u6587\u4EF6\uFF0C\u4E5F\u5229\u4E8E\u5B8C\u6574\u7684\u8FDB\u884C\u9879\u76EE\u8FC1\u79FB\u3002"}),"\n",(0,d.jsxs)(n.p,{children:["\u867D\u7136 Docker \u63D0\u5021\u5C06\u4EE3\u7801\u6216\u7F16\u8BD1\u597D\u7684\u7A0B\u5E8F\u901A\u8FC7\u6784\u5EFA\u955C\u50CF\u7684\u65B9\u5F0F\u6253\u5305\u5230\u955C\u50CF\u91CC\uFF0C\u968F\u6574\u4E2A CI \u6D41\u90E8\u7F72\u5230\u670D\u52A1\u5668\u4E2D\uFF0C\u4F46\u5BF9\u4E8E\u5F00\u53D1\u8005\u6765\u8BF4\uFF0C\u6BCF\u6B21\u4FEE\u6539\u7A0B\u5E8F\u8FDB\u884C\u7B80\u5355\u6D4B\u8BD5\u90FD\u8981\u91CD\u65B0\u6784\u5EFA\u955C\u50CF\u7B80\u76F4\u662F\u6D6A\u8D39\u751F\u547D\u7684\u64CD\u4F5C\u3002",(0,d.jsx)(n.strong,{children:"\u6240\u4EE5\u5728\u5F00\u53D1\u65F6\uFF0C\u6211\u4EEC\u63A8\u8350\u76F4\u63A5\u5C06\u4EE3\u7801\u6302\u8F7D\u5230\u5BB9\u5668\u91CC\uFF0C\u800C\u4E0D\u662F\u901A\u8FC7\u955C\u50CF\u6784\u5EFA\u7684\u65B9\u5F0F\u6253\u5305\u6210\u955C\u50CF\u3002"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u540C\u65F6\uFF0C",(0,d.jsx)(n.strong,{children:"\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u5BF9\u4E8E\u7A0B\u5E8F\u7684\u914D\u7F6E\u7B49\u5185\u5BB9\uFF0C\u6211\u4EEC\u4E5F\u5EFA\u8BAE\u76F4\u63A5\u4F7F\u7528\u6587\u4EF6\u6302\u8F7D\u7684\u5F62\u5F0F\u6302\u8F7D\u5230\u5BB9\u5668\u91CC"}),"\uFF0C\u907F\u514D\u7ECF\u5E38\u4FEE\u6539\u6240\u5E26\u6765\u7684\u9EBB\u70E6\u3002"]}),"\n",(0,d.jsxs)(n.h5,{id:"\u4F7F\u7528\u6570\u636E\u5377",children:["\u4F7F\u7528\u6570\u636E\u5377",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528\u6570\u636E\u5377",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u6211\u4EEC\u8981\u5728\u9879\u76EE\u4E2D\u4F7F\u7528\u6570\u636E\u5377\u6765\u5B58\u653E\u7279\u6B8A\u7684\u6570\u636E\uFF0C\u6211\u4EEC\u4E5F\u53EF\u4EE5\u8BA9 Docker Compose \u81EA\u52A8\u5B8C\u6210\u5BF9\u6570\u636E\u5377\u7684\u521B\u5EFA\uFF0C\u800C\u4E0D\u9700\u8981\u6211\u4EEC\u5355\u72EC\u8FDB\u884C\u64CD\u4F5C\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u91CC\uFF0C\u72EC\u7ACB\u4E8E services \u7684 volumes \u914D\u7F6E\u5C31\u662F\u7528\u6765\u58F0\u660E\u6570\u636E\u5377\u7684\u3002\u5B9A\u4E49\u6570\u636E\u5377\u6700\u7B80\u5355\u7684\u65B9\u5F0F\u4EC5\u9700\u8981\u63D0\u4F9B\u6570\u636E\u5377\u7684\u540D\u79F0\uFF0C\u5BF9\u4E8E\u6211\u4EEC\u5728 Docker Engine \u4E2D\u521B\u5EFA\u6570\u636E\u5377\u65F6\u80FD\u591F\u4F7F\u7528\u7684\u5176\u4ED6\u5B9A\u4E49\uFF0C\u4E5F\u80FD\u591F\u653E\u5165 Docker Compose \u7684\u6570\u636E\u5377\u5B9A\u4E49\u4E2D\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u6211\u4EEC\u60F3\u628A\u5C5E\u4E8E Docker Compose \u9879\u76EE\u4EE5\u5916\u7684\u6570\u636E\u5377\u5F15\u5165\u8FDB\u6765\u76F4\u63A5\u4F7F\u7528\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u6570\u636E\u5377\u5B9A\u4E49\u4E3A\u5916\u90E8\u5F15\u5165\uFF0C\u901A\u8FC7 external \u8FD9\u4E2A\u914D\u7F6E\u5C31\u80FD\u5B8C\u6210\u8FD9\u4E2A\u5B9A\u4E49\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"# # ......\nvolumes:\n  mysql-data:\n    external: true\n# # ......\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u52A0\u5165 external \u5B9A\u4E49\u540E\uFF0CDocker Compose \u5728\u521B\u5EFA\u9879\u76EE\u65F6\u4E0D\u4F1A\u76F4\u63A5\u521B\u5EFA\u6570\u636E\u5377\uFF0C\u800C\u662F\u4F18\u5148\u4ECE Docker Engine \u4E2D\u5DF2\u6709\u7684\u6570\u636E\u5377\u91CC\u5BFB\u627E\u5E76\u76F4\u63A5\u91C7\u7528\u3002"}),"\n",(0,d.jsxs)(n.h4,{id:"\u914D\u7F6E\u7F51\u7EDC",children:["\u914D\u7F6E\u7F51\u7EDC",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u914D\u7F6E\u7F51\u7EDC",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u7F51\u7EDC\u4E5F\u662F\u5BB9\u5668\u95F4\u4E92\u76F8\u8BBF\u95EE\u7684\u6865\u6881\uFF0C\u6240\u4EE5\u7F51\u7EDC\u7684\u914D\u7F6E\u5BF9\u4E8E\u591A\u4E2A\u5BB9\u5668\u7EC4\u6210\u7684\u5E94\u7528\u7CFB\u7EDF\u6765\u8BF4\u4E5F\u662F\u975E\u5E38\u91CD\u8981\u7684\u3002\u5728 Docker Compose \u91CC\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4E3A\u6574\u4E2A\u5E94\u7528\u7CFB\u7EDF\u8BBE\u7F6E\u4E00\u4E2A\u6216\u591A\u4E2A\u7F51\u7EDC\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u8981\u4F7F\u7528\u7F51\u7EDC\uFF0C\u6211\u4EEC\u5FC5\u987B\u5148\u58F0\u660E\u7F51\u7EDC\u3002\u58F0\u660E\u7F51\u7EDC\u7684\u914D\u7F6E\u540C\u6837\u72EC\u7ACB\u4E8E services \u5B58\u5728\uFF0C\u662F\u4F4D\u4E8E\u6839\u914D\u7F6E\u4E0B\u7684 networks \u914D\u7F6E\u3002\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u91CC\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u770B\u5230\u4E86\u58F0\u660E frontend \u548C backend \u8FD9\u4E24\u4E2A\u7F51\u7EDC\u6700\u7B80\u5355\u7684\u65B9\u5F0F\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u9664\u4E86\u7B80\u5355\u7684\u58F0\u660E\u7F51\u7EDC\u540D\u79F0\uFF0C\u8BA9 Docker Compose \u81EA\u52A8\u6309\u9ED8\u8BA4\u5F62\u5F0F\u5B8C\u6210\u7F51\u7EDC\u914D\u7F6E\u5916\uFF0C\u6211\u4EEC\u8FD8\u53EF\u4EE5\u663E\u5F0F\u7684\u6307\u5B9A\u7F51\u7EDC\u7684\u53C2\u6570\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"networks:\n  frontend:\n    driver: bridge\n    ipam:\n      driver: default\n      config:\n        - subnet: 10.10.1.0/24\n# # ......\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u8FD9\u91CC\uFF0C\u6211\u4EEC\u4E3A\u7F51\u7EDC\u5B9A\u4E49\u4E86\u7F51\u7EDC\u9A71\u52A8\u7684\u7C7B\u578B\uFF0C\u5E76\u6307\u5B9A\u4E86\u5B50\u7F51\u7684\u7F51\u6BB5\u3002"}),"\n",(0,d.jsxs)(n.h5,{id:"\u4F7F\u7528\u7F51\u7EDC\u522B\u540D",children:["\u4F7F\u7528\u7F51\u7EDC\u522B\u540D",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528\u7F51\u7EDC\u522B\u540D",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u76F4\u63A5\u4F7F\u7528\u5BB9\u5668\u540D\u6216\u670D\u52A1\u540D\u6765\u4F5C\u4E3A\u8FDE\u63A5\u5176\u4ED6\u670D\u52A1\u7684\u7F51\u7EDC\u5730\u5740\uFF0C\u56E0\u4E3A\u7F3A\u4E4F\u7075\u6D3B\u6027\uFF0C\u5E38\u5E38\u8FD8\u4E0D\u80FD\u6EE1\u8DB3\u6211\u4EEC\u7684\u9700\u8981\u3002\u8FD9\u65F6\u5019\u6211\u4EEC\u53EF\u4EE5\u4E3A\u670D\u52A1\u5355\u72EC\u8BBE\u7F6E\u7F51\u7EDC\u522B\u540D\uFF0C\u5728\u5176\u4ED6\u5BB9\u5668\u91CC\uFF0C\u6211\u4EEC\u5C06\u8FD9\u4E2A\u522B\u540D\u4F5C\u4E3A\u7F51\u7EDC\u5730\u5740\u8FDB\u884C\u8BBF\u95EE\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u7F51\u7EDC\u522B\u540D\u7684\u5B9A\u4E49\u65B9\u5F0F\u5F88\u7B80\u5355\uFF0C\u8FD9\u91CC\u9700\u8981\u5C06\u4E4B\u524D\u7B80\u5355\u7684\u7F51\u7EDC List \u5B9A\u4E49\u7ED3\u6784\u4FEE\u6539\u6210 Map \u7ED3\u6784\uFF0C\u4EE5\u4FBF\u5728\u7F51\u7EDC\u4E2D\u52A0\u5165\u66F4\u591A\u7684\u5B9A\u4E49\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"# # ......\ndatabase:\n  networks:\n    backend:\n      aliases:\n        - backend.database\n# # ......\nwebapp:\n  networks:\n    backend:\n      aliases:\n        - backend.webapp\n    frontend:\n      aliases:\n        - frontend.webapp\n# # ......\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u6211\u4EEC\u8FDB\u884C\u8FD9\u6837\u7684\u914D\u7F6E\u540E\uFF0C\u6211\u4EEC\u4FBF\u53EF\u4EE5\u4F7F\u7528\u8FD9\u91CC\u6211\u4EEC\u6240\u8BBE\u7F6E\u7684\u7F51\u7EDC\u522B\u540D\u5BF9\u5176\u4ED6\u5BB9\u5668\u8FDB\u884C\u8BBF\u95EE\u4E86\u3002"}),"\n",(0,d.jsxs)(n.h5,{id:"\u7AEF\u53E3\u6620\u5C04",children:["\u7AEF\u53E3\u6620\u5C04",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7AEF\u53E3\u6620\u5C04",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5728 Docker Compose \u7684\u6BCF\u4E2A\u670D\u52A1\u914D\u7F6E\u91CC\uFF0C\u6211\u4EEC\u8FD8\u770B\u5230\u4E86 ports \u8FD9\u4E2A\u914D\u7F6E\u9879\uFF0C\u5B83\u662F\u7528\u6765\u5B9A\u4E49\u7AEF\u53E3\u6620\u5C04\u7684\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u6211\u4EEC\u53EF\u4EE5\u5229\u7528\u5B83\u8FDB\u884C\u5BBF\u4E3B\u673A\u4E0E\u5BB9\u5668\u7AEF\u53E3\u7684\u6620\u5C04\uFF0C\u8FD9\u4E2A\u914D\u7F6E\u4E0E docker CLI \u4E2D -p \u9009\u9879\u7684\u4F7F\u7528\u65B9\u6CD5\u662F\u8FD1\u4F3C\u7684\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u7531\u4E8E YAML \u683C\u5F0F\u5BF9 xx:yy \u8FD9\u79CD\u683C\u5F0F\u7684\u89E3\u6790\u6709\u7279\u6B8A\u6027\uFF0C\u5728\u8BBE\u7F6E\u5C0F\u4E8E 60 \u7684\u503C\u65F6\uFF0C\u4F1A\u88AB\u5F53\u6210\u65F6\u95F4\u800C\u4E0D\u662F\u5B57\u7B26\u4E32\u6765\u5904\u7406\uFF0C\u6240\u4EE5\u6211\u4EEC\u6700\u597D\u4F7F\u7528\u5F15\u53F7\u5C06\u7AEF\u53E3\u6620\u5C04\u7684\u5B9A\u4E49\u5305\u88F9\u8D77\u6765\uFF0C\u907F\u514D\u6B67\u4E49\u3002"}),"\n",(0,d.jsxs)(n.h2,{id:"\u7F16\u5199-docker-compose-\u9879\u76EE-\u5B9E\u8DF5\u4E00",children:["\u7F16\u5199 Docker Compose \u9879\u76EE (\u5B9E\u8DF5\u4E00)",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7F16\u5199-docker-compose-\u9879\u76EE-\u5B9E\u8DF5\u4E00",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"\u7F16\u5199-docker-compose-\u9879\u76EE",children:["\u7F16\u5199 Docker Compose \u9879\u76EE",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7F16\u5199-docker-compose-\u9879\u76EE",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u8FD9\u4E00\u5C0F\u8282\u91CC\uFF0C\u6211\u4EEC\u4EE5\u4E00\u4E2A\u7531 MySQL\u3001Redis\u3001PHP-FPM \u548C Nginx \u7EC4\u6210\u7684\u5C0F\u578B PHP \u7F51\u7AD9\u4E3A\u4F8B\uFF0C\u4ECB\u7ECD\u901A\u8FC7 Docker \u642D\u5EFA\u8FD0\u884C\u8FD9\u5957\u7A0B\u5E8F\u8FD0\u884C\u73AF\u5883\u7684\u65B9\u6CD5\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u65E2\u7136\u6211\u4EEC\u8BF4\u5230\u8FD9\u4E2A\u5C0F\u578B\u7F51\u7AD9\u662F\u7531 MySQL\u3001Redis\u3001PHP-FPM \u548C Nginx \u56DB\u6B3E\u8F6F\u4EF6\u6240\u7EC4\u6210\u7684\uFF0C\u90A3\u4E48\u81EA\u7136\u5728 Docker \u91CC\uFF0C\u6211\u4EEC\u8981\u51C6\u5907\u56DB\u4E2A\u5BB9\u5668\u5206\u522B\u6765\u8FD0\u884C\u5B83\u4EEC\u3002\u800C\u4E3A\u4E86\u66F4\u597D\u5730\u7BA1\u7406\u8FD9\u56DB\u4E2A\u5BB9\u5668\u6240\u7EC4\u6210\u7684\u73AF\u5883\uFF0C\u6211\u4EEC\u8FD9\u91CC\u8FD8\u4F1A\u4F7F\u7528\u5230 Docker Compose\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4E0E\u642D\u5EFA\u4E00\u4E2A\u8F6F\u4EF6\u5F00\u53D1\u9879\u76EE\u7C7B\u4F3C\uFF0C\u6211\u4EEC\u63D0\u5021\u5C06 Docker Compose \u9879\u76EE\u7684\u7EC4\u6210\u5185\u5BB9\u805A\u96C6\u5230\u4E00\u4E2A\u6587\u4EF6\u76EE\u5F55\u4E2D\uFF0C\u8FD9\u6837\u66F4\u5229\u4E8E\u6211\u4EEC\u8FDB\u884C\u7BA1\u7406\u548C\u8FC1\u79FB\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u7B80\u5355\u8BF4\u660E\u4E00\u4E0B\u8FD9\u4E2A\u7ED3\u6784\u4E2D\u4E3B\u8981\u76EE\u5F55\u548C\u6587\u4EF6\u7684\u529F\u80FD\u548C\u4F5C\u7528\u3002\u5728\u8FD9\u4E2A\u7ED3\u6784\u91CC\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u6839\u76EE\u5F55\u4E0B\u7684\u51E0\u4E2A\u76EE\u5F55\u5206\u4E3A\u56DB\u7C7B\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u7B2C\u4E00\u7C7B\u662F Docker \u5B9A\u4E49\u76EE\u5F55\uFF0C\u4E5F\u5C31\u662F compose \u8FD9\u4E2A\u76EE\u5F55\u3002\u5728\u8FD9\u4E2A\u76EE\u5F55\u91CC\uFF0C\u5305\u542B\u4E86 docker-compose.yml \u8FD9\u4E2A\u7528\u4E8E\u5B9A\u4E49 Docker Compose \u9879\u76EE\u7684\u914D\u7F6E\u6587\u4EF6\u3002\u6B64\u5916\uFF0C\u8FD8\u5305\u542B\u4E86\u6211\u4EEC\u7528\u4E8E\u6784\u5EFA\u81EA\u5B9A\u4E49\u955C\u50CF\u7684\u5185\u5BB9\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u7B2C\u4E8C\u7C7B\u662F\u7A0B\u5E8F\u6587\u4EF6\u76EE\u5F55\uFF0C\u5728\u8FD9\u4E2A\u9879\u76EE\u91CC\u662F mysql\u3001nginx\u3001phpfpm\u3001redis \u8FD9\u56DB\u4E2A\u76EE\u5F55\u3002\u8FD9\u4E9B\u76EE\u5F55\u5206\u522B\u5BF9\u5E94\u7740 Docker Compose \u4E2D\u5B9A\u4E49\u7684\u670D\u52A1\uFF0C\u5728\u5176\u4E2D\u4E3B\u8981\u5B58\u653E\u5BF9\u5E94\u7A0B\u5E8F\u7684\u914D\u7F6E\uFF0C\u4EA7\u751F\u7684\u6570\u636E\u6216\u65E5\u5FD7\u7B49\u5185\u5BB9\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u7B2C\u4E09\u7C7B\u662F\u4EE3\u7801\u76EE\u5F55\uFF0C\u5728\u8FD9\u4E2A\u9879\u76EE\u4E2D\u5C31\u662F\u5B58\u653E Web \u7A0B\u5E8F\u7684 website \u76EE\u5F55\u3002\u6211\u4EEC\u5C06\u4EE3\u7801\u7EDF\u4E00\u653E\u5728\u8FD9\u4E2A\u76EE\u5F55\u4E2D\uFF0C\u65B9\u4FBF\u5728\u5BB9\u5668\u4E2D\u6302\u8F7D\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u7B2C\u56DB\u7C7B\u662F\u5DE5\u5177\u547D\u4EE4\u76EE\u5F55\uFF0C\u8FD9\u91CC\u6307 bin \u8FD9\u4E2A\u76EE\u5F55\u3002\u6211\u4EEC\u5728\u8FD9\u91CC\u5B58\u653E\u4E00\u4E9B\u81EA\u5DF1\u7F16\u5199\u7684\u547D\u4EE4\u811A\u672C\uFF0C\u6211\u4EEC\u901A\u8FC7\u8FD9\u4E9B\u811A\u672C\u53EF\u4EE5\u66F4\u7B80\u6D01\u5730\u64CD\u4F5C\u6574\u4E2A\u9879\u76EE\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"docker-composeyml",children:["docker-compose.yml",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#docker-composeyml",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"version: '3'\n\nnetworks:\n  frontend:\n  backend:\n\nservices:\n  redis:\n    image: redis:3.2\n    networks:\n      - backend\n    volumes:\n      - ../redis/redis.conf:/etc/redis/redis.conf:ro\n      - ../redis/data:/data\n    command: [redis-server, /etc/redis/redis.conf]\n    ports:\n      - '6379:6379'\n\n  mysql:\n    image: mysql:5.7\n    networks:\n      - backend\n    volumes:\n      - ../mysql/my.cnf:/etc/mysql/my.cnf:ro\n      - ../mysql/data:/var/lib/mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: my-secret-pw\n    ports:\n      - '3306:3306'\n\n  phpfpm:\n    build: ./phpfpm\n    networks:\n      - frontend\n      - backend\n    volumes:\n      - ../phpfpm/php.ini:/usr/local/etc/php/php.ini:ro\n      - ../phpfpm/php-fpm.conf:/usr/local/etc/php-fpm.conf:ro\n      - ../phpfpm/php-fpm.d:/usr/local/etc/php-fpm.d:ro\n      - ../phpfpm/crontab:/etc/crontab:ro\n      - ../website:/website\n    depends_on:\n      - redis\n      - mysql\n\n  nginx:\n    image: nginx:1.12\n    networks:\n      - frontend\n    volumes:\n      - ../nginx/nginx.conf:/etc/nginx/nginx.conf:ro\n      - ../nginx/conf.d:/etc/nginx/conf.d:ro\n      - ../website:/website\n    depends_on:\n      - phpfpm\n    ports:\n      - '80:80'\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4F7F\u7528\u5408\u9002\u7684\u955C\u50CF\u662F\u63D0\u9AD8\u5DE5\u4F5C\u6548\u7387\u7684\u9014\u5F84\u4E4B\u4E00\uFF0C\u8FD9\u91CC\u8BB2\u89E3\u4E00\u4E0B\u6211\u4EEC\u5728\u8FD9\u4E2A\u9879\u76EE\u4E2D\u9009\u62E9\u955C\u50CF\u7684\u539F\u7531\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u8FD9\u4E2A\u9879\u76EE\u91CC\uFF0C\u6211\u4EEC\u76F4\u63A5\u91C7\u7528\u4E86 MySQL\u3001Redis \u548C Nginx \u4E09\u4E2A\u5B98\u65B9\u955C\u50CF\uFF0C\u800C\u5BF9\u4E8E PHP-FPM \u7684\u955C\u50CF\uFF0C\u6211\u4EEC\u9700\u8981\u589E\u52A0\u4E00\u4E9B\u529F\u80FD\uFF0C\u6240\u4EE5\u6211\u4EEC\u901A\u8FC7 Dockerfile \u6784\u5EFA\u7684\u65B9\u5F0F\u6765\u751F\u6210\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5BF9\u4E8E MySQL \u6765\u8BF4\uFF0C\u6211\u4EEC\u9700\u8981\u4E3A\u5B83\u4EEC\u8BBE\u7F6E\u5BC6\u7801\uFF0C\u6240\u4EE5\u539F\u5219\u4E0A\u6211\u4EEC\u662F\u9700\u8981\u5BF9\u5B83\u4EEC\u8FDB\u884C\u6539\u9020\u5E76\u751F\u6210\u65B0\u7684\u955C\u50CF\u6765\u4F7F\u7528\u7684\u3002\u800C\u7531\u4E8E MySQL \u955C\u50CF\u53EF\u4EE5\u901A\u8FC7\u6211\u4EEC\u4E4B\u524D\u5728\u955C\u50CF\u4F7F\u7528\u65B9\u6CD5\u4E00\u8282\u6240\u63D0\u5230\u7684\u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u7684\u65B9\u5F0F\uFF0C\u6765\u76F4\u63A5\u6307\u5B9A MySQL \u7684\u5BC6\u7801\u53CA\u5176\u4ED6\u4E00\u4E9B\u5173\u952E\u6027\u5185\u5BB9\uFF0C\u6240\u4EE5\u6211\u4EEC\u5C31\u65E0\u987B\u5355\u72EC\u6784\u5EFA\u955C\u50CF\uFF0C\u53EF\u4EE5\u76F4\u63A5\u91C7\u7528\u5B98\u65B9\u955C\u50CF\u5E76\u914D\u5408\u4F7F\u7528\u73AF\u5883\u53D8\u91CF\u6765\u8FBE\u5230\u76EE\u7684\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5BF9\u4E8E Redis \u6765\u8BF4\uFF0C\u51FA\u4E8E\u5B89\u5168\u8003\u8651\uFF0C\u6211\u4EEC\u4E00\u6837\u9700\u8981\u8BBE\u7F6E\u5BC6\u7801\u3002Redis \u8BBE\u7F6E\u5BC6\u7801\u7684\u65B9\u6CD5\u662F\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u6765\u5B8C\u6210\u7684\uFF0C\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u4FEE\u6539 Redis \u7684\u914D\u7F6E\u6587\u4EF6\u5E76\u6302\u8F7D\u5230 Redis \u5BB9\u5668\u4E2D\u3002\u8FD9\u4E2A\u8FC7\u7A0B\u4E5F\u76F8\u5BF9\u7B80\u5355\uFF0C\u4E0D\u8FC7\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u5728\u5B98\u65B9\u63D0\u4F9B\u7684 Redis \u955C\u50CF\u91CC\uFF0C\u9ED8\u8BA4\u7684\u542F\u52A8\u547D\u4EE4\u662F redis-server\uFF0C\u5176\u5E76\u6CA1\u6709\u6307\u5B9A\u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6\u3002\u6240\u4EE5\u5728\u6211\u4EEC\u5B9A\u4E49 Redis \u5BB9\u5668\u65F6\uFF0C\u8981\u4F7F\u7528 command \u914D\u7F6E\u4FEE\u6539\u5BB9\u5668\u7684\u542F\u52A8\u547D\u4EE4\uFF0C\u4F7F\u5176\u8BFB\u53D6\u6211\u4EEC\u6302\u8F7D\u5230\u5BB9\u5668\u7684\u914D\u7F6E\u6587\u4EF6\u3002"}),"\n",(0,d.jsxs)(n.h3,{id:"\u81EA\u5B9A\u4E49\u955C\u50CF-dockerfile",children:["\u81EA\u5B9A\u4E49\u955C\u50CF (Dockerfile)",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u81EA\u5B9A\u4E49\u955C\u50CF-dockerfile",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u76F8\u6BD4\u8F83\u4E8E MySQL\u3001Redis \u8FD9\u6837\u53EF\u4EE5\u901A\u8FC7\u7B80\u5355\u914D\u7F6E\u5373\u53EF\u76F4\u63A5\u4F7F\u7528\u7684\u955C\u50CF\u4E0D\u540C\uFF0CPHP \u7684\u955C\u50CF\u4E2D\u7F3A\u4E4F\u4E86\u4E00\u4E9B\u6211\u4EEC\u7A0B\u5E8F\u4E2D\u5FC5\u8981\u7684\u5143\u7D20\uFF0C\u800C\u8FD9\u4E9B\u90E8\u5206\u6211\u4EEC\u63A8\u8350\u4F7F\u7528\u81EA\u5B9A\u4E49\u955C\u50CF\u7684\u65B9\u5F0F\u5C06\u5B83\u4EEC\u52A0\u5165\u5176\u4E2D\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u8FD9\u4E2A\u4F8B\u5B50\u91CC\uFF0C\u56E0\u4E3A\u9700\u8981\u8BA9 PHP \u8FDE\u63A5\u5230 MySQL \u6570\u636E\u5E93\u4E2D\uFF0C\u6240\u4EE5\u6211\u4EEC\u8981\u4E3A\u955C\u50CF\u4E2D\u7684 PHP \u7A0B\u5E8F\u5B89\u88C5\u548C\u5F00\u542F pdo_mysql \u8FD9\u4E2A\u6269\u5C55\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4E86\u89E3\u5982\u4F55\u5B89\u88C5\u6269\u5C55\uFF0C\u8FD9\u5C31\u8981\u8003\u9A8C\u6211\u4EEC\u4E4B\u524D\u5728 Docker Hub \u955C\u50CF\u4F7F\u7528\u4E00\u8282\u4E2D\u5B66\u5230\u7684\u77E5\u8BC6\u4E86\u3002\u6211\u4EEC\u901A\u8FC7\u9605\u8BFB PHP \u955C\u50CF\u7684\u4ECB\u7ECD\u9875\u9762\uFF0C\u53EF\u4EE5\u627E\u5230 PHP \u955C\u50CF\u4E2D\u5DF2\u7ECF\u4E3A\u6211\u4EEC\u51C6\u5907\u597D\u4E86\u6269\u5C55\u7684\u5B89\u88C5\u548C\u542F\u7528\u547D\u4EE4\uFF0C\u8FD9\u8BA9\u6211\u4EEC\u53EF\u4EE5\u5F88\u8F7B\u677E\u5730\u5728\u955C\u50CF\u4E2D\u52A0\u5165\u6269\u5C55\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'FROM php:7.2-fpm\n\nMAINTAINER You Ming <youming@funcuter.org>\n\nRUN apt-get update \\ && apt-get install -y --no-install-recommends cron\n\nRUN docker-php-ext-install pdo_mysql\n\nCOPY docker-entrypoint.sh /usr/local/bin/\n\nRUN chmod +x /usr/local/bin/docker-entrypoint.sh\n\nENTRYPOINT ["docker-entrypoint.sh"]\n\nCMD ["php-fpm"]\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u7531\u4E8E Docker \u5B98\u65B9\u6240\u63D0\u4F9B\u7684\u955C\u50CF\u6BD4\u8F83\u7CBE\u7B80\uFF0C\u6240\u4EE5\u5728\u8FD9\u4E2A Dockerfile \u91CC\uFF0C\u6211\u4EEC\u8FD8\u6267\u884C\u4E86 cron \u7684\u5B89\u88C5\u547D\u4EE4\uFF0C\u6765\u786E\u4FDD\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u5B9A\u65F6\u4EFB\u52A1\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5927\u5BB6\u6CE8\u610F\u5230\uFF0C\u8FD9\u91CC\u9664\u4E86\u6211\u4EEC\u8FDB\u884C\u529F\u80FD\u5B89\u88C5\u5916\uFF0C\u8FD8\u5C06\u4E00\u4E2A\u811A\u672C\u62F7\u5165\u4E86\u955C\u50CF\u4E2D\uFF0C\u5E76\u5C06\u5176\u4F5C\u4E3A ENTRYPOINT \u542F\u52A8\u5165\u53E3\u3002\u8FD9\u4E2A\u6587\u4EF6\u7684\u4F5C\u7528\u4E3B\u8981\u662F\u4E3A\u4E86\u542F\u52A8 cron \u670D\u52A1\uFF0C\u4EE5\u4FBF\u6211\u4EEC\u5728\u5BB9\u5668\u4E2D\u53EF\u4EE5\u6B63\u5E38\u4F7F\u7528\u5B83\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n\nservice cron start\n\nexec "$@"\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:'\u5728 docker-entrypoint.sh \u91CC\uFF0C\u9664\u4E86\u542F\u52A8 cron \u670D\u52A1\u7684\u547D\u4EE4\u5916\uFF0C\u6211\u4EEC\u5728\u811A\u672C\u7684\u6700\u540E\u770B\u5230\u7684\u662F exec "$@" \u8FD9\u884C\u547D\u4EE4\u3002$@ \u662F shell \u811A\u672C\u83B7\u53D6\u53C2\u6570\u7684\u7B26\u53F7\uFF0C\u8FD9\u91CC\u83B7\u5F97\u7684\u662F\u6240\u6709\u4F20\u5165\u811A\u672C\u7684\u53C2\u6570\uFF0C\u800C exec \u662F\u6267\u884C\u547D\u4EE4\uFF0C\u76F4\u63A5\u6267\u884C\u8FD9\u4E9B\u53C2\u6570\u3002'})}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679C\u76F4\u63A5\u770B\u8FD9\u6761\u547D\u4EE4\u5927\u5BB6\u4F1A\u6709\u4E9B\u7591\u60D1\uFF0C\u53C2\u6570\u600E\u4E48\u62FF\u6765\u6267\u884C\uFF0C\u8FD9\u4E0D\u662F\u6709\u95EE\u9898\u4E48\uFF1F"}),"\n",(0,d.jsx)(n.p,{children:"\u8BF7\u5927\u5BB6\u56DE\u987E\u4E00\u4E0B\uFF0C\u6211\u4EEC\u4E4B\u524D\u63D0\u5230\u7684\uFF0C\u5982\u679C\u5728\u955C\u50CF\u91CC\u540C\u65F6\u5B9A\u4E49\u4E86 ENTRYPOINT \u548C CMD \u4E24\u4E2A\u6307\u4EE4\uFF0CCMD \u6307\u4EE4\u7684\u5185\u5BB9\u4F1A\u4EE5\u53C2\u6570\u7684\u5F62\u5F0F\u4F20\u9012\u7ED9 ENTRYPOINT \u6307\u4EE4\u3002\u6240\u4EE5\uFF0C\u8FD9\u91CC\u811A\u672C\u6700\u7EC8\u6267\u884C\u7684\uFF0C\u662F CMD \u4E2D\u6240\u5B9A\u4E49\u7684\u547D\u4EE4\u3002"}),"\n",(0,d.jsxs)(n.h3,{id:"\u76EE\u5F55\u6302\u8F7D",children:["\u76EE\u5F55\u6302\u8F7D",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u76EE\u5F55\u6302\u8F7D",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u8FD9\u4E2A\u4F8B\u5B50\u91CC\uFF0C\u6211\u4EEC\u4F1A\u628A\u9879\u76EE\u4E2D\u7684\u4E00\u4E9B\u76EE\u5F55\u6216\u6587\u4EF6\u6302\u8F7D\u5230\u5BB9\u5668\u91CC\uFF0C\u8FD9\u6837\u7684\u6302\u8F7D\u4E3B\u8981\u6709\u4E09\u79CD\u76EE\u7684\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u5C06\u7A0B\u5E8F\u7684\u914D\u7F6E\u901A\u8FC7\u6302\u8F7D\u7684\u65B9\u5F0F\u8986\u76D6\u5BB9\u5668\u4E2D\u5BF9\u5E94\u7684\u6587\u4EF6\uFF0C\u8FD9\u8BA9\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u5728\u5BB9\u5668\u5916\u4FEE\u6539\u7A0B\u5E8F\u7684\u914D\u7F6E\uFF0C\u5E76\u901A\u8FC7\u76F4\u63A5\u91CD\u542F\u5BB9\u5668\u5C31\u80FD\u5E94\u7528\u8FD9\u4E9B\u914D\u7F6E\uFF1B"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u628A\u76EE\u5F55\u6302\u8F7D\u5230\u5BB9\u5668\u4E2D\u5E94\u7528\u6570\u636E\u7684\u8F93\u51FA\u76EE\u5F55\uFF0C\u5C31\u53EF\u4EE5\u8BA9\u5BB9\u5668\u4E2D\u7684\u7A0B\u5E8F\u76F4\u63A5\u5C06\u6570\u636E\u8F93\u51FA\u5230\u5BB9\u5668\u5916\uFF0C\u5BF9\u4E8E MySQL\u3001Redis \u4E2D\u7684\u6570\u636E\uFF0C\u7A0B\u5E8F\u7684\u65E5\u5FD7\u7B49\u5185\u5BB9\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u8FD9\u79CD\u65B9\u6CD5\u6765\u6301\u4E45\u4FDD\u5B58\u5B83\u4EEC\uFF1B"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u628A\u4EE3\u7801\u6216\u8005\u7F16\u8BD1\u540E\u7684\u7A0B\u5E8F\u6302\u8F7D\u5230\u5BB9\u5668\u4E2D\uFF0C\u8BA9\u5B83\u4EEC\u5728\u5BB9\u5668\u4E2D\u53EF\u4EE5\u76F4\u63A5\u8FD0\u884C\uFF0C\u8FD9\u5C31\u907F\u514D\u4E86\u6211\u4EEC\u5728\u5F00\u53D1\u4E2D\u53CD\u590D\u6784\u5EFA\u955C\u50CF\u5E26\u6765\u7684\u9EBB\u70E6\uFF0C\u8282\u7701\u51FA\u5927\u91CF\u5B9D\u8D35\u7684\u5F00\u53D1\u65F6\u95F4\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u4E0A\u8FF0\u7684\u51E0\u79CD\u65B9\u6CD5\uFF0C\u5BF9\u4E8E\u7EBF\u4E0A\u90E8\u7F72\u6765\u8BF4\u90FD\u662F\u4E0D\u9002\u7528\u7684\uFF0C\u4F46\u5728\u6211\u4EEC\u7684\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u5374\u53EF\u4EE5\u4E3A\u6211\u4EEC\u514D\u53BB\u5927\u91CF\u4E0D\u5FC5\u8981\u7684\u5DE5\u4F5C\uFF0C\u56E0\u6B64\u5EFA\u8BAE\u5728\u5F00\u53D1\u4E2D\u4F7F\u7528\u8FD9\u4E9B\u6302\u8F7D\u7ED3\u6784\u3002"}),"\n",(0,d.jsxs)(n.h3,{id:"\u7F16\u5199\u8F85\u52A9\u811A\u672C",children:["\u7F16\u5199\u8F85\u52A9\u811A\u672C",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7F16\u5199\u8F85\u52A9\u811A\u672C",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u6211\u4EEC\u77E5\u9053\uFF0C\u867D\u7136 Docker Compose \u7B80\u5316\u4E86\u8BB8\u591A\u64CD\u4F5C\u6D41\u7A0B\uFF0C\u4F46\u6211\u4EEC\u8FD8\u662F\u9700\u8981\u4F7F\u7528 docker-compose \u547D\u4EE4\u6765\u7BA1\u7406\u9879\u76EE\u3002\u5BF9\u4E8E\u8FD9\u4E2A\u4F8B\u5B50\u6765\u8BF4\uFF0C\u6211\u4EEC\u8981\u542F\u52A8\u5B83\u5C31\u5FC5\u987B\u4F7F\u7528\u8FD9\u6837\u7684 docker-compose \u547D\u4EE4\u6765\u7BA1\u7406\u9879\u76EE\u3002\u5BF9\u4E8E\u8FD9\u4E2A\u4F8B\u5B50\u6765\u8BF4\uFF0C\u6211\u4EEC\u8981\u542F\u52A8\u5B83\u5C31\u5FC5\u987B\u4F7F\u7528\u8FD9\u6837\u7684\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker-compose -p website up -d\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u800C\u6267\u884C\u7684\u76EE\u5F55\u5FC5\u987B\u662F docker-compose.yml \u6587\u4EF6\u6240\u5728\u7684\u76EE\u5F55\uFF0C\u8FD9\u6837\u624D\u80FD\u6B63\u786E\u5730\u8BFB\u53D6 Docker Compose \u9879\u76EE\u7684\u914D\u7F6E\u5185\u5BB9\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u6211\u7F16\u5199\u4E86\u4E00\u4E2A compose \u811A\u672C\uFF0C\u7528\u6765\u7B80\u5316 docker-compose \u7684\u64CD\u4F5C\u547D\u4EE4\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n\nroot=$(cd `dirname $0`; dirname `pwd`)\n\ndocker-compose -p website -f ${root}/compose/docker-compose.yml "$@"\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u8FD9\u4E2A\u811A\u672C\u91CC\uFF0C\u6211\u628A\u4E00\u4E9B\u5171\u6027\u7684\u4E1C\u897F\u5305\u542B\u8FDB\u53BB\uFF0C\u8FD9\u6837\u6211\u4EEC\u5C31\u4E0D\u5FC5\u6BCF\u6B21\u4F20\u5165\u8FD9\u4E9B\u53C2\u6570\u6216\u9009\u9879\u4E86\u3002\u540C\u65F6\uFF0C\u8FD9\u4E2A\u811A\u672C\u8FD8\u80FD\u81EA\u9002\u5E94\u8C03\u7528\u7684\u76EE\u5F55\uFF0C\u51C6\u786E\u627E\u5230 docker-compose.yml \u6587\u4EF6\uFF0C\u66F4\u65B9\u4FBF\u6211\u4EEC\u76F4\u63A5\u8C03\u7528\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u901A\u8FC7\u8FD9\u4E2A\u811A\u672C\u6765\u64CD\u4F5C\u9879\u76EE\uFF0C\u6211\u4EEC\u7684\u547D\u4EE4\u5C31\u53EF\u4EE5\u7B80\u5316\u4E3A\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./bin/compose up -d\n\n./bin/compose logs nginx\n\n./bin/compose down\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"docker-\u5E38\u7528\u547D\u4EE4",children:["docker \u5E38\u7528\u547D\u4EE4",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#docker-\u5E38\u7528\u547D\u4EE4",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"\u4E00docker-\u542F\u52A8",children:["\u4E00\u3001docker \u542F\u52A8",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E00docker-\u542F\u52A8",children:"#"})]}),"\n",(0,d.jsxs)(n.h4,{id:"ubuntu",children:["Ubuntu",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ubuntu",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" su root #\u5207\u6362\u5230root\u7528\u6237\n systemctl enable docker #\u8BBE\u7F6E\u5F00\u673A\u81EA\u52A8\u542F\u7528docker\u670D\u52A1\n systemctl start docker #\u542F\u52A8docker \u670D\u52A1\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"centos",children:["CentOS",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#centos",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" sudo systemctl enable docker  #\u8BBE\u7F6E\u5F00\u673A\u81EA\u52A8\u542F\u7528docker\u670D\u52A1\n sudo systemctl start docker  #\u542F\u52A8docker \u670D\u52A1\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u4E8C\u5173\u95ED-docker",children:["\u4E8C\u3001\u5173\u95ED docker",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E8C\u5173\u95ED-docker",children:"#"})]}),"\n",(0,d.jsxs)(n.h4,{id:"ubuntu-1",children:["Ubuntu",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ubuntu-1",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" systemctl stop docker #\u5173\u95EDdocker \u670D\u52A1\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"centos-1",children:["CentOS",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#centos-1",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" sudo systemctl stop docker #\u5173\u95EDdocker \u670D\u52A1\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u4E09\u91CD\u542F-docker",children:["\u4E09\u3001\u91CD\u542F docker",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E09\u91CD\u542F-docker",children:"#"})]}),"\n",(0,d.jsxs)(n.h4,{id:"ubuntu-2",children:["Ubuntu",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ubuntu-2",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" systemctl restart docker #\u91CD\u542Fdocker \u670D\u52A1\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"centos-2",children:["CentOS",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#centos-2",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" sudo systemctl restart docker #\u91CD\u542Fdocker \u670D\u52A1\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u56DB\u5378\u8F7D-docker",children:["\u56DB\u3001\u5378\u8F7D docker",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u56DB\u5378\u8F7D-docker",children:"#"})]}),"\n",(0,d.jsxs)(n.h4,{id:"ubuntu-3",children:["Ubuntu",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ubuntu-3",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" sudo apt-get purge docker-ce # \u5220\u9664\u5B89\u88C5\u5305\n sudo rm -rf /var/lib/docker  # \u5220\u9664\u955C\u50CF\u3001\u5BB9\u5668\u3001\u914D\u7F6E\u6587\u4EF6\u7B49\u5185\u5BB9\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"centos-3",children:["CentOS",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#centos-3",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" yum remove docker-ce # \u5220\u9664\u5B89\u88C5\u5305\n rm -rf /var/lib/docker # \u5220\u9664\u955C\u50CF\u3001\u5BB9\u5668\u3001\u914D\u7F6E\u6587\u4EF6\u7B49\u5185\u5BB9\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u4E94\u955C\u50CF\u52A0\u901F",children:["\u4E94\u3001\u955C\u50CF\u52A0\u901F",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E94\u955C\u50CF\u52A0\u901F",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"Docker \u5B98\u65B9\u548C\u56FD\u5185\u5F88\u591A\u4E91\u670D\u52A1\u5546\u90FD\u63D0\u4F9B\u4E86\u56FD\u5185\u52A0\u901F\u5668\u670D\u52A1\uFF0C\u4F8B\u5982\uFF1A"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["\u79D1\u5927\u955C\u50CF\uFF1A",(0,d.jsx)(n.a,{href:"https://docker.mirrors.ustc.edu.cn/",target:"_blank",rel:"noopener noreferrer",children:"https://docker.mirrors.ustc.edu.cn/"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u7F51\u6613\uFF1A",(0,d.jsx)(n.a,{href:"https://hub-mirror.c.163.com/",target:"_blank",rel:"noopener noreferrer",children:"https://hub-mirror.c.163.com/"})]}),"\n",(0,d.jsx)(n.p,{children:"\u963F\u91CC\u4E91\uFF1A<https://<\u4F60\u7684> ID>.mirror.aliyuncs.com"}),"\n",(0,d.jsxs)(n.p,{children:["\u4E03\u725B\u4E91\u52A0\u901F\u5668\uFF1A",(0,d.jsx)(n.a,{href:"https://reg-mirror.qiniu.com",target:"_blank",rel:"noopener noreferrer",children:"https://reg-mirror.qiniu.com"})]}),"\n",(0,d.jsx)(n.p,{children:"Ubuntu14.04\u3001Debian7Wheezy"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u5BF9\u4E8E\u4F7F\u7528 upstart \u7684\u7CFB\u7EDF\u800C\u8A00\uFF0C\u7F16\u8F91 /etc/default/docker \u6587\u4EF6\uFF0C\u5728\u5176\u4E2D\u7684 DOCKER_OPTS \u4E2D\u914D\u7F6E\u52A0\u901F\u5668\u5730\u5740\uFF1A"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:['DOCKER_OPTS="--registry-mirror=',(0,d.jsx)(n.a,{href:"https://registry.docker-cn.com",target:"_blank",rel:"noopener noreferrer",children:"https://registry.docker-cn.com"}),'"']}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u91CD\u65B0\u542F\u52A8\u670D\u52A1:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" sudo service docker restart\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"ubuntu1604debian8centos7",children:["Ubuntu16.04+\u3001Debian8+\u3001CentOS7",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ubuntu1604debian8centos7",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5BF9\u4E8E\u4F7F\u7528 systemd \u7684\u7CFB\u7EDF\uFF0C\u8BF7\u5728 /etc/docker/daemon.json \u4E2D\u5199\u5165\u5982\u4E0B\u5185\u5BB9\uFF08\u5982\u679C\u6587\u4EF6\u4E0D\u5B58\u5728\u8BF7\u65B0\u5EFA\u8BE5\u6587\u4EF6\uFF09\uFF1A"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:'{"registry-mirrors":["https://reg-mirror.qiniu.com/"]}'})}),"\n",(0,d.jsx)(n.p,{children:"\u4E4B\u540E\u91CD\u65B0\u542F\u52A8\u670D\u52A1\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:" sudo systemctl daemon-reload\n sudo systemctl restart docker\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u516D\u955C\u50CF\u4F7F\u7528",children:["\u516D\u3001\u955C\u50CF\u4F7F\u7528",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u516D\u955C\u50CF\u4F7F\u7528",children:"#"})]}),"\n",(0,d.jsxs)(n.h4,{id:"\u5217\u51FA\u955C\u50CF\u5217\u8868",children:["\u5217\u51FA\u955C\u50CF\u5217\u8868",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5217\u51FA\u955C\u50CF\u5217\u8868",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"docker images\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"\u83B7\u53D6\u4E00\u4E2A\u65B0\u7684\u955C\u50CF",children:["\u83B7\u53D6\u4E00\u4E2A\u65B0\u7684\u955C\u50CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u83B7\u53D6\u4E00\u4E2A\u65B0\u7684\u955C\u50CF",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"docker pull \u4ED3\u5E93\u6E90:\u6807\u7B7E\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"\u67E5\u627E\u955C\u50CF",children:["\u67E5\u627E\u955C\u50CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u67E5\u627E\u955C\u50CF",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"docker search \u4ED3\u5E93\u6E90\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"\u5220\u9664\u955C\u50CF",children:["\u5220\u9664\u955C\u50CF`",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5220\u9664\u955C\u50CF",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"docker rmi \u4ED3\u5E93\u6E90:\u6807\u7B7E\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u4E03\u5BB9\u5668\u4F7F\u7528",children:["\u4E03\u3001\u5BB9\u5668\u4F7F\u7528",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E03\u5BB9\u5668\u4F7F\u7528",children:"#"})]}),"\n",(0,d.jsxs)(n.h4,{id:"1\u83B7\u53D6\u955C\u50CF",children:["1\u3001\u83B7\u53D6\u955C\u50CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1\u83B7\u53D6\u955C\u50CF",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"docker pull nginx\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"2\u542F\u52A8\u5BB9\u5668",children:["2\u3001\u542F\u52A8\u5BB9\u5668",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2\u542F\u52A8\u5BB9\u5668",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" docker run -itd  --name nginx-test  nginx  /bin/bash\n"})}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"-i"}),": \u4EA4\u4E92\u5F0F\u64CD\u4F5C\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"-t"}),": \u7EC8\u7AEF\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"-d"}),": \u540E\u53F0\u8FD0\u884C"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"--name nginx-test"}),"\uFF1A\u5BB9\u5668\u540D\u79F0\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"nginx"}),": nginx \u955C\u50CF"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"/bin/bash"}),"\uFF1A\u653E\u5728\u955C\u50CF\u540D\u540E\u7684\u662F\u547D\u4EE4\uFF0C\u8FD9\u91CC\u6211\u4EEC\u5E0C\u671B\u6709\u4E2A\u4EA4\u4E92\u5F0F ",(0,d.jsx)(n.code,{children:"Shell"}),"\uFF0C\u56E0\u6B64\u7528\u7684\u662F ",(0,d.jsx)(n.code,{children:"/bin/bash"}),"\u3002(\u8981\u9000\u51FA\u7EC8\u7AEF\uFF0C\u76F4\u63A5\u8F93\u5165 ",(0,d.jsx)(n.code,{children:"exit"}),")"]}),"\n"]}),"\n",(0,d.jsxs)(n.h4,{id:"3\u63D0\u4EA4\u5BB9\u5668\u526F\u672C\u4E3A\u955C\u50CF",children:["3\u3001\u63D0\u4EA4\u5BB9\u5668\u526F\u672C\u4E3A\u955C\u50CF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3\u63D0\u4EA4\u5BB9\u5668\u526F\u672C\u4E3A\u955C\u50CF",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:'docker commit -m="new conent" -a="lqs" h7ml lqs/nginx-test:v1\n'})}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"-m: \u63D0\u4EA4\u7684\u63CF\u8FF0\u4FE1\u606F"}),"\n",(0,d.jsx)(n.p,{children:"-a: \u6307\u5B9A\u955C\u50CF\u4F5C\u8005"}),"\n",(0,d.jsx)(n.p,{children:"h7ml\uFF1A\u5BB9\u5668 ID"}),"\n",(0,d.jsx)(n.p,{children:"lqs/nginx-test:v1: \u6307\u5B9A\u8981\u521B\u5EFA\u7684\u76EE\u6807\u955C\u50CF\u540D"}),"\n"]}),"\n",(0,d.jsxs)(n.h4,{id:"4\u67E5\u770B\u6240\u6709\u7684\u5BB9\u5668",children:["4\u3001\u67E5\u770B\u6240\u6709\u7684\u5BB9\u5668",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4\u67E5\u770B\u6240\u6709\u7684\u5BB9\u5668",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" docker ps -a\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"5\u505C\u6B62\u4E00\u4E2A\u5BB9\u5668",children:["5\u3001\u505C\u6B62\u4E00\u4E2A\u5BB9\u5668",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5\u505C\u6B62\u4E00\u4E2A\u5BB9\u5668",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" docker stop <\u5BB9\u5668 ID>\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"6\u542F\u52A8\u5DF2\u505C\u6B62\u8FD0\u884C\u7684\u5BB9\u5668",children:["6\u3001\u542F\u52A8\u5DF2\u505C\u6B62\u8FD0\u884C\u7684\u5BB9\u5668",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6\u542F\u52A8\u5DF2\u505C\u6B62\u8FD0\u884C\u7684\u5BB9\u5668",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" docker start <\u5BB9\u5668 ID>\n\n docker restart <\u5BB9\u5668 ID>\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"7\u8FDB\u5165\u5BB9\u5668",children:["7\u3001\u8FDB\u5165\u5BB9\u5668",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#7\u8FDB\u5165\u5BB9\u5668",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker attach"})," # \u9000\u51FA\u5BB9\u5668\u4F1A\u505C\u6B62"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"docker exec"})," # \u63A8\u8350\u5927\u5BB6\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"docker exec"})," \u547D\u4EE4\uFF0C\u56E0\u4E3A\u6B64\u9000\u51FA\u5BB9\u5668\u7EC8\u7AEF\uFF0C\u4E0D\u4F1A\u5BFC\u81F4\u5BB9\u5668\u7684\u505C\u6B62\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" docker exec -it  nginx-test /bin/bash\n"})}),"\n",(0,d.jsx)(n.p,{children:"8\u3001\u5BFC\u51FA\u5BB9\u5668"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"docker export nginx-test > nginx.tar\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"9\u5BFC\u5165\u5BB9\u5668\u5FEB\u7167",children:["9\u3001\u5BFC\u5165\u5BB9\u5668\u5FEB\u7167",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#9\u5BFC\u5165\u5BB9\u5668\u5FEB\u7167",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u53EF\u4EE5\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"docker import"})," \u4ECE\u5BB9\u5668\u5FEB\u7167\u6587\u4EF6\u4E2D\u518D\u5BFC\u5165\u4E3A\u955C\u50CF\uFF0C\u4EE5\u4E0B\u5B9E\u4F8B\u5C06\u5FEB\u7167\u6587\u4EF6 ",(0,d.jsx)(n.code,{children:"nginx.tar"})," \u5BFC\u5165\u5230\u955C\u50CF ",(0,d.jsx)(n.code,{children:"test/nginx:v1"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"at docker/nginxtar | docker import - test/nginx:v1\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"10\u5220\u9664\u5BB9\u5668",children:["10\u3001\u5220\u9664\u5BB9\u5668",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#10\u5220\u9664\u5BB9\u5668",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"docker rm -f <\u5BB9\u5668 ID>\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u516B\u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04",children:["\u516B\u3001\u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u516B\u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04",children:"#"})]}),"\n",(0,d.jsxs)(n.h4,{id:"1\u67E5\u770B\u5BB9\u5668\u7AEF\u53E3\u7684\u6620\u5C04\u60C5\u51B5",children:["1\u3001\u67E5\u770B\u5BB9\u5668\u7AEF\u53E3\u7684\u6620\u5C04\u60C5\u51B5",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1\u67E5\u770B\u5BB9\u5668\u7AEF\u53E3\u7684\u6620\u5C04\u60C5\u51B5",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"docker port <\u5BB9\u5668 ID | \u5BB9\u5668\u540D\u79F0>\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"2\u5BB9\u5668\u542F\u52A8\u65F6\u53EF\u4EE5\u6307\u5B9A\u901A\u4FE1\u534F\u8BAE\u6BD4\u5982-tcpudp",children:["2\u3001\u5BB9\u5668\u542F\u52A8\u65F6\u53EF\u4EE5\u6307\u5B9A\u901A\u4FE1\u534F\u8BAE\uFF0C\u6BD4\u5982 tcp\u3001udp",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2\u5BB9\u5668\u542F\u52A8\u65F6\u53EF\u4EE5\u6307\u5B9A\u901A\u4FE1\u534F\u8BAE\u6BD4\u5982-tcpudp",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" docker run -ti -d --name nginx-test -p 8080:80/tcp docker.io/nginx\n"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"docker run -ti -d --name nginx-test -p 192.168.10.214:8081:80/udp docker.io/nginx\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"3\u5BB9\u5668\u542F\u52A8\u7ED1\u5B9A\u591A-ip-\u548C\u7AEF\u53E3\u8DDF\u591A\u4E2A-p",children:["3\u3001\u5BB9\u5668\u542F\u52A8\u7ED1\u5B9A\u591A IP \u548C\u7AEF\u53E3\uFF08\u8DDF\u591A\u4E2A-p\uFF09",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3\u5BB9\u5668\u542F\u52A8\u7ED1\u5B9A\u591A-ip-\u548C\u7AEF\u53E3\u8DDF\u591A\u4E2A-p",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"docker run -ti -d --name nginx-test  -p 192.168.10.214:7777:80 -p 127.0.0.1:7788:80 docker.io/nginx\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"4\u901A\u8FC7\u5BBF\u4E3B\u673A\u7684-iptables-\u8FDB\u884C-nat-\u8F6C\u53D1\u5C06\u5BBF\u4E3B\u673A\u7684\u7AEF\u53E3\u6620\u5C04\u5230\u5BB9\u5668\u7684\u5185\u90E8\u7AEF\u53E3\u4E0A",children:["4\u3001\u901A\u8FC7\u5BBF\u4E3B\u673A\u7684 iptables \u8FDB\u884C nat \u8F6C\u53D1\uFF0C\u5C06\u5BBF\u4E3B\u673A\u7684\u7AEF\u53E3\u6620\u5C04\u5230\u5BB9\u5668\u7684\u5185\u90E8\u7AEF\u53E3\u4E0A",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4\u901A\u8FC7\u5BBF\u4E3B\u673A\u7684-iptables-\u8FDB\u884C-nat-\u8F6C\u53D1\u5C06\u5BBF\u4E3B\u673A\u7684\u7AEF\u53E3\u6620\u5C04\u5230\u5BB9\u5668\u7684\u5185\u90E8\u7AEF\u53E3\u4E0A",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u8FD9\u79CD\u65B9\u5F0F\u9002\u7528\u4E8E\u5BB9\u5668\u542F\u52A8\u65F6\u6CA1\u6709\u6307\u5B9A\u7AEF\u53E3\u6620\u5C04\u7684\u60C5\u51B5\uFF01"}),"\n",(0,d.jsx)(n.p,{children:"\u9996\u5148\u83B7\u5F97\u5BB9\u5668\u7684 ip \u5730\u5740"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"docker inspect my-nginx9|grep IPAddress\nping IPAddress\ntelnet IPAddress 80\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5C06\u5BB9\u5668\u7684 80 \u7AEF\u53E3\u6620\u5C04\u5230 docker \u4E3B\u673A\u7684 8080 \u7AEF\u53E3"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"iptables -t nat -A  DOCKER -p tcp --dport 8080 -j DNAT --to-destination IPAddress:80\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"5\u63D0\u4EA4\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\u4E3A\u955C\u50CF\u8FD0\u884C\u955C\u50CF\u5E76\u6DFB\u52A0\u7AEF\u53E3",children:["5\u3001\u63D0\u4EA4\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\u4E3A\u955C\u50CF\uFF0C\u8FD0\u884C\u955C\u50CF\u5E76\u6DFB\u52A0\u7AEF\u53E3",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5\u63D0\u4EA4\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\u4E3A\u955C\u50CF\u8FD0\u884C\u955C\u50CF\u5E76\u6DFB\u52A0\u7AEF\u53E3",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:'docker commit -m="\u63CF\u8FF0\u4FE1\u606F" -a="\u955C\u50CF\u4F5C\u8005" <\u5BB9\u5668 ID>  <\u521B\u5EFA\u7684\u76EE\u6807\u955C\u50CF\u540D>\n'})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:" docker run -itd -p 8000:80 <\u65B0\u7684\u955C\u50CF> /bin/bash\n"})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}n.default=i,i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["up%2Fdocker%2Fdocker.md"]={toc:[{text:"\u6982\u5FF5",id:"\u6982\u5FF5",depth:2},{text:"Docker \u7684\u6838\u5FC3\u56DB\u5927\u7EC4\u6210\u5BF9\u8C61",id:"docker-\u7684\u6838\u5FC3\u56DB\u5927\u7EC4\u6210\u5BF9\u8C61",depth:3},{text:"\u955C\u50CF",id:"\u955C\u50CF",depth:4},{text:"\u5BB9\u5668",id:"\u5BB9\u5668",depth:4},{text:"\u7F51\u7EDC",id:"\u7F51\u7EDC",depth:4},{text:"\u6570\u636E\u5377",id:"\u6570\u636E\u5377",depth:4},{text:"\u5176\u4ED6",id:"\u5176\u4ED6",depth:4},{text:"\u5E38\u7528\u547D\u4EE4",id:"\u5E38\u7528\u547D\u4EE4",depth:2},{text:"\u955C\u50CF\u76F8\u5173",id:"\u955C\u50CF\u76F8\u5173",depth:3},{text:"\u955C\u50CF\u8FC1\u79FB",id:"\u955C\u50CF\u8FC1\u79FB",depth:4},{text:"\u5BB9\u5668\u76F8\u5173",id:"\u5BB9\u5668\u76F8\u5173",depth:3},{text:"\u7F51\u7EDC\u76F8\u5173",id:"\u7F51\u7EDC\u76F8\u5173",depth:3},{text:"\u5B58\u50A8\u76F8\u5173",id:"\u5B58\u50A8\u76F8\u5173",depth:3},{text:"\u6570\u636E\u5377\u5BB9\u5668",id:"\u6570\u636E\u5377\u5BB9\u5668",depth:4},{text:"\u6570\u636E\u5377\u5907\u4EFD\u548C\u8FC1\u79FB",id:"\u6570\u636E\u5377\u5907\u4EFD\u548C\u8FC1\u79FB",depth:4},{text:"\u7B14\u8BB0",id:"\u7B14\u8BB0",depth:2},{text:"\u4FEE\u6539\u56FD\u5185\u955C\u50CF\u6E90",id:"\u4FEE\u6539\u56FD\u5185\u955C\u50CF\u6E90",depth:3},{text:"\u901A\u8FC7 Dockerfile \u521B\u5EFA\u955C\u50CF",id:"\u901A\u8FC7-dockerfile-\u521B\u5EFA\u955C\u50CF",depth:2},{text:"\u7F16\u5199",id:"\u7F16\u5199",depth:3},{text:"Dockerfile \u7684\u7ED3\u6784",id:"dockerfile-\u7684\u7ED3\u6784",depth:4},{text:"\u5E38\u89C1 Dockerfile \u6307\u4EE4",id:"\u5E38\u89C1-dockerfile-\u6307\u4EE4",depth:4},{text:"\u6784\u5EFA\u955C\u50CF",id:"\u6784\u5EFA\u955C\u50CF",depth:3},{text:"\u5E38\u89C1\u6280\u5DE7",id:"\u5E38\u89C1\u6280\u5DE7",depth:3},{text:"\u6784\u5EFA\u4E2D\u4F7F\u7528\u53D8\u91CF",id:"\u6784\u5EFA\u4E2D\u4F7F\u7528\u53D8\u91CF",depth:4},{text:"\u73AF\u5883\u53D8\u91CF",id:"\u73AF\u5883\u53D8\u91CF",depth:4},{text:"\u5408\u5E76\u547D\u4EE4",id:"\u5408\u5E76\u547D\u4EE4",depth:4},{text:"\u6784\u5EFA\u7F13\u5B58",id:"\u6784\u5EFA\u7F13\u5B58",depth:4},{text:"\u642D\u914D ENTRYPOINT \u548C CMD",id:"\u642D\u914D-entrypoint-\u548C-cmd",depth:4},{text:"\u4F7F\u7528 Alpine \u955C\u50CF",id:"\u4F7F\u7528-alpine-\u955C\u50CF",depth:4},{text:"Docker Compose \u5BB9\u5668\u7F16\u6392",id:"docker-compose-\u5BB9\u5668\u7F16\u6392",depth:2},{text:"\u5BB9\u5668\u7BA1\u7406\u95EE\u9898",id:"\u5BB9\u5668\u7BA1\u7406\u95EE\u9898",depth:3},{text:"\u7F16\u5199 Docker Compose \u914D\u7F6E",id:"\u7F16\u5199-docker-compose-\u914D\u7F6E",depth:3},{text:"\u542F\u52A8\u548C\u505C\u6B62",id:"\u542F\u52A8\u548C\u505C\u6B62",depth:3},{text:"\u5BB9\u5668\u547D\u4EE4",id:"\u5BB9\u5668\u547D\u4EE4",depth:3},{text:"\u5E38\u7528\u7684 Docker Compose \u914D\u7F6E\u9879",id:"\u5E38\u7528\u7684-docker-compose-\u914D\u7F6E\u9879",depth:3},{text:"\u914D\u7F6E\u793A\u4F8B",id:"\u914D\u7F6E\u793A\u4F8B",depth:4},{text:"\u6307\u5B9A\u955C\u50CF",id:"\u6307\u5B9A\u955C\u50CF",depth:4},{text:"\u4F9D\u8D56\u58F0\u660E (depends_on)",id:"\u4F9D\u8D56\u58F0\u660E-depends_on",depth:4},{text:"\u6587\u4EF6\u6302\u8F7D",id:"\u6587\u4EF6\u6302\u8F7D",depth:4},{text:"\u914D\u7F6E\u7F51\u7EDC",id:"\u914D\u7F6E\u7F51\u7EDC",depth:4},{text:"\u7F16\u5199 Docker Compose \u9879\u76EE (\u5B9E\u8DF5\u4E00)",id:"\u7F16\u5199-docker-compose-\u9879\u76EE-\u5B9E\u8DF5\u4E00",depth:2},{text:"\u7F16\u5199 Docker Compose \u9879\u76EE",id:"\u7F16\u5199-docker-compose-\u9879\u76EE",depth:3},{text:"docker-compose.yml",id:"docker-composeyml",depth:3},{text:"\u81EA\u5B9A\u4E49\u955C\u50CF (Dockerfile)",id:"\u81EA\u5B9A\u4E49\u955C\u50CF-dockerfile",depth:3},{text:"\u76EE\u5F55\u6302\u8F7D",id:"\u76EE\u5F55\u6302\u8F7D",depth:3},{text:"\u7F16\u5199\u8F85\u52A9\u811A\u672C",id:"\u7F16\u5199\u8F85\u52A9\u811A\u672C",depth:3},{text:"docker \u5E38\u7528\u547D\u4EE4",id:"docker-\u5E38\u7528\u547D\u4EE4",depth:2},{text:"\u4E00\u3001docker \u542F\u52A8",id:"\u4E00docker-\u542F\u52A8",depth:3},{text:"Ubuntu",id:"ubuntu",depth:4},{text:"CentOS",id:"centos",depth:4},{text:"\u4E8C\u3001\u5173\u95ED docker",id:"\u4E8C\u5173\u95ED-docker",depth:3},{text:"Ubuntu",id:"ubuntu-1",depth:4},{text:"CentOS",id:"centos-1",depth:4},{text:"\u4E09\u3001\u91CD\u542F docker",id:"\u4E09\u91CD\u542F-docker",depth:3},{text:"Ubuntu",id:"ubuntu-2",depth:4},{text:"CentOS",id:"centos-2",depth:4},{text:"\u56DB\u3001\u5378\u8F7D docker",id:"\u56DB\u5378\u8F7D-docker",depth:3},{text:"Ubuntu",id:"ubuntu-3",depth:4},{text:"CentOS",id:"centos-3",depth:4},{text:"\u4E94\u3001\u955C\u50CF\u52A0\u901F",id:"\u4E94\u955C\u50CF\u52A0\u901F",depth:3},{text:"Ubuntu16.04+\u3001Debian8+\u3001CentOS7",id:"ubuntu1604debian8centos7",depth:4},{text:"\u516D\u3001\u955C\u50CF\u4F7F\u7528",id:"\u516D\u955C\u50CF\u4F7F\u7528",depth:3},{text:"\u5217\u51FA\u955C\u50CF\u5217\u8868",id:"\u5217\u51FA\u955C\u50CF\u5217\u8868",depth:4},{text:"\u83B7\u53D6\u4E00\u4E2A\u65B0\u7684\u955C\u50CF",id:"\u83B7\u53D6\u4E00\u4E2A\u65B0\u7684\u955C\u50CF",depth:4},{text:"\u67E5\u627E\u955C\u50CF",id:"\u67E5\u627E\u955C\u50CF",depth:4},{text:"\u5220\u9664\u955C\u50CF`",id:"\u5220\u9664\u955C\u50CF",depth:4},{text:"\u4E03\u3001\u5BB9\u5668\u4F7F\u7528",id:"\u4E03\u5BB9\u5668\u4F7F\u7528",depth:3},{text:"1\u3001\u83B7\u53D6\u955C\u50CF",id:"1\u83B7\u53D6\u955C\u50CF",depth:4},{text:"2\u3001\u542F\u52A8\u5BB9\u5668",id:"2\u542F\u52A8\u5BB9\u5668",depth:4},{text:"3\u3001\u63D0\u4EA4\u5BB9\u5668\u526F\u672C\u4E3A\u955C\u50CF",id:"3\u63D0\u4EA4\u5BB9\u5668\u526F\u672C\u4E3A\u955C\u50CF",depth:4},{text:"4\u3001\u67E5\u770B\u6240\u6709\u7684\u5BB9\u5668",id:"4\u67E5\u770B\u6240\u6709\u7684\u5BB9\u5668",depth:4},{text:"5\u3001\u505C\u6B62\u4E00\u4E2A\u5BB9\u5668",id:"5\u505C\u6B62\u4E00\u4E2A\u5BB9\u5668",depth:4},{text:"6\u3001\u542F\u52A8\u5DF2\u505C\u6B62\u8FD0\u884C\u7684\u5BB9\u5668",id:"6\u542F\u52A8\u5DF2\u505C\u6B62\u8FD0\u884C\u7684\u5BB9\u5668",depth:4},{text:"7\u3001\u8FDB\u5165\u5BB9\u5668",id:"7\u8FDB\u5165\u5BB9\u5668",depth:4},{text:"9\u3001\u5BFC\u5165\u5BB9\u5668\u5FEB\u7167",id:"9\u5BFC\u5165\u5BB9\u5668\u5FEB\u7167",depth:4},{text:"10\u3001\u5220\u9664\u5BB9\u5668",id:"10\u5220\u9664\u5BB9\u5668",depth:4},{text:"\u516B\u3001\u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04",id:"\u516B\u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04",depth:3},{text:"1\u3001\u67E5\u770B\u5BB9\u5668\u7AEF\u53E3\u7684\u6620\u5C04\u60C5\u51B5",id:"1\u67E5\u770B\u5BB9\u5668\u7AEF\u53E3\u7684\u6620\u5C04\u60C5\u51B5",depth:4},{text:"2\u3001\u5BB9\u5668\u542F\u52A8\u65F6\u53EF\u4EE5\u6307\u5B9A\u901A\u4FE1\u534F\u8BAE\uFF0C\u6BD4\u5982 tcp\u3001udp",id:"2\u5BB9\u5668\u542F\u52A8\u65F6\u53EF\u4EE5\u6307\u5B9A\u901A\u4FE1\u534F\u8BAE\u6BD4\u5982-tcpudp",depth:4},{text:"3\u3001\u5BB9\u5668\u542F\u52A8\u7ED1\u5B9A\u591A IP \u548C\u7AEF\u53E3\uFF08\u8DDF\u591A\u4E2A-p\uFF09",id:"3\u5BB9\u5668\u542F\u52A8\u7ED1\u5B9A\u591A-ip-\u548C\u7AEF\u53E3\u8DDF\u591A\u4E2A-p",depth:4},{text:"4\u3001\u901A\u8FC7\u5BBF\u4E3B\u673A\u7684 iptables \u8FDB\u884C nat \u8F6C\u53D1\uFF0C\u5C06\u5BBF\u4E3B\u673A\u7684\u7AEF\u53E3\u6620\u5C04\u5230\u5BB9\u5668\u7684\u5185\u90E8\u7AEF\u53E3\u4E0A",id:"4\u901A\u8FC7\u5BBF\u4E3B\u673A\u7684-iptables-\u8FDB\u884C-nat-\u8F6C\u53D1\u5C06\u5BBF\u4E3B\u673A\u7684\u7AEF\u53E3\u6620\u5C04\u5230\u5BB9\u5668\u7684\u5185\u90E8\u7AEF\u53E3\u4E0A",depth:4},{text:"5\u3001\u63D0\u4EA4\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\u4E3A\u955C\u50CF\uFF0C\u8FD0\u884C\u955C\u50CF\u5E76\u6DFB\u52A0\u7AEF\u53E3",id:"5\u63D0\u4EA4\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\u4E3A\u955C\u50CF\u8FD0\u884C\u955C\u50CF\u5E76\u6DFB\u52A0\u7AEF\u53E3",depth:4}],title:"docker",frontmatter:{icon:"community",order:1,date:"2022-03-20T00:00:00.000Z",author:"h7ml",category:"docker",tag:"docker"}}}}]);