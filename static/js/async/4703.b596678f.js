/*! For license information please see 4703.b596678f.js.LICENSE.txt */
(self.webpackChunkh7ml=self.webpackChunkh7ml||[]).push([["4703"],{54594:function(n,e,l){"use strict";l.r(e);var d=l("52676"),s=l("40453");function c(n){let e=Object.assign({h1:"h1",a:"a",p:"p",img:"img",h2:"h2",code:"code",ul:"ul",li:"li",h3:"h3",pre:"pre"},(0,s.ah)(),n.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(e.h1,{id:"\u7528-vue30-\u5199\u8FC7\u7EC4\u4EF6\u5417\u5982\u679C\u60F3\u5B9E\u73B0\u4E00\u4E2A-modal-\u4F60\u4F1A\u600E\u4E48\u8BBE\u8BA1",children:["\u7528 Vue3.0 \u5199\u8FC7\u7EC4\u4EF6\u5417\uFF1F\u5982\u679C\u60F3\u5B9E\u73B0\u4E00\u4E2A Modal \u4F60\u4F1A\u600E\u4E48\u8BBE\u8BA1\uFF1F",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7528-vue30-\u5199\u8FC7\u7EC4\u4EF6\u5417\u5982\u679C\u60F3\u5B9E\u73B0\u4E00\u4E2A-modal-\u4F60\u4F1A\u600E\u4E48\u8BBE\u8BA1",children:"#"})]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.img,{src:"https://nakoruru.h7ml.cn/httpproxy/static.5ibug.net/vitepress/assets/images/interview/e294c660-6370-11eb-ab90-d9ae814b240d.png",alt:""})}),"\n",(0,d.jsxs)(e.h2,{id:"\u4E00\u7EC4\u4EF6\u8BBE\u8BA1",children:["\u4E00\u3001\u7EC4\u4EF6\u8BBE\u8BA1",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E00\u7EC4\u4EF6\u8BBE\u8BA1",children:"#"})]}),"\n",(0,d.jsx)(e.p,{children:"\u7EC4\u4EF6\u5C31\u662F\u628A\u56FE\u5F62\u3001\u975E\u56FE\u5F62\u7684\u5404\u79CD\u903B\u8F91\u5747\u62BD\u8C61\u4E3A\u4E00\u4E2A\u7EDF\u4E00\u7684\u6982\u5FF5\uFF08\u7EC4\u4EF6\uFF09\u6765\u5B9E\u73B0\u5F00\u53D1\u7684\u6A21\u5F0F"}),"\n",(0,d.jsx)(e.p,{children:"\u73B0\u5728\u6709\u4E00\u4E2A\u573A\u666F\uFF0C\u70B9\u51FB\u65B0\u589E\u4E0E\u7F16\u8F91\u90FD\u5F39\u6846\u51FA\u6765\u8FDB\u884C\u586B\u5199\uFF0C\u529F\u80FD\u4E0A\u5927\u540C\u5C0F\u5F02\uFF0C\u53EF\u80FD\u53EA\u662F\u6807\u9898\u5185\u5BB9\u6216\u8005\u662F\u663E\u793A\u7684\u4E3B\u4F53\u5185\u5BB9\u7A0D\u5FAE\u4E0D\u540C"}),"\n",(0,d.jsx)(e.p,{children:"\u8FD9\u65F6\u5019\u5C31\u6CA1\u5FC5\u8981\u5199\u4E24\u4E2A\u7EC4\u4EF6\uFF0C\u53EA\u9700\u8981\u6839\u636E\u4F20\u5165\u7684\u53C2\u6570\u4E0D\u540C\uFF0C\u7EC4\u4EF6\u663E\u793A\u4E0D\u540C\u5185\u5BB9\u5373\u53EF"}),"\n",(0,d.jsxs)(e.p,{children:["\u8FD9\u6837\uFF0C\u4E0B\u6B21\u5F00\u53D1\u76F8\u540C\u754C\u9762\u7A0B\u5E8F\u65F6\u5C31\u53EF\u4EE5\u5199\u66F4\u5C11\u7684\u4EE3\u7801\uFF0C\u610F\u4E49\u7740\u66F4\u9AD8\u7684\u5F00\u53D1\u6548\u7387\uFF0C\u66F4\u5C11\u7684 ",(0,d.jsx)(e.code,{children:"Bug"}),"\u548C\u66F4\u5C11\u7684\u7A0B\u5E8F\u4F53\u79EF"]}),"\n",(0,d.jsxs)(e.h2,{id:"\u4E8C\u9700\u6C42\u5206\u6790",children:["\u4E8C\u3001\u9700\u6C42\u5206\u6790",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E8C\u9700\u6C42\u5206\u6790",children:"#"})]}),"\n",(0,d.jsxs)(e.p,{children:["\u5B9E\u73B0\u4E00\u4E2A",(0,d.jsx)(e.code,{children:"Modal"}),"\u7EC4\u4EF6\uFF0C\u9996\u5148\u786E\u5B9A\u9700\u8981\u5B8C\u6210\u7684\u5185\u5BB9\uFF1A"]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u906E\u7F69\u5C42"}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u6807\u9898\u5185\u5BB9"}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u4E3B\u4F53\u5185\u5BB9"}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u786E\u5B9A\u548C\u53D6\u6D88\u6309\u94AE"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.p,{children:["\u4E3B\u4F53\u5185\u5BB9\u9700\u8981\u7075\u6D3B\uFF0C\u6240\u4EE5\u53EF\u4EE5\u662F\u5B57\u7B26\u4E32\uFF0C\u4E5F\u53EF\u4EE5\u662F\u4E00\u6BB5 ",(0,d.jsx)(e.code,{children:"html"})," \u4EE3\u7801"]}),"\n",(0,d.jsxs)(e.p,{children:["\u7279\u70B9\u662F\u5B83\u4EEC\u5728\u5F53\u524D",(0,d.jsx)(e.code,{children:"vue"}),"\u5B9E\u4F8B\u4E4B\u5916\u72EC\u7ACB\u5B58\u5728\uFF0C\u901A\u5E38\u6302\u8F7D\u4E8E",(0,d.jsx)(e.code,{children:"body"}),"\u4E4B\u4E0A"]}),"\n",(0,d.jsxs)(e.p,{children:["\u9664\u4E86\u901A\u8FC7\u5F15\u5165",(0,d.jsx)(e.code,{children:"import"}),"\u7684\u5F62\u5F0F\uFF0C\u6211\u4EEC\u8FD8\u53EF\u901A\u8FC7",(0,d.jsx)(e.code,{children:"API"}),"\u7684\u5F62\u5F0F\u8FDB\u884C\u7EC4\u4EF6\u7684\u8C03\u7528"]}),"\n",(0,d.jsxs)(e.p,{children:["\u8FD8\u53EF\u4EE5\u5305\u62EC\u914D\u7F6E\u5168\u5C40\u6837\u5F0F\u3001\u56FD\u9645\u5316\u3001\u4E0E",(0,d.jsx)(e.code,{children:"typeScript"}),"\u7ED3\u5408"]}),"\n",(0,d.jsxs)(e.h2,{id:"\u4E09\u5B9E\u73B0\u6D41\u7A0B",children:["\u4E09\u3001\u5B9E\u73B0\u6D41\u7A0B",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E09\u5B9E\u73B0\u6D41\u7A0B",children:"#"})]}),"\n",(0,d.jsx)(e.p,{children:"\u9996\u5148\u770B\u770B\u5927\u81F4\u6D41\u7A0B\uFF1A"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u76EE\u5F55\u7ED3\u6784"}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u7EC4\u4EF6\u5185\u5BB9"}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u5B9E\u73B0 API \u5F62\u5F0F"}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u4E8B\u4EF6\u5904\u7406"}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u5176\u4ED6\u5B8C\u5584"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.h3,{id:"\u76EE\u5F55\u7ED3\u6784",children:["\u76EE\u5F55\u7ED3\u6784",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u76EE\u5F55\u7ED3\u6784",children:"#"})]}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.code,{children:"Modal"}),"\u7EC4\u4EF6\u76F8\u5173\u7684\u76EE\u5F55\u7ED3\u6784"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u251C\u2500\u2500 plugins\n\u2502   \u2514\u2500\u2500 modal\n\u2502       \u251C\u2500\u2500 Content.tsx // \u7EF4\u62A4 Modal \u7684\u5185\u5BB9\uFF0C\u7528\u4E8E h \u51FD\u6570\u548C jsx \u8BED\u6CD5\n\u2502       \u251C\u2500\u2500 Modal.vue // \u57FA\u7840\u7EC4\u4EF6\n\u2502       \u251C\u2500\u2500 config.ts // \u5168\u5C40\u9ED8\u8BA4\u914D\u7F6E\n\u2502       \u251C\u2500\u2500 index.ts // \u5165\u53E3\n\u2502       \u251C\u2500\u2500 locale // \u56FD\u9645\u5316\u76F8\u5173\n\u2502       \u2502   \u251C\u2500\u2500 index.ts\n\u2502       \u2502   \u2514\u2500\u2500 lang\n\u2502       \u2502       \u251C\u2500\u2500 en-US.ts\n\u2502       \u2502       \u251C\u2500\u2500 zh-CN.ts\n\u2502       \u2502       \u2514\u2500\u2500 zh-TW.ts\n\u2502       \u2514\u2500\u2500 modal.type.ts // ts\u7C7B\u578B\u58F0\u660E\u76F8\u5173\n"})}),"\n",(0,d.jsxs)(e.p,{children:["\u56E0\u4E3A Modal \u4F1A\u88AB ",(0,d.jsx)(e.code,{children:"app.use(Modal)"})," \u8C03\u7528\u4F5C\u4E3A\u4E00\u4E2A\u63D2\u4EF6\uFF0C\u6240\u4EE5\u90FD\u653E\u5728",(0,d.jsx)(e.code,{children:"plugins"}),"\u76EE\u5F55\u4E0B"]}),"\n",(0,d.jsxs)(e.h3,{id:"\u7EC4\u4EF6\u5185\u5BB9",children:["\u7EC4\u4EF6\u5185\u5BB9",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7EC4\u4EF6\u5185\u5BB9",children:"#"})]}),"\n",(0,d.jsxs)(e.p,{children:["\u9996\u5148\u5B9E\u73B0",(0,d.jsx)(e.code,{children:"modal.vue"}),"\u7684\u4E3B\u4F53\u663E\u793A\u5185\u5BB9\u5927\u81F4\u5982\u4E0B"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:'<Teleport to="body" :disabled="!isTeleport">\n  <div v-if="modelValue" class="modal">\n    <div class="mask" :style="style" @click="maskClose && !loading && handleCancel()"></div>\n    <div class="modal__main">\n      <div class="modal__title line line--b">\n        <span>{{ title || t("r.title") }}</span>\n        <span v-if="close" :title="t(\'r.close\')" class="close" @click="!loading && handleCancel()">\u2715</span>\n      </div>\n      <div class="modal__content">\n        <content v-if="typeof content === \'function\'" :render="content" />\n        <slot v-else>{{ content }}</slot>\n      </div>\n      <div class="modal__btns line line--t">\n        <button :disabled="loading" @click="handleConfirm">\n          <span class="loading" v-if="loading">\u274D</span>\n          {{ t("r.confirm") }}\n        </button>\n        <button @click="!loading && handleCancel()">{{ t("r.cancel") }}</button>\n      </div>\n    </div>\n  </div>\n</Teleport>\n'})}),"\n",(0,d.jsxs)(e.p,{children:["\u6700\u5916\u5C42\u4E0A\u901A\u8FC7 Vue3 ",(0,d.jsx)(e.code,{children:"Teleport"})," \u5185\u7F6E\u7EC4\u4EF6\u8FDB\u884C\u5305\u88F9\uFF0C\u5176\u76F8\u5F53\u4E8E\u4F20\u9001\u95E8\uFF0C\u5C06\u91CC\u9762\u7684\u5185\u5BB9\u4F20\u9001\u81F3",(0,d.jsx)(e.code,{children:"body"}),"\u4E4B\u4E0A"]}),"\n",(0,d.jsxs)(e.p,{children:["\u5E76\u4E14\u4ECE",(0,d.jsx)(e.code,{children:"DOM"}),"\u7ED3\u6784\u4E0A\u6765\u770B\uFF0C\u628A",(0,d.jsx)(e.code,{children:"modal"}),"\u8BE5\u6709\u7684\u5185\u5BB9\uFF08\u906E\u7F69\u5C42\u3001\u6807\u9898\u3001\u5185\u5BB9\u3001\u5E95\u90E8\u6309\u94AE\uFF09\u90FD\u5B9E\u73B0\u4E86"]}),"\n",(0,d.jsx)(e.p,{children:"\u5173\u4E8E\u4E3B\u4F53\u5185\u5BB9"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:'<div class="modal__content">\n  <content v-if="typeof content===\'function\'" :render="content" />\n  <slot v-else>{{content}}</slot>\n</div>\n'})}),"\n",(0,d.jsxs)(e.p,{children:["\u53EF\u4EE5\u770B\u5230\u6839\u636E\u4F20\u5165",(0,d.jsx)(e.code,{children:"content"}),"\u7684\u7C7B\u578B\u4E0D\u540C\uFF0C\u5BF9\u5E94\u663E\u793A\u4E0D\u540C\u5F97\u5230\u5185\u5BB9"]}),"\n",(0,d.jsx)(e.p,{children:"\u6700\u5E38\u89C1\u7684\u5219\u662F\u901A\u8FC7\u8C03\u7528\u5B57\u7B26\u4E32\u548C\u9ED8\u8BA4\u63D2\u69FD\u7684\u5F62\u5F0F"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:'// \u9ED8\u8BA4\u63D2\u69FD\n<Modal v-model="show" title="\u6F14\u793A slot">\n  <div>hello world~</div>\n</Modal>\n\n// \u5B57\u7B26\u4E32\n<Modal v-model="show" title="\u6F14\u793A content" content="hello world~" />\n'})}),"\n",(0,d.jsxs)(e.p,{children:["\u901A\u8FC7 API \u5F62\u5F0F\u8C03\u7528",(0,d.jsx)(e.code,{children:"Modal"}),"\u7EC4\u4EF6\u7684\u65F6\u5019\uFF0C",(0,d.jsx)(e.code,{children:"content"}),"\u53EF\u4EE5\u4F7F\u7528\u4E0B\u9762\u4E24\u79CD"]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"h \u51FD\u6570"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"$modal.show({\n  title: '\u6F14\u793A h \u51FD\u6570',\n  content(h) {\n    return h(\n      'div',\n      {\n        style: 'color:red;',\n        onClick: ($event: Event) => console.log('clicked', $event.target),\n      },\n      'hello world ~'\n    );\n  },\n});\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"JSX"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"$modal.show({\n  title: '\u6F14\u793A jsx \u8BED\u6CD5',\n  content() {\n    return <div onClick={($event: Event) => console.log('clicked', $event.target)}>hello world ~</div>;\n  },\n});\n"})}),"\n",(0,d.jsxs)(e.h3,{id:"\u5B9E\u73B0-api-\u5F62\u5F0F",children:["\u5B9E\u73B0 API \u5F62\u5F0F",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5B9E\u73B0-api-\u5F62\u5F0F",children:"#"})]}),"\n",(0,d.jsxs)(e.p,{children:["\u90A3\u4E48\u7EC4\u4EF6\u5982\u4F55\u5B9E\u73B0",(0,d.jsx)(e.code,{children:"API"}),"\u5F62\u5F0F\u8C03\u7528",(0,d.jsx)(e.code,{children:"Modal"}),"\u7EC4\u4EF6\u5462\uFF1F"]}),"\n",(0,d.jsxs)(e.p,{children:["\u5728",(0,d.jsx)(e.code,{children:"Vue2"}),"\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u501F\u52A9",(0,d.jsx)(e.code,{children:"Vue"}),"\u5B9E\u4F8B\u4EE5\u53CA",(0,d.jsx)(e.code,{children:"Vue.extend"}),"\u7684\u65B9\u5F0F\u83B7\u5F97\u7EC4\u4EF6\u5B9E\u4F8B\uFF0C\u7136\u540E\u6302\u8F7D\u5230",(0,d.jsx)(e.code,{children:"body"}),"\u4E0A"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"import Modal from './Modal.vue'\nconst ComponentClass = Vue.extend(Modal)\nconst instance = new ComponentClass({ el: document.createElement('div') })\ndocument.body.appendChild(instance.$el)\n"})}),"\n",(0,d.jsxs)(e.p,{children:["\u867D\u7136",(0,d.jsx)(e.code,{children:"Vue3"}),"\u79FB\u9664\u4E86",(0,d.jsx)(e.code,{children:"Vue.extend"}),"\u65B9\u6CD5\uFF0C\u4F46\u53EF\u4EE5\u901A\u8FC7",(0,d.jsx)(e.code,{children:"createVNode"}),"\u5B9E\u73B0"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"import Modal from './Modal.vue'\nconst container = document.createElement('div')\nconst vnode = createVNode(Modal)\nrender(vnode, container)\nconst instance = vnode.component\ndocument.body.appendChild(container)\n"})}),"\n",(0,d.jsxs)(e.p,{children:["\u5728",(0,d.jsx)(e.code,{children:"Vue2"}),"\u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7",(0,d.jsx)(e.code,{children:"this"}),"\u7684\u5F62\u5F0F\u8C03\u7528\u5168\u5C40 API"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"export default {\n  install(vue) {\n    vue.prototype.$create = create\n  },\n}\n"})}),"\n",(0,d.jsxs)(e.p,{children:["\u800C\u5728 Vue3 \u7684 ",(0,d.jsx)(e.code,{children:"setup"})," \u4E2D\u5DF2\u7ECF\u6CA1\u6709 ",(0,d.jsx)(e.code,{children:"this"}),"\u6982\u5FF5\u4E86\uFF0C\u9700\u8981\u8C03\u7528",(0,d.jsx)(e.code,{children:"app.config.globalProperties"}),"\u6302\u8F7D\u5230\u5168\u5C40"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"export default {\n  install(app) {\n    app.config.globalProperties.$create = create\n  },\n}\n"})}),"\n",(0,d.jsxs)(e.h3,{id:"\u4E8B\u4EF6\u5904\u7406",children:["\u4E8B\u4EF6\u5904\u7406",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E8B\u4EF6\u5904\u7406",children:"#"})]}),"\n",(0,d.jsxs)(e.p,{children:["\u4E0B\u9762\u518D\u770B\u770B\u770B",(0,d.jsx)(e.code,{children:"Modal"}),"\u7EC4\u4EF6\u5185\u90E8\u662F\u5982\u4F55\u5904\u7406\u300C\u786E\u5B9A\u300D\u300C\u53D6\u6D88\u300D\u4E8B\u4EF6\u7684\uFF0C\u65E2\u7136\u662F",(0,d.jsx)(e.code,{children:"Vue3"}),"\uFF0C\u5F53\u7136\u91C7\u7528",(0,d.jsx)(e.code,{children:"Compositon API"})," \u5F62\u5F0F"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"// Modal.vue\nsetup(props, ctx) {\n  let instance = getCurrentInstance(); // \u83B7\u5F97\u5F53\u524D\u7EC4\u4EF6\u5B9E\u4F8B\n  onBeforeMount(() => {\n    instance._hub = {\n      'on-cancel': () => {},\n      'on-confirm': () => {}\n    };\n  });\n\n  const handleConfirm = () => {\n    ctx.emit('on-confirm');\n    instance._hub['on-confirm']();\n  };\n  const handleCancel = () => {\n    ctx.emit('on-cancel');\n    ctx.emit('update:modelValue', false);\n    instance._hub['on-cancel']();\n  };\n\n  return {\n    handleConfirm,\n    handleCancel\n  };\n}\n"})}),"\n",(0,d.jsxs)(e.p,{children:["\u5728\u4E0A\u9762\u4EE3\u7801\u4E2D\uFF0C\u53EF\u4EE5\u770B\u5F97\u5230\u9664\u4E86\u4F7F\u7528\u4F20\u7EDF",(0,d.jsx)(e.code,{children:"emit"}),"\u7684\u5F62\u5F0F\u4F7F\u7236\u7EC4\u4EF6\u76D1\u542C\uFF0C\u8FD8\u53EF\u901A\u8FC7",(0,d.jsx)(e.code,{children:"_hub"}),"\u5C5E\u6027\u4E2D\u6DFB\u52A0 ",(0,d.jsx)(e.code,{children:"on-cancel"}),"\uFF0C",(0,d.jsx)(e.code,{children:"on-confirm"}),"\u65B9\u6CD5\u5B9E\u73B0\u5728",(0,d.jsx)(e.code,{children:"API"}),"\u4E2D\u8FDB\u884C\u76D1\u542C"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"app.config.globalProperties.$modal = {\n  show({}) {\n    /* \u76D1\u542C \u786E\u5B9A\u3001\u53D6\u6D88 \u4E8B\u4EF6 */\n  },\n}\n"})}),"\n",(0,d.jsxs)(e.p,{children:["\u4E0B\u9762\u518D\u6765\u76EE\u7779\u4E0B",(0,d.jsx)(e.code,{children:"_hub"}),"\u662F\u5982\u4F55\u5B9E\u73B0"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"// index.ts\napp.config.globalProperties.$modal = {\n    show({\n        /* \u5176\u4ED6\u9009\u9879 */\n        onConfirm,\n        onCancel\n    }) {\n        /* ... */\n\n        const { props, _hub } = instance;\n\n        const _closeModal = () => {\n            props.modelValue = false;\n            container.parentNode!.removeChild(container);\n        };\n        // \u5F80 _hub \u65B0\u589E\u4E8B\u4EF6\u7684\u5177\u4F53\u5B9E\u73B0\n        Object.assign(_hub, {\n            async 'on-confirm'() {\n            if (onConfirm) {\n                const fn = onConfirm();\n                // \u5F53\u65B9\u6CD5\u8FD4\u56DE\u4E3A Promise\n                if (fn && fn.then) {\n                    try {\n                        props.loading = true;\n                        await fn;\n                        props.loading = false;\n                        _closeModal();\n                    } catch (err) {\n                        // \u53D1\u751F\u9519\u8BEF\u65F6\uFF0C\u4E0D\u5173\u95ED\u5F39\u6846\n                        console.error(err);\n                        props.loading = false;\n                    }\n                } else {\n                    _closeModal();\n                }\n            } else {\n                _closeModal();\n            }\n        },\n            'on-cancel'() {\n                onCancel && onCancel();\n                _closeModal();\n            }\n    });\n}\n};\n"})}),"\n",(0,d.jsxs)(e.h3,{id:"\u5176\u4ED6\u5B8C\u5584",children:["\u5176\u4ED6\u5B8C\u5584",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5176\u4ED6\u5B8C\u5584",children:"#"})]}),"\n",(0,d.jsxs)(e.p,{children:["\u5173\u4E8E\u7EC4\u4EF6\u5B9E\u73B0\u56FD\u9645\u5316\u3001\u4E0E",(0,d.jsx)(e.code,{children:"typsScript"}),"\u7ED3\u5408\uFF0C\u5927\u5BB6\u53EF\u4EE5\u6839\u636E\u81EA\u8EAB\u60C5\u51B5\u5728\u6B64\u57FA\u7840\u4E0A\u8FDB\u884C\u66F4\u6539"]}),"\n",(0,d.jsxs)(e.h2,{id:"\u53C2\u8003\u6587\u732E",children:["\u53C2\u8003\u6587\u732E",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u53C2\u8003\u6587\u732E",children:"#"})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://segmentfault.com/a/1190000038928664",target:"_blank",rel:"noopener noreferrer",children:"https://segmentfault.com/a/1190000038928664"})}),"\n"]})]})}function i(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,s.ah)(),n.components);return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(c,{...n})}):c(n)}e.default=i,i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["interview%2Fvue3%2Fmodal_component.md"]={toc:[{text:"\u4E00\u3001\u7EC4\u4EF6\u8BBE\u8BA1",id:"\u4E00\u7EC4\u4EF6\u8BBE\u8BA1",depth:2},{text:"\u4E8C\u3001\u9700\u6C42\u5206\u6790",id:"\u4E8C\u9700\u6C42\u5206\u6790",depth:2},{text:"\u4E09\u3001\u5B9E\u73B0\u6D41\u7A0B",id:"\u4E09\u5B9E\u73B0\u6D41\u7A0B",depth:2},{text:"\u76EE\u5F55\u7ED3\u6784",id:"\u76EE\u5F55\u7ED3\u6784",depth:3},{text:"\u7EC4\u4EF6\u5185\u5BB9",id:"\u7EC4\u4EF6\u5185\u5BB9",depth:3},{text:"\u5B9E\u73B0 API \u5F62\u5F0F",id:"\u5B9E\u73B0-api-\u5F62\u5F0F",depth:3},{text:"\u4E8B\u4EF6\u5904\u7406",id:"\u4E8B\u4EF6\u5904\u7406",depth:3},{text:"\u5176\u4ED6\u5B8C\u5584",id:"\u5176\u4ED6\u5B8C\u5584",depth:3},{text:"\u53C2\u8003\u6587\u732E",id:"\u53C2\u8003\u6587\u732E",depth:2}],title:"\u7528 Vue3.0 \u5199\u8FC7\u7EC4\u4EF6\u5417\uFF1F\u5982\u679C\u60F3\u5B9E\u73B0\u4E00\u4E2A Modal \u4F60\u4F1A\u600E\u4E48\u8BBE\u8BA1\uFF1F",frontmatter:{icon:"question",description:"\u524D\u7AEF\u7269\u8BED|\u9762\u8BD5\u7269\u8BED-\u7528 Vue3.0 \u5199\u8FC7\u7EC4\u4EF6\u5417\uFF1F\u5982\u679C\u60F3\u5B9E\u73B0\u4E00\u4E2A Modal \u4F60\u4F1A\u600E\u4E48\u8BBE\u8BA1\uFF1F",footer:"<a href='https://beian.mit.gov.cn/' target='blank'>\u6D59ICP\u59072021037683\u53F7-2</a>\u7528 Vue3.0 \u5199\u8FC7\u7EC4\u4EF6\u5417\uFF1F\u5982\u679C\u60F3\u5B9E\u73B0\u4E00\u4E2A Modal \u4F60\u4F1A\u600E\u4E48\u8BBE\u8BA1\uFF1F",order:3,star:3,date:"2023-03-03T00:00:00.000Z",author:"h7ml",image:"https://www.h7ml.cn/logo.png",banner:"https://www.h7ml.cn/logo.png",category:["interview","vue3"],tag:["interview","vue3"],shortTitle:"\u524D\u7AEF\u7269\u8BED|\u9762\u8BD5\u7269\u8BED-\u7528 Vue3.0 \u5199\u8FC7\u7EC4\u4EF6\u5417\uFF1F\u5982\u679C\u60F3\u5B9E\u73B0\u4E00\u4E2A Modal \u4F60\u4F1A\u600E\u4E48\u8BBE\u8BA1\uFF1F",isOriginal:!1,head:[["meta",{name:"keywords",content:"\u7528 Vue3.0 \u5199\u8FC7\u7EC4\u4EF6\u5417\uFF1F\u5982\u679C\u60F3\u5B9E\u73B0\u4E00\u4E2A Modal \u4F60\u4F1A\u600E\u4E48\u8BBE\u8BA1\uFF1F"}]]}}}}]);