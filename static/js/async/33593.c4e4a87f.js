/*! For license information please see 33593.c4e4a87f.js.LICENSE.txt */
(self.webpackChunkh7ml=self.webpackChunkh7ml||[]).push([["33593"],{56856:function(e,n,t){"use strict";t.r(n);var r=t("52676"),a=t("40453");function o(e){let n=Object.assign({p:"p",a:"a",h2:"h2",pre:"pre",code:"code",h3:"h3"},(0,a.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://gitee.com/dgiiot/dgiot-dashboard/blob/a5d46efd3787f5be3e3e68774f00e1b1850faee5/src/dgiot/index.js#L38",target:"_blank",rel:"noopener noreferrer",children:"dgiot-dashboard \u6700\u4F73\u5B9E\u8DF5"})}),"\n",(0,r.jsxs)(n.h2,{id:"vue2",children:["vue2",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vue2",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import Vue from 'vue';\nconst requireComponent = require.context('./components', true, /[A-Z]\\w+\\.(vue|js)$/);\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u83B7\u53D6\u7EC4\u4EF6\u914D\u7F6E",children:["\u83B7\u53D6\u7EC4\u4EF6\u914D\u7F6E",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u83B7\u53D6\u7EC4\u4EF6\u914D\u7F6E",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import _ from 'lodash';\nrequireComponent.keys().forEach((fileName) => {\n  const componentConfig = requireComponent(fileName);\n  const componentName = _.upperFirst(\n    _.camelCase(\n      fileName\n        .split('/')\n        .pop()\n        .replace(/\\.\\w+$/, '')\n    )\n  );\n});\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u5168\u5C40\u6CE8\u518C\u7EC4\u4EF6",children:["\u5168\u5C40\u6CE8\u518C\u7EC4\u4EF6",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5168\u5C40\u6CE8\u518C\u7EC4\u4EF6",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"Vue.component(componentName, componentConfig.default || componentConfig);\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"vite-\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u7684\u65B9\u5F0F",children:["Vite \u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u7684\u65B9\u5F0F",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vite-\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u7684\u65B9\u5F0F",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"importmetaglob",children:["import.meta.glob()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmetaglob",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"importmetaglobeager",children:["import.meta.globEager()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmetaglobeager",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const components = import.meta.glob('./components/*/*.vue');\nexport default function install(app) {\n  for (const [key, value] of Object.entries(components)) {\n    const name = key.split('/')[1];\n    app.component(name, defineAsyncComponent(value));\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u5728-mainjs-\u6587\u4EF6\u4E2D-import-\u5E76-use",children:["\u5728 main.js \u6587\u4EF6\u4E2D import \u5E76 use",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5728-mainjs-\u6587\u4EF6\u4E2D-import-\u5E76-use",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import { createApp } from 'vue';\nimport App from './App.vue';\nimport components from './components/index.js';\ncreateApp(App).use(components).mount('#app');\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u56E0\u4E3A\u5728 Vite \u4E2D\u4E0D\u80FD\u4F7F\u7528 webpack \u7684 require.context()\u65B9\u5F0F\u6765\u8BFB\u53D6\u6587,\u6240\u4EE5\u4E4B\u524D\u4F7F\u7528 webpack \u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u7684\u65B9\u5F0F\u5C31\u4E0D\u80FD\u4F7F\u7528\u4E86\u3002"})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}n.default=i,i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["posts%2Fvite%2Fautomatic-registration-global-components.md"]={toc:[{text:"vue2",id:"vue2",depth:2},{text:"\u83B7\u53D6\u7EC4\u4EF6\u914D\u7F6E",id:"\u83B7\u53D6\u7EC4\u4EF6\u914D\u7F6E",depth:3},{text:"\u5168\u5C40\u6CE8\u518C\u7EC4\u4EF6",id:"\u5168\u5C40\u6CE8\u518C\u7EC4\u4EF6",depth:3},{text:"Vite \u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u7684\u65B9\u5F0F",id:"vite-\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u7684\u65B9\u5F0F",depth:2},{text:"import.meta.glob()",id:"importmetaglob",depth:3},{text:"import.meta.globEager()",id:"importmetaglobeager",depth:3},{text:"\u5728 main.js \u6587\u4EF6\u4E2D import \u5E76 use",id:"\u5728-mainjs-\u6587\u4EF6\u4E2D-import-\u5E76-use",depth:3}],title:"vue2\u4E0Evue3\u5168\u5C40\u7EC4\u4EF6\u6CE8\u518C",frontmatter:{icon:"vue",order:3,date:"2021-05-27T00:00:00.000Z",author:"h7ml",title:"vue2\u4E0Evue3\u5168\u5C40\u7EC4\u4EF6\u6CE8\u518C",category:"vite",tag:"vite",star:!0}}}}]);