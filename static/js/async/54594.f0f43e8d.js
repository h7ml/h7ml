/*! For license information please see 54594.f0f43e8d.js.LICENSE.txt */
(self.webpackChunkh7ml=self.webpackChunkh7ml||[]).push([["54594"],{21265:function(n,e,t){"use strict";t.r(e);var r=t("52676"),a=t("40453");function l(n){let e=Object.assign({h1:"h1",a:"a",p:"p",pre:"pre",code:"code"},(0,a.ah)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"javascript-\u94FE\u5F0F\u8FD0\u52A8-\u52A8\u753B",children:["JavaScript \u94FE\u5F0F\u8FD0\u52A8-\u52A8\u753B",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#javascript-\u94FE\u5F0F\u8FD0\u52A8-\u52A8\u753B",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:"\u7F13\u52A8\u8FD0\u52A8\u6846\u67B6"}),"\n",(0,r.jsx)(e.p,{children:"\u6BCF\u6B21\u7684\u6B65\u957F = \uFF08\u603B\u8DEF\u7A0B - \u5F53\u524D\u4F4D\u7F6E\uFF09 / \u8FD0\u52A8\u7CFB\u6570\uFF086-10\uFF09"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"function getStyle(el, attr) {\n  return el.currentStyle ? el.currentStyle[attr] : getComputedStyle(el)[attr]\n}\n\nfunction bufferMove(el, obj, fn) {\n  // fn\u5C31\u662F\u56DE\u8C03\u51FD\u6570\n  clearInterval(el.timer)\n\n  el.timer = setInterval(() => {\n    let flag = true // \u5224\u65AD\u662F\u5426\u6240\u6709\u5C5E\u6027\u90FD\u5230\u8FBE\u76EE\u6807\u503C\uFF0C\u5982\u679C\u6709\u4E00\u4E2A\u5C5E\u6027\u6CA1\u6709\u5230\u76EE\u6807\u503C\uFF0C\u5C31\u5C06 flag \u8BBE\u7F6E\u4E3A false\u3002\u5982\u679C\u5168\u90E8\u90FD\u5230\u4E86\u76EE\u6807\u503C\uFF0C\u90A3\u4E48 flag \u5C31\u4E0D\u4F1A\u88AB\u6539\u53D8\u4E3A false\uFF0C\u5C31\u662F\u521D\u59CB true\n    for (const attr in obj) {\n      // \u5224\u65AD attr \u662F\u4E0D\u662F opacity\uFF0C\u662F\uFF1A\u91C7\u7528\u4E00\u79CD\u83B7\u53D6\u529E\u6CD5\uFF0C\u4E0D\u662F\uFF1A\u91C7\u7528\u4E4B\u524D\u7684\u83B7\u53D6\u65B9\u6CD5\n      if (attr == 'opacity')\n        var cur = Math.round(getStyle(el, attr) * 100)\n      else\n        var cur = Number.parseInt(getStyle(el, attr))\n\n      let step = (obj[attr] - cur) / 10\n      step = step > 0 ? Math.ceil(step) : Math.floor(step)\n\n      // if(cur == obj[attr]){\n      //  clearInterval(el.timer);\n      // }\n\n      if (cur != obj[attr]) {\n        // \u5982\u679C\u6709\u4E00\u4E2A\u5F53\u524D\u503C\uFF0C\u4E0D\u7B49\u4E8E\u76EE\u6807\u503C\uFF0C\u8BF4\u660E\u6CA1\u6709\u5168\u90E8\u6267\u884C\u5B8C\u6210\n        flag = false\n      }\n\n      // \u8D4B\u503C\u65F6\u4E5F\u5206\u4E24\u79CD\u60C5\u51B5\uFF0C\u4E00\u79CD\u662F\u900F\u660E\u5EA6\uFF0C\u53E6\u4E00\u79CD\u662F\u5E26\u6709\u5355\u4F4D px \u7684\n      if (attr == 'opacity') {\n        el.style.opacity = (cur + step) / 100\n        el.style.filter = `alpha(opacity=${cur + step})`\n      }\n      else {\n        el.style[attr] = `${cur + step}px`\n      }\n    }\n\n    if (flag) {\n      // \u5982\u679C flag \u4E3A\u5047\uFF0C\u8BF4\u660E\u6CA1\u6709\u5168\u90E8\u5C5E\u6027\u8FBE\u5230\u76EE\u6807\u503C\uFF0C\u90A3\u4E48\u4E0D\u6E05\u9664\u5B9A\u65F6\u5668\uFF0C\u5982\u679C flag \u4E3A true \u8BF4\u660E\u5168\u90E8\u5C5E\u6027\u90FD\u8FBE\u5230\u4E86\u76EE\u6807\u503C\uFF0C\u5C31\u6E05\u9664\u5B9A\u65F6\u5668\n      clearInterval(el.timer)\n\n      // fn && fn();\n      // \u56DE\u8C03\u51FD\u6570\u7684 this \u6307\u5411 window\uFF0C\u5F53\u8BE5\u8FD0\u52A8\u6846\u67B6\u9002\u7528\u4E8E\u5143\u7D20\u96C6\u5408\u65F6\uFF0Cthis \u6267\u884C\u5BFC\u81F4\u62A5\u9519\n\n      // if(fn) fn();\n      // \u6539 call \u5C31\u662F\u4FEE\u6539\u51FD\u6570\u7684\u8C03\u7528\u65F6\u7684 this \u6307\u5411\n      if (fn)\n        fn.call(el)\n    }\n  }, 20)\n}\n"})})]})}function c(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,a.ah)(),n.components);return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(l,{...n})}):l(n)}e.default=c,c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["posts%2Fjavascript%2Fanimation%2F%E9%93%BE%E5%BC%8F%E8%BF%90%E5%8A%A8.md"]={toc:[],title:"JavaScript \u94FE\u5F0F\u8FD0\u52A8-\u52A8\u753B",frontmatter:{}}}}]);