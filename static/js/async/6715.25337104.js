/*! For license information please see 6715.25337104.js.LICENSE.txt */
(self.webpackChunkh7ml=self.webpackChunkh7ml||[]).push([["6715"],{42437:function(e,n,r){"use strict";r.r(n);var t=r("52676"),o=r("40453");function s(e){let n=Object.assign({h1:"h1",a:"a",p:"p",img:"img",h2:"h2",code:"code",ul:"ul",li:"li",pre:"pre",h3:"h3"},(0,o.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"\u8BF4\u8BF4-react-router-\u6709\u51E0\u79CD\u6A21\u5F0F\u5B9E\u73B0\u539F\u7406",children:["\u8BF4\u8BF4 React Router \u6709\u51E0\u79CD\u6A21\u5F0F\uFF1F\u5B9E\u73B0\u539F\u7406\uFF1F",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8BF4\u8BF4-react-router-\u6709\u51E0\u79CD\u6A21\u5F0F\u5B9E\u73B0\u539F\u7406",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://nakoruru.h7ml.cn/httpproxy/static.5ibug.net/vitepress/assets/images/interview/065f7a80-e978-11eb-ab90-d9ae814b240d.png",alt:""})}),"\n",(0,t.jsxs)(n.h2,{id:"\u4E00\u662F\u4EC0\u4E48",children:["\u4E00\u3001\u662F\u4EC0\u4E48",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E00\u662F\u4EC0\u4E48",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u5355\u9875\u5E94\u7528\u4E2D\uFF0C\u4E00\u4E2A",(0,t.jsx)(n.code,{children:"web"}),"\u9879\u76EE\u53EA\u6709\u4E00\u4E2A",(0,t.jsx)(n.code,{children:"html"}),"\u9875\u9762\uFF0C\u4E00\u65E6\u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u4E4B\u540E\uFF0C\u5C31\u4E0D\u7528\u56E0\u4E3A\u7528\u6237\u7684\u64CD\u4F5C\u800C\u8FDB\u884C\u9875\u9762\u7684\u91CD\u65B0\u52A0\u8F7D\u6216\u8005\u8DF3\u8F6C\uFF0C\u5176\u7279\u6027\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u6539\u53D8 url \u4E14\u4E0D\u8BA9\u6D4F\u89C8\u5668\u50CF\u670D\u52A1\u5668\u53D1\u9001\u8BF7\u6C42"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u5728\u4E0D\u5237\u65B0\u9875\u9762\u7684\u524D\u63D0\u4E0B\u52A8\u6001\u6539\u53D8\u6D4F\u89C8\u5668\u5730\u5740\u680F\u4E2D\u7684 URL \u5730\u5740"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u5176\u4E2D\u4E3B\u8981\u5206\u6210\u4E86\u4E24\u79CD\u6A21\u5F0F\uFF1A"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["hash \u6A21\u5F0F\uFF1A\u5728 url \u540E\u9762\u52A0\u4E0A#\uFF0C\u5982",(0,t.jsx)(n.a,{href:"http://127.0.0.1:5500/home/#/page1",target:"_blank",rel:"noopener noreferrer",children:"http://127.0.0.1:5500/home/#/page1"})]}),"\n",(0,t.jsx)(n.li,{children:"history \u6A21\u5F0F\uFF1A\u5141\u8BB8\u64CD\u4F5C\u6D4F\u89C8\u5668\u7684\u66FE\u7ECF\u5728\u6807\u7B7E\u9875\u6216\u8005\u6846\u67B6\u91CC\u8BBF\u95EE\u7684\u4F1A\u8BDD\u5386\u53F2\u8BB0\u5F55"}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"\u4E8C\u4F7F\u7528",children:["\u4E8C\u3001\u4F7F\u7528",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E8C\u4F7F\u7528",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"React Router"}),"\u5BF9\u5E94\u7684",(0,t.jsx)(n.code,{children:"hash"}),"\u6A21\u5F0F\u548C",(0,t.jsx)(n.code,{children:"history"}),"\u6A21\u5F0F\u5BF9\u5E94\u7684\u7EC4\u4EF6\u4E3A\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"HashRouter"}),"\n",(0,t.jsx)(n.li,{children:"BrowserRouter"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u8FD9\u4E24\u4E2A\u7EC4\u4EF6\u7684\u4F7F\u7528\u90FD\u5341\u5206\u7684\u7B80\u5355\uFF0C\u4F5C\u4E3A\u6700\u9876\u5C42\u7EC4\u4EF6\u5305\u88F9\u5176\u4ED6\u7EC4\u4EF6\uFF0C\u5982\u4E0B\u6240\u793A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"// 1.import { BrowserRouter as Router } from \"react-router-dom\";\n// 2.import { HashRouter as Router } from \"react-router-dom\";\n\nimport React from 'react'\nimport {\n  BrowserRouter as Router,\n  // HashRouter as Router\n  Switch,\n  Route,\n} from 'react-router-dom'\nimport Home from './pages/Home'\nimport Login from './pages/Login'\nimport Backend from './pages/Backend'\nimport Admin from './pages/Admin'\n\nfunction App() {\n  return (\n    <Router>\n      <Route path=\"/login\" component={Login} />\n      <Route path=\"/backend\" component={Backend} />\n      <Route path=\"/admin\" component={Admin} />\n      <Route path=\"/\" component={Home} />\n    </Router>\n  )\n}\n\nexport default App\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"\u4E09\u5B9E\u73B0\u539F\u7406",children:["\u4E09\u3001\u5B9E\u73B0\u539F\u7406",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E09\u5B9E\u73B0\u539F\u7406",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["\u8DEF\u7531\u63CF\u8FF0\u4E86 ",(0,t.jsx)(n.code,{children:"URL"})," \u4E0E ",(0,t.jsx)(n.code,{children:"UI"}),"\u4E4B\u95F4\u7684\u6620\u5C04\u5173\u7CFB\uFF0C\u8FD9\u79CD\u6620\u5C04\u662F\u5355\u5411\u7684\uFF0C\u5373 URL \u53D8\u5316\u5F15\u8D77 UI \u66F4\u65B0\uFF08\u65E0\u9700\u5237\u65B0\u9875\u9762\uFF09"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4E0B\u9762\u4EE5",(0,t.jsx)(n.code,{children:"hash"}),"\u6A21\u5F0F\u4E3A\u4F8B\u5B50\uFF0C\u6539\u53D8",(0,t.jsx)(n.code,{children:"hash"}),"\u503C\u5E76\u4E0D\u4F1A\u5BFC\u81F4\u6D4F\u89C8\u5668\u5411\u670D\u52A1\u5668\u53D1\u9001\u8BF7\u6C42\uFF0C\u6D4F\u89C8\u5668\u4E0D\u53D1\u51FA\u8BF7\u6C42\uFF0C\u4E5F\u5C31\u4E0D\u4F1A\u5237\u65B0\u9875\u9762"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"hash"})," \u503C\u6539\u53D8\uFF0C\u89E6\u53D1\u5168\u5C40 ",(0,t.jsx)(n.code,{children:"window"})," \u5BF9\u8C61\u4E0A\u7684 ",(0,t.jsx)(n.code,{children:"hashchange"})," \u4E8B\u4EF6\u3002\u6240\u4EE5 ",(0,t.jsx)(n.code,{children:"hash"})," \u6A21\u5F0F\u8DEF\u7531\u5C31\u662F\u5229\u7528 ",(0,t.jsx)(n.code,{children:"hashchange"})," \u4E8B\u4EF6\u76D1\u542C ",(0,t.jsx)(n.code,{children:"URL"})," \u7684\u53D8\u5316\uFF0C\u4ECE\u800C\u8FDB\u884C ",(0,t.jsx)(n.code,{children:"DOM"})," \u64CD\u4F5C\u6765\u6A21\u62DF\u9875\u9762\u8DF3\u8F6C"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"react-router"}),"\u4E5F\u662F\u57FA\u4E8E\u8FD9\u4E2A\u7279\u6027\u5B9E\u73B0\u8DEF\u7531\u7684\u8DF3\u8F6C"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4E0B\u9762\u4EE5",(0,t.jsx)(n.code,{children:"HashRouter"}),"\u7EC4\u4EF6\u5206\u6790\u8FDB\u884C\u5C55\u5F00\uFF1A"]}),"\n",(0,t.jsxs)(n.h2,{id:"hashrouter",children:["HashRouter",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hashrouter",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"HashRouter"}),"\u5305\u88F9\u4E86\u6574\u5E94\u7528\uFF0C"]}),"\n",(0,t.jsxs)(n.p,{children:["\u901A\u8FC7",(0,t.jsx)(n.code,{children:"window.addEventListener('hashChange',callback)"}),"\u76D1\u542C",(0,t.jsx)(n.code,{children:"hash"}),"\u503C\u7684\u53D8\u5316\uFF0C\u5E76\u4F20\u9012\u7ED9\u5176\u5D4C\u5957\u7684\u7EC4\u4EF6"]}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540E\u901A\u8FC7",(0,t.jsx)(n.code,{children:"context"}),"\u5C06",(0,t.jsx)(n.code,{children:"location"}),"\u6570\u636E\u5F80\u540E\u4EE3\u7EC4\u4EF6\u4F20\u9012\uFF0C\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"import React, { Component } from 'react'\nimport { Provider } from './context'\n// \u8BE5\u7EC4\u4EF6\u4E0BApi\u63D0\u4F9B\u7ED9\u5B50\u7EC4\u4EF6\u4F7F\u7528\nclass HashRouter extends Component {\n  constructor() {\n    super()\n    this.state = {\n      location: {\n        pathname: window.location.hash.slice(1) || '/',\n      },\n    }\n  }\n\n  // url\u8DEF\u5F84\u53D8\u5316 \u6539\u53D8location\n  componentDidMount() {\n    window.location.hash = window.location.hash || '/'\n    window.addEventListener('hashchange', () => {\n      this.setState(\n        {\n          location: {\n            ...this.state.location,\n            pathname: window.location.hash.slice(1) || '/',\n          },\n        },\n        () => console.log(this.state.location)\n      )\n    })\n  }\n\n  render() {\n    const value = {\n      location: this.state.location,\n    }\n    return <Provider value={value}>{this.props.children}</Provider>\n  }\n}\n\nexport default HashRouter\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"router",children:["Router",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#router",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Router"}),"\u7EC4\u4EF6\u4E3B\u8981\u505A\u7684\u662F\u901A\u8FC7",(0,t.jsx)(n.code,{children:"BrowserRouter"}),"\u4F20\u8FC7\u6765\u7684\u5F53\u524D\u503C\uFF0C\u901A\u8FC7",(0,t.jsx)(n.code,{children:"props"}),"\u4F20\u8FDB\u6765\u7684",(0,t.jsx)(n.code,{children:"path"}),"\u4E0E",(0,t.jsx)(n.code,{children:"context"}),"\u4F20\u8FDB\u6765\u7684",(0,t.jsx)(n.code,{children:"pathname"}),"\u8FDB\u884C\u5339\u914D\uFF0C\u7136\u540E\u51B3\u5B9A\u662F\u5426\u6267\u884C\u6E32\u67D3\u7EC4\u4EF6"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import React, { Component } from 'react'\nimport { Consumer } from './context'\nconst { pathToRegexp } = require('path-to-regexp')\nclass Route extends Component {\n  render() {\n    return (\n      <Consumer>\n        {(state) => {\n          console.log(state)\n          const { path, component: Component } = this.props\n          const pathname = state.location.pathname\n          const reg = pathToRegexp(path, [], { end: false })\n          // \u5224\u65AD\u5F53\u524Dpath\u662F\u5426\u5305\u542Bpathname\n          if (pathname.match(reg))\n            return <Component></Component>\n\n          return null\n        }}\n      </Consumer>\n    )\n  }\n}\nexport default Route\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"\u53C2\u8003\u6587\u732E",children:["\u53C2\u8003\u6587\u732E",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u53C2\u8003\u6587\u732E",children:"#"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://juejin.cn/post/6870376090297171975#heading-9",target:"_blank",rel:"noopener noreferrer",children:"https://juejin.cn/post/6870376090297171975#heading-9"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://segmentfault.com/a/1190000023560665",target:"_blank",rel:"noopener noreferrer",children:"https://segmentfault.com/a/1190000023560665"})}),"\n"]}),"\n"]})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}n.default=h,h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["interview%2FReact%2FReact_Router_model.md"]={toc:[{text:"\u4E00\u3001\u662F\u4EC0\u4E48",id:"\u4E00\u662F\u4EC0\u4E48",depth:2},{text:"\u4E8C\u3001\u4F7F\u7528",id:"\u4E8C\u4F7F\u7528",depth:2},{text:"\u4E09\u3001\u5B9E\u73B0\u539F\u7406",id:"\u4E09\u5B9E\u73B0\u539F\u7406",depth:2},{text:"HashRouter",id:"hashrouter",depth:2},{text:"Router",id:"router",depth:3},{text:"\u53C2\u8003\u6587\u732E",id:"\u53C2\u8003\u6587\u732E",depth:2}],title:"\u8BF4\u8BF4 React Router \u6709\u51E0\u79CD\u6A21\u5F0F\uFF1F\u5B9E\u73B0\u539F\u7406\uFF1F",frontmatter:{icon:"question",description:"\u524D\u7AEF\u7269\u8BED|\u9762\u8BD5\u7269\u8BED-\u8BF4\u8BF4 React Router \u6709\u51E0\u79CD\u6A21\u5F0F\uFF1F\u5B9E\u73B0\u539F\u7406\uFF1F",footer:"\u8BF4\u8BF4 React Router \u6709\u51E0\u79CD\u6A21\u5F0F\uFF1F\u5B9E\u73B0\u539F\u7406\uFF1F",order:15,star:15,date:"2023-04-01T00:00:00.000Z",author:"h7ml",image:"https://www.h7ml.cn/logo.png",banner:"https://www.h7ml.cn/logo.png",category:["interview","React"],tag:["interview","React"],shortTitle:"\u524D\u7AEF\u7269\u8BED|\u9762\u8BD5\u7269\u8BED-\u8BF4\u8BF4 React Router \u6709\u51E0\u79CD\u6A21\u5F0F\uFF1F\u5B9E\u73B0\u539F\u7406\uFF1F",isOriginal:!1,head:[["meta",{name:"keywords",content:"\u8BF4\u8BF4 React Router \u6709\u51E0\u79CD\u6A21\u5F0F\uFF1F\u5B9E\u73B0\u539F\u7406\uFF1F"}]]}}}}]);