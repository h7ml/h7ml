/*! For license information please see 62293.bcdb1031.js.LICENSE.txt */
(self.webpackChunkh7ml=self.webpackChunkh7ml||[]).push([["62293"],{82343:function(e,n,r){"use strict";r.r(n);var t=r("52676"),s=r("40453");function a(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",ol:"ol",li:"li",h3:"h3",h4:"h4",pre:"pre",code:"code"},(0,s.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"\u4F7F\u7528-react-query-\u8BA9\u72B6\u6001\u7BA1\u7406\u66F4\u52A0\u9AD8\u6548\u4F18\u96C5",children:["\u4F7F\u7528 react-query \u8BA9\u72B6\u6001\u7BA1\u7406\u66F4\u52A0\u9AD8\u6548\u4F18\u96C5",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528-react-query-\u8BA9\u72B6\u6001\u7BA1\u7406\u66F4\u52A0\u9AD8\u6548\u4F18\u96C5",children:"#"})]}),"\n",(0,t.jsxs)(n.h2,{id:"\u4EC0\u4E48\u662F-react-query",children:["\u4EC0\u4E48\u662F react-query",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4EC0\u4E48\u662F-react-query",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"React Query \u662F\u4E00\u4E2A\u57FA\u4E8E React \u7684\u8F7B\u91CF\u7EA7\u6570\u636E\u83B7\u53D6\u548C\u72B6\u6001\u7BA1\u7406\u5E93\uFF0C\u5176\u4E3B\u8981\u5173\u6CE8\u70B9\u5728\u4E8E\u5BA2\u6237\u7AEF\u5982\u4F55\u66F4\u597D\u5730\u7BA1\u7406\u670D\u52A1\u5668\u7AEF\u72B6\u6001\u3002\u4E0E\u4F20\u7EDF\u7684\u72B6\u6001\u7BA1\u7406\u5E93\uFF08\u5982 Redux \u548C MobX\uFF09\u76F8\u6BD4\uFF0C\u5B83\u4E13\u6CE8\u4E8E\u5904\u7406\u670D\u52A1\u5668\u72B6\u6001\uFF0C\u7B80\u5316\u4E86\u4E0E\u540E\u7AEF\u6570\u636E\u4EA4\u4E92\u7684\u903B\u8F91\u3002"}),"\n",(0,t.jsx)(n.p,{children:"React Query \u901A\u8FC7\u63D0\u4F9B useQuery\u3001useMutation \u7B49 hooks\uFF0C\u4F7F\u5F97\u5F00\u53D1\u8005\u80FD\u591F\u8F7B\u677E\u5730\u83B7\u53D6\u3001\u66F4\u65B0\u3001\u5220\u9664\u670D\u52A1\u5668\u7AEF\u6570\u636E\u3002\u6B64\u5916\uFF0C\u5B83\u8FD8\u5185\u7F6E\u4E86\u6570\u636E\u7F13\u5B58\u3001\u81EA\u52A8\u66F4\u65B0\u3001\u91CD\u8BD5\u7B49\u529F\u80FD\uFF0C\u8FDB\u4E00\u6B65\u4F18\u5316\u4E86\u5BA2\u6237\u7AEF\u4E0E\u670D\u52A1\u5668\u7AEF\u72B6\u6001\u540C\u6B65\u7684\u4F53\u9A8C\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u56E0\u6B64\uFF0CReact Query \u7684\u6838\u5FC3\u4EF7\u503C\u5728\u4E8E\u5E2E\u52A9\u5F00\u53D1\u8005\u66F4\u4F18\u96C5\u5730\u7BA1\u7406\u5BA2\u6237\u7AEF\u4E0E\u670D\u52A1\u5668\u7AEF\u72B6\u6001\u7684\u4EA4\u4E92\uFF0C\u63D0\u5347\u524D\u7AEF\u5F00\u53D1\u6548\u7387\u3002"}),"\n",(0,t.jsxs)(n.h2,{id:"\u5BA2\u6237\u7AEF\u5E94\u7528\u72B6\u6001",children:["\u5BA2\u6237\u7AEF\u5E94\u7528\u72B6\u6001",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5BA2\u6237\u7AEF\u5E94\u7528\u72B6\u6001",children:"#"})]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u5BA2\u6237\u7AEF\u72B6\u6001 Client State:\u591A\u6570\u7528\u4E8E\u63A7\u5236\u5BA2\u6237\u7AEF\u7684 UI \u5C55\u793A\uFF0C\u50A8\u5B58\u5728\u4E8E\u5BA2\u6237\u7AEF\u3002"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u670D\u52A1\u7AEF\u72B6\u6001 Server State:\u5BA2\u6237\u7AEF\u901A\u8FC7\u5F02\u6B65\u8BF7\u6C42\u83B7\u5F97\u7684\u6570\u636E\uFF0C\u50A8\u5B58\u5728\u4E8E\u670D\u52A1\u7AEF."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"\u670D\u52A1\u7AEF\u72B6\u6001\u6709\u4EE5\u4E0B\u7279\u70B9",children:["\u670D\u52A1\u7AEF\u72B6\u6001\u6709\u4EE5\u4E0B\u7279\u70B9",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u670D\u52A1\u7AEF\u72B6\u6001\u6709\u4EE5\u4E0B\u7279\u70B9",children:"#"})]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u5B58\u50A8\u5728\u8FDC\u7AEF"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u9700\u8981\u5F02\u6B65 API \u6765\u67E5\u8BE2\u548C\u66F4\u65B0"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u6570\u636E\u4E0D\u540C\u6B65"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"react-query-\u8FD8\u9488\u5BF9\u4E0B\u5217\u5E38\u89C1\u9700\u6C42\u7ED9\u51FA\u4E86\u81EA\u5DF1\u7684\u89E3\u51B3\u65B9\u6848",children:["React Query \u8FD8\u9488\u5BF9\u4E0B\u5217\u5E38\u89C1\u9700\u6C42\u7ED9\u51FA\u4E86\u81EA\u5DF1\u7684\u89E3\u51B3\u65B9\u6848",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#react-query-\u8FD8\u9488\u5BF9\u4E0B\u5217\u5E38\u89C1\u9700\u6C42\u7ED9\u51FA\u4E86\u81EA\u5DF1\u7684\u89E3\u51B3\u65B9\u6848",children:"#"})]}),"\n",(0,t.jsxs)(n.h4,{id:"1-\u7F13\u5B58",children:["1. \u7F13\u5B58",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-\u7F13\u5B58",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useQuery } from 'react-query'\n\nfunction App() {\n  const { isLoading, error, data } = useQuery('todo', () =>\n    fetch('https://jsonplaceholder.typicode.com/todos/1').then(res => res.json()))\n\n  if (isLoading)\n    return <div>Loading...</div>\n\n  if (error) {\n    return (\n      <div>\n        Error:\n        {error.message}\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <h1>Todo</h1>\n      <div>{data.title}</div>\n    </div>\n  )\n}\n\nexport default App\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"2-\u5C06\u5BF9\u540C\u4E00\u6570\u636E\u7684\u591A\u4E2A\u8BF7\u6C42\u7B80\u5316\u4E3A\u4E00\u4E2A\u8BF7\u6C42",children:["2. \u5C06\u5BF9\u540C\u4E00\u6570\u636E\u7684\u591A\u4E2A\u8BF7\u6C42\u7B80\u5316\u4E3A\u4E00\u4E2A\u8BF7\u6C42",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-\u5C06\u5BF9\u540C\u4E00\u6570\u636E\u7684\u591A\u4E2A\u8BF7\u6C42\u7B80\u5316\u4E3A\u4E00\u4E2A\u8BF7\u6C42",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useQuery } from 'react-query'\n\nfunction App() {\n  const { isLoading, error, data } = useQuery('todos', () =>\n    fetch('https://jsonplaceholder.typicode.com/todos').then(res => res.json()))\n\n  if (isLoading)\n    return <div>Loading...</div>\n\n  if (error) {\n    return (\n      <div>\n        Error:\n        {error.message}\n      </div>\n    )\n  }\n\n  return (\n    <ul>\n      {data.map(todo => (\n        <li key={todo.id}>{todo.title}</li>\n      ))}\n    </ul>\n  )\n}\n\nexport default App\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"3-\u5728\u540E\u53F0\u66F4\u65B0\u8FC7\u671F\u6570\u636E",children:["3. \u5728\u540E\u53F0\u66F4\u65B0\u201D\u8FC7\u671F\u201D\u6570\u636E",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-\u5728\u540E\u53F0\u66F4\u65B0\u8FC7\u671F\u6570\u636E",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useQuery } from 'react-query'\n\nfunction App() {\n  const { isLoading, error, data } = useQuery(\n    'todos',\n    () => fetch('https://jsonplaceholder.typicode.com/todos').then(res => res.json()),\n    {\n      refetchOnWindowFocus: false,\n      staleTime: 10000, // 10 \u79D2\u540E\u6570\u636E\u8FC7\u671F\uFF0C\u4F46\u4ECD\u4F1A\u5728\u540E\u53F0\u66F4\u65B0\n    }\n  )\n\n  if (isLoading)\n    return <div>Loading...</div>\n\n  if (error) {\n    return (\n      <div>\n        Error:\n        {error.message}\n      </div>\n    )\n  }\n\n  return (\n    <ul>\n      {data.map(todo => (\n        <li key={todo.id}>{todo.title}</li>\n      ))}\n    </ul>\n  )\n}\n\nexport default App\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"4-\u77E5\u9053\u6570\u636E\u4F55\u65F6\u8FC7\u671F",children:["4. \u77E5\u9053\u6570\u636E\u4F55\u65F6\u201D\u8FC7\u671F\u201D",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-\u77E5\u9053\u6570\u636E\u4F55\u65F6\u8FC7\u671F",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useQuery } from 'react-query'\n\nfunction App() {\n  const { isLoading, error, data, isStale } = useQuery(\n    'todos',\n    () => fetch('https://jsonplaceholder.typicode.com/todos').then(res => res.json()),\n    {\n      staleTime: 10000, // 10 \u79D2\u540E\u6570\u636E\u8FC7\u671F\n    }\n  )\n\n  if (isLoading)\n    return <div>Loading...</div>\n\n  if (error) {\n    return (\n      <div>\n        Error:\n        {error.message}\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <ul>\n        {data.map(todo => (\n          <li key={todo.id}>{todo.title}</li>\n        ))}\n      </ul>\n      {isStale && <div>Data is stale</div>}\n    </div>\n  )\n}\n\nexport default App\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"5-\u5C3D\u53EF\u80FD\u5FEB\u5730\u53CD\u6620\u6570\u636E\u7684\u66F4\u65B0",children:["5. \u5C3D\u53EF\u80FD\u5FEB\u5730\u53CD\u6620\u6570\u636E\u7684\u66F4\u65B0",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-\u5C3D\u53EF\u80FD\u5FEB\u5730\u53CD\u6620\u6570\u636E\u7684\u66F4\u65B0",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useQuery, useMutation } from 'react-query';\n\ninterface TodoProps {\n  id: number;\n  title: string;\n  completed: boolean;\n}\n\nconst fetchTodos = async (): Promise<TodoProps[]> =>\n  fetch('https://jsonplaceholder.typicode.com/todos').then((res) => res.json());\n\nconst updateTodo = async (todo: TodoProps): Promise<TodoProps> =>\n  fetch(`https://jsonplaceholder.typicode.com/todos/${todo.id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(todo),\n  }).then((res) => res.json());\n\nfunction App() {\n  const { isLoading, error, data } = useQuery('todos', fetchTodos);\n\n  const queryClient = useQueryClient();\n  const { mutate } = useMutation(updateTodo, {\n    onSuccess: (data) => {\n      queryClient.setQueryData('todos', (old) => old.map((todo: TodoProps) => (todo.id === data.id ? data : todo)));\n    },\n  });\n\n  const handleToggleComplete = (todo: TodoProps) => {\n    mutate({ ...todo, completed: !todo.completed });\n  };\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error.message}</div>;\n  }\n\n  return (\n    <ul>\n      {data.map((todo: TodoProps) => (\n        <li key={todo.id}>\n          {todo.title} <input type=\"checkbox\" checked={todo.completed} onChange={() => handleToggleComplete(todo)} />\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default App;\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"6-\u6027\u80FD\u4F18\u5316\u5982\u5206\u9875\u548C\u61D2\u52A0\u8F7D\u6570\u636E",children:["6. \u6027\u80FD\u4F18\u5316\uFF0C\u5982\u5206\u9875\u548C\u61D2\u52A0\u8F7D\u6570\u636E",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6-\u6027\u80FD\u4F18\u5316\u5982\u5206\u9875\u548C\u61D2\u52A0\u8F7D\u6570\u636E",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useInfiniteQuery } from 'react-query';\n\ninterface TodoProps {\n  id: number;\n  title: string;\n  completed: boolean;\n}\n\nconst fetchTodos = async ({ pageParam = 0 }) =>\n  fetch(`https://jsonplaceholder.typicode.com/todos?_page=${pageParam}`).then((res) => res.json());\n\nfunction Todos() {\n  const { data, error, isLoading, isFetching, fetchNextPage } = useInfiniteQuery('todos', fetchTodos, {\n    getNextPageParam: (lastPage) => {\n      const nextPage = lastPage.length > 0 ? lastPage[lastPage.length - 1].id : null;\n      return nextPage ? nextPage + 1 : null;\n    },\n  });\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error.message}</div>;\n  }\n\n  return (\n    <>\n      {data.pages.map((page) => (\n        <ul key={page[0].id}>\n          {page.map((todo: TodoProps) => (\n            <li key={todo.id}>\n              {todo.title} {todo.completed && '\u2713'}\n            </li>\n          ))}\n        </ul>\n      ))}\n      {isFetching ? <div>Fetching more...</div> : null}\n      <button onClick={() => fetchNextPage()} disabled={!data.hasNextPage}>\n        Load more\n      </button>\n    </>\n  );\n}\n\nexport default Todos;\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"7-\u7BA1\u7406\u5185\u5B58",children:["7. \u7BA1\u7406\u5185\u5B58",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#7-\u7BA1\u7406\u5185\u5B58",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useQuery } from 'react-query'\n\nfunction App() {\n  const { isLoading, error, data } = useQuery('todos', () =>\n    fetch('https://jsonplaceholder.typicode.com/todos').then(res => res.json()))\n\n  if (isLoading)\n    return <div>Loading...</div>\n\n  if (error) {\n    return (\n      <div>\n        Error:\n        {error.message}\n      </div>\n    )\n  }\n\n  return (\n    <ul>\n      {data.map(todo => (\n        <li key={todo.id}>{todo.title}</li>\n      ))}\n    </ul>\n  )\n}\n\nexport default App\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"8-\u5171\u4EAB\u6570\u636E",children:["8. \u5171\u4EAB\u6570\u636E",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#8-\u5171\u4EAB\u6570\u636E",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// users.ts\nimport { useQuery } from 'react-query';\n\ninterface UserProps {\n  id: number;\n  name: string;\n}\n\nconst fetchUsers = async (): Promise<UserProps[]> =>\n  fetch('https://jsonplaceholder.typicode.com/users').then((res) => res.json());\n\nexport function useUsers() {\n  return useQuery('users', fetchUsers);\n}\n\n// todos.ts\nimport { useQuery } from 'react-query';\n\ninterface TodoProps {\n  id: number;\n  title: string;\n  completed: boolean;\n}\n\nconst fetchTodos = async (): Promise<TodoProps[]> =>\n  fetch('https://jsonplaceholder.typicode.com/todos').then((res) => res.json());\n\nexport function useTodos() {\n  return useQuery('todos', fetchTodos);\n}\n\n// app.tsx\nimport { useUsers } from './users';\nimport { useTodos } from './todos';\n\nfunction App() {\n  const { data: users } = useUsers();\n  const { isLoading, error, data: todos } = useTodos();\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error.message}</div>;\n  }\n\n  return (\n    <>\n      <h1>Todos</h1>\n      <ul>\n        {todos.map((todo) => (\n          <li key={todo.id}>\n            {todo.title} {todo.completed && '\u2713'} ({users.find((user) => user.id === todo.userId)?.name})\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n\nexport default App;\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"\u4F7F\u7528-react-query",children:["\u4F7F\u7528 react-query",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528-react-query",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"1-\u9996\u5148\u9700\u8981\u5B89\u88C5-react-query",children:["1. \u9996\u5148\uFF0C\u9700\u8981\u5B89\u88C5 React Query\uFF1A",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-\u9996\u5148\u9700\u8981\u5B89\u88C5-react-query",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install react-query\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5B89\u88C5\u5B8C\u6210\u540E\uFF0C\u5728\u9879\u76EE\u7684\u6839\u7EC4\u4EF6\u4E2D\u5F15\u5165 ","QueryClient"," \u548C ","QueryClientProvider","\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"import { QueryClient, QueryClientProvider } from 'react-query'\n\nconst queryClient = new QueryClient()\n\nfunction App() {\n  return <QueryClientProvider client={queryClient}>{/* \u5E94\u7528\u7684\u5176\u4ED6\u90E8\u5206 */}</QueryClientProvider>\n}\n\nexport default App\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"2-\u4F7F\u7528-usequery-\u83B7\u53D6\u6570\u636E",children:["2. \u4F7F\u7528 useQuery \u83B7\u53D6\u6570\u636E",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-\u4F7F\u7528-usequery-\u83B7\u53D6\u6570\u636E",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["React Query \u63D0\u4F9B\u4E86\u4E00\u4E2A\u540D\u4E3A ","useQuery"," \u7684 hook\uFF0C\u53EF\u4EE5\u7528\u4E8E\u83B7\u53D6\u8FDC\u7A0B\u6570\u636E\u3002\u8FD9\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"import { useQuery } from 'react-query'\nimport axios from 'axios'\n\nasync function fetchUsers() {\n  const response = await axios.get('https://api.example.com/users')\n  return response.data\n}\n\nfunction Users() {\n  const { data, isLoading, error } = useQuery('users', fetchUsers)\n\n  if (isLoading)\n    return <div>\u52A0\u8F7D\u4E2D...</div>\n\n  if (error) {\n    return (\n      <div>\n        \u53D1\u751F\u9519\u8BEF\uFF1A\n        {error.message}\n      </div>\n    )\n  }\n\n  return (\n    <ul>\n      {data.map(user => (\n        <li key={user.id}>{user.name}</li>\n      ))}\n    </ul>\n  )\n}\n\nexport default Users\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"3-\u4F18\u96C5\u5730\u5904\u7406\u9519\u8BEF\u548C\u91CD\u8BD5",children:["3. \u4F18\u96C5\u5730\u5904\u7406\u9519\u8BEF\u548C\u91CD\u8BD5",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-\u4F18\u96C5\u5730\u5904\u7406\u9519\u8BEF\u548C\u91CD\u8BD5",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"React Query \u9ED8\u8BA4\u4F1A\u5728\u8BF7\u6C42\u5931\u8D25\u65F6\u5C1D\u8BD5\u91CD\u8BD5 3 \u6B21\u3002\u4F60\u8FD8\u53EF\u4EE5\u81EA\u5B9A\u4E49\u91CD\u8BD5\u6B21\u6570\u548C\u91CD\u8BD5\u95F4\u9694\uFF0C\u4F8B\u5982\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"const { data, isLoading, error } = useQuery('users', fetchUsers, {\n  retry: 5,\n  retryDelay: attempt => attempt * 1000,\n})\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"4-\u7F13\u5B58\u548C\u81EA\u52A8\u66F4\u65B0",children:["4. \u7F13\u5B58\u548C\u81EA\u52A8\u66F4\u65B0",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-\u7F13\u5B58\u548C\u81EA\u52A8\u66F4\u65B0",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"React Query \u9ED8\u8BA4\u4F1A\u7F13\u5B58\u6570\u636E\uFF0C\u51CF\u5C11\u4E0D\u5FC5\u8981\u7684\u8BF7\u6C42\u3002\u5F53\u7EC4\u4EF6\u5378\u8F7D\u540E\uFF0C\u6570\u636E\u4ECD\u7136\u4FDD\u7559\u5728\u7F13\u5B58\u4E2D\u3002\u5F53\u518D\u6B21\u4F7F\u7528\u76F8\u540C\u7684 key \u67E5\u8BE2\u65F6\uFF0CReact Query \u4F1A\u76F4\u63A5\u4F7F\u7528\u7F13\u5B58\u4E2D\u7684\u6570\u636E\u3002\u540C\u65F6\uFF0CReact Query \u8FD8\u53EF\u4EE5\u5728\u540E\u53F0\u81EA\u52A8\u66F4\u65B0\u6570\u636E\uFF0C\u4F8B\u5982\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"const { data, isLoading, error } = useQuery('users', fetchUsers, {\n  refetchOnWindowFocus: true,\n})\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"5-\u4F7F\u7528-usemutation-\u53D1\u9001\u6570\u636E",children:["5. \u4F7F\u7528 useMutation \u53D1\u9001\u6570\u636E",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-\u4F7F\u7528-usemutation-\u53D1\u9001\u6570\u636E",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["React Query \u8FD8\u63D0\u4F9B\u4E86 ","useMutation"," hook\uFF0C\u7528\u4E8E\u5904\u7406\u6570\u636E\u7684\u66F4\u6539\uFF08\u5982\u6DFB\u52A0\u3001\u4FEE\u6539\u3001\u5220\u9664\uFF09\u3002\u8FD9\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"import { useMutation } from 'react-query'\nimport axios from 'axios'\nasync function addUser(newUser) {\n  const response = await axios.post('https://api.example.com/users', newUser)\n  return response.data\n}\n\nfunction CreateUser() {\n  const mutation = useMutation(addUser, {\n    onSuccess: () => {\n      // \u901A\u77E5\u7528\u6237\u6DFB\u52A0\u6210\u529F\n      alert('\u7528\u6237\u6DFB\u52A0\u6210\u529F\uFF01')\n    },\n    onError: () => {\n      // \u901A\u77E5\u7528\u6237\u6DFB\u52A0\u5931\u8D25\n      alert('\u7528\u6237\u6DFB\u52A0\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\u3002')\n    },\n  })\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const newUser = {\n      name: e.target.name.value,\n    }\n    mutation.mutate(newUser)\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"text\" name=\"name\" placeholder=\"\u8BF7\u8F93\u5165\u7528\u6237\u540D\" />\n      <button type=\"submit\">\u6DFB\u52A0\u7528\u6237</button>\n    </form>\n  )\n}\n\nexport default CreateUser\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u4E0A\u9762\u7684\u793A\u4F8B\u4E2D\uFF0C",(0,t.jsx)(n.code,{children:"useMutation"})," hook \u7528\u4E8E\u5904\u7406\u6DFB\u52A0\u7528\u6237\u7684\u64CD\u4F5C\u3002\u5F53\u6DFB\u52A0\u6210\u529F\u65F6\uFF0C\u4F1A\u663E\u793A\u6210\u529F\u63D0\u793A\uFF1B\u5982\u679C\u6DFB\u52A0\u5931\u8D25\uFF0C\u5219\u663E\u793A\u5931\u8D25\u63D0\u793A\u3002"]}),"\n",(0,t.jsxs)(n.h3,{id:"6-\u4F7F\u7528-queryclient-\u65E0\u7F1D\u6574\u5408",children:["6. \u4F7F\u7528 QueryClient \u65E0\u7F1D\u6574\u5408",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6-\u4F7F\u7528-queryclient-\u65E0\u7F1D\u6574\u5408",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,t.jsx)(n.code,{children:"QueryClient"})," \u53EF\u4EE5\u8BA9\u4F60\u66F4\u597D\u5730\u63A7\u5236 React Query \u7684\u884C\u4E3A\u3002\u4F8B\u5982\uFF0C\u4F60\u53EF\u4EE5\u5728\u6DFB\u52A0\u7528\u6237\u6210\u529F\u540E\uFF0C\u4F7F\u7528\u6237\u5217\u8868\u7684\u7F13\u5B58\u5931\u6548\uFF0C\u4EE5\u4FBF\u7ACB\u5373\u83B7\u53D6\u66F4\u65B0\u540E\u7684\u6570\u636E\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"import { useQueryClient } from 'react-query'\n\nfunction CreateUser() {\n  const queryClient = useQueryClient()\n\n  const mutation = useMutation(addUser, {\n    onSuccess: () => {\n      // \u4F7F\u7528\u6237\u5217\u8868\u7F13\u5B58\u5931\u6548\n      queryClient.invalidateQueries('users')\n      // \u901A\u77E5\u7528\u6237\u6DFB\u52A0\u6210\u529F\n      alert('\u7528\u6237\u6DFB\u52A0\u6210\u529F\uFF01')\n    },\n    onError: () => {\n      // \u901A\u77E5\u7528\u6237\u6DFB\u52A0\u5931\u8D25\n      alert('\u7528\u6237\u6DFB\u52A0\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\u3002')\n    },\n  })\n\n  // ... \u5176\u4ED6\u4EE3\u7801\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u603B\u7ED3 React Query \u662F\u4E00\u4E2A\u5F3A\u5927\u4E14\u7075\u6D3B\u7684\u72B6\u6001\u7BA1\u7406\u5E93\uFF0C\u53EF\u4EE5\u8BA9\u4F60\u7684\u9879\u76EE\u72B6\u6001\u7BA1\u7406\u53D8\u5F97\u66F4\u52A0\u9AD8\u6548\u4F18\u96C5\u3002\u901A\u8FC7\u4F7F\u7528 React Query \u63D0\u4F9B\u7684 ","useQuery"," \u548C ","useMutation"," \u7B49 hooks\uFF0C\u53EF\u4EE5\u8F7B\u677E\u5730\u5904\u7406\u670D\u52A1\u5668\u72B6\u6001\uFF0C\u540C\u65F6\u4EAB\u53D7\u7F13\u5B58\u3001\u91CD\u8BD5\u548C\u81EA\u52A8\u66F4\u65B0\u7B49\u529F\u80FD\u3002\u5982\u679C\u4F60\u5728\u5BFB\u627E\u4E00\u4E2A\u7B80\u5355\u6613\u7528\u4E14\u529F\u80FD\u5F3A\u5927\u7684\u72B6\u6001\u7BA1\u7406\u5E93\uFF0CReact Query \u662F\u4E00\u4E2A\u503C\u5F97\u5C1D\u8BD5\u7684\u9009\u62E9\u3002"]}),"\n",(0,t.jsxs)(n.h2,{id:"queryclient",children:["QueryClient",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#queryclient",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"`QueryClient \u662F React Query \u7684\u6838\u5FC3\u7C7B\uFF0C\u5B83\u8D1F\u8D23\u7BA1\u7406\u67E5\u8BE2\u548C\u7A81\u53D8\u7684\u7F13\u5B58\u3001\u914D\u7F6E\u4EE5\u53CA\u5176\u4ED6\u5185\u90E8\u72B6\u6001\u3002\u4F60\u53EF\u4EE5\u5C06\u5176\u89C6\u4E3A\u4E00\u4E2A\u5168\u5C40\u5BF9\u8C61\uFF0C\u5B83\u5728\u6574\u4E2A\u5E94\u7528\u7A0B\u5E8F\u4E2D\u5B58\u50A8\u5E76\u7BA1\u7406\u6240\u6709\u67E5\u8BE2\u548C\u7A81\u53D8\u7684\u72B6\u6001\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u521B\u5EFA\u4E00\u4E2A QueryClient \u5B9E\u4F8B\u7684\u65B9\u6CD5\u5982\u4E0B\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"import { QueryClient } from 'react-query'\nconst queryClient = new QueryClient()\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u521B\u5EFA QueryClient \u65F6\uFF0C\u4F60\u8FD8\u53EF\u4EE5\u4F20\u5165\u914D\u7F6E\u9009\u9879\u6765\u81EA\u5B9A\u4E49\u5176\u884C\u4E3A\u3002\u4F8B\u5982\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: 3, // \u8BBE\u7F6E\u5168\u5C40\u9ED8\u8BA4\u7684\u91CD\u8BD5\u6B21\u6570\n      cacheTime: 1000 * 60 * 5, // \u7F13\u5B58\u6570\u636E\u7684\u65F6\u957F\uFF08\u6BEB\u79D2\uFF09\n    },\n  },\n})\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"queryclientprovider",children:["QueryClientProvider",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#queryclientprovider",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"QueryClientProvider"})," \u662F\u4E00\u4E2A React \u7EC4\u4EF6\uFF0C\u5B83\u7684\u4F5C\u7528\u662F\u5C06\u521B\u5EFA\u597D\u7684 QueryClient \u5B9E\u4F8B\u4F20\u9012\u7ED9\u5E94\u7528\u7A0B\u5E8F\u4E2D\u7684\u5176\u4ED6\u7EC4\u4EF6\u3002\u4F60\u53EF\u4EE5\u5C06\u5B83\u89C6\u4E3A React Query \u7684\u4E0A\u4E0B\u6587\u63D0\u4F9B\u8005\uFF0C\u5B83\u4F7F\u5F97 React Query \u53EF\u4EE5\u5728\u6574\u4E2A\u5E94\u7528\u7A0B\u5E8F\u8303\u56F4\u5185\u5DE5\u4F5C\u3002\u4F7F\u7528 QueryClientProvider \u7684\u65B9\u6CD5\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"import { QueryClient, QueryClientProvider } from 'react-query'\n\nconst queryClient = new QueryClient()\n\nfunction App() {\n  return <QueryClientProvider client={queryClient}>{/* \u5E94\u7528\u7684\u5176\u4ED6\u90E8\u5206 */}</QueryClientProvider>\n}\n\nexport default App\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u9879\u76EE\u7684\u6839\u7EC4\u4EF6\u4E2D\u5F15\u5165 QueryClientProvider \u5E76\u4F20\u5165 QueryClient \u5B9E\u4F8B\uFF0C\u8FD9\u6837\u4F60\u5C31\u53EF\u4EE5\u5728\u5E94\u7528\u7684\u4EFB\u4F55\u5730\u65B9\u4F7F\u7528 React Query \u63D0\u4F9B\u7684 hooks\uFF0C\u4F8B\u5982 useQuery \u548C useMutation \u7B49\u3002"}),"\n",(0,t.jsx)(n.p,{children:"QueryClient \u8D1F\u8D23\u7BA1\u7406\u548C\u914D\u7F6E React Query \u7684\u5185\u90E8\u72B6\u6001\uFF0C\u800C QueryClientProvider \u5219\u8D1F\u8D23\u5C06 QueryClient \u5B9E\u4F8B\u4F20\u9012\u7ED9\u6574\u4E2A\u5E94\u7528\u7A0B\u5E8F\uFF0C\u4F7F\u5F97\u5176\u4ED6\u7EC4\u4EF6\u53EF\u4EE5\u65B9\u4FBF\u5730\u4F7F\u7528 React Query \u7684\u529F\u80FD\u3002\u5728\u4F7F\u7528 React Query \u65F6\uFF0C\u8FD9\u4E24\u4E2A\u7EC4\u4EF6\u662F\u4E0D\u53EF\u6216\u7F3A\u7684\u3002"}),"\n",(0,t.jsxs)(n.h2,{id:"usemutation-\u91CC-\u5982\u4F55\u5C06\u5B9E\u65F6\u72B6\u6001\u4F20\u9012\u51FA\u53BB",children:["useMutation \u91CC \u5982\u4F55\u5C06\u5B9E\u65F6\u72B6\u6001\u4F20\u9012\u51FA\u53BB",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usemutation-\u91CC-\u5982\u4F55\u5C06\u5B9E\u65F6\u72B6\u6001\u4F20\u9012\u51FA\u53BB",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["useMutation"," \u63D0\u4F9B\u4E86\u4E00\u4E2A\u540D\u4E3A ","onMutate"," \u7684\u914D\u7F6E\u9009\u9879\uFF0C\u53EF\u4EE5\u5728 mutation \u5F00\u59CB\u4E4B\u524D\u6267\u884C\u3002\u4F60\u53EF\u4EE5\u4F7F\u7528\u6B64\u9009\u9879\u6355\u83B7 mutation \u7684\u5B9E\u65F6\u72B6\u6001\uFF0C\u5E76\u5C06\u5176\u4F20\u9012\u7ED9\u5916\u90E8\u7EC4\u4EF6\u3002\u4F8B\u5982\uFF0C\u6211\u4EEC\u5728\u6DFB\u52A0\u7528\u6237\u7684\u793A\u4F8B\u4E2D\u589E\u52A0\u4E00\u4E2A\u5B9E\u65F6\u72B6\u6001\u4F20\u9012\u529F\u80FD\u3002\u9996\u5148\uFF0C\u5728 ","CreateUser"," \u7EC4\u4EF6\u4E2D\u5B9A\u4E49\u4E00\u4E2A\u540D\u4E3A ","onStatusChange"," \u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u7136\u540E\u5C06\u6B64\u56DE\u8C03\u51FD\u6570\u4F5C\u4E3A prop \u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"function CreateUser({ onStatusChange }) {\n  // ...\n  const mutation = useMutation(addUser, {\n    onMutate: () => {\n      onStatusChange('pending')\n    },\n    onSuccess: () => {\n      onStatusChange('success')\n      // ...\n    },\n    onError: () => {\n      onStatusChange('error')\n      // ...\n    },\n  })\n  // ...\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540E\uFF0C\u5728\u7236\u7EC4\u4EF6\u4E2D\u63A5\u6536 ","onStatusChange"," \u56DE\u8C03\u5E76\u5904\u7406\u72B6\u6001\u53D8\u5316\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"function App() {\n  const [status, setStatus] = useState('')\n\n  const handleStatusChange = (newStatus) => {\n    setStatus(newStatus)\n  }\n\n  return (\n    <div>\n      <CreateUser onStatusChange={handleStatusChange} />\n      {status === 'pending' && <p>\u6B63\u5728\u6DFB\u52A0\u7528\u6237...</p>}\n      {status === 'success' && <p>\u7528\u6237\u6DFB\u52A0\u6210\u529F\uFF01</p>}\n      {status === 'error' && <p>\u7528\u6237\u6DFB\u52A0\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\u3002</p>}\n    </div>\n  )\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u73B0\u5728\uFF0C\u5F53\u6DFB\u52A0\u7528\u6237\u7684 mutation \u8FDB\u884C\u4E2D\uFF0C\u7236\u7EC4\u4EF6\u4F1A\u63A5\u6536\u5230\u5B9E\u65F6\u72B6\u6001\u5E76\u663E\u793A\u76F8\u5E94\u7684\u63D0\u793A\u4FE1\u606F\u3002"}),"\n",(0,t.jsx)(n.p,{children:"useMutation \u662F react-query \u63D0\u4F9B\u7684\u4E00\u4E2A\u81EA\u5B9A\u4E49 hook\uFF0C\u7528\u4E8E\u6267\u884C\u6570\u636E\u4FEE\u6539\u64CD\u4F5C\uFF08create/update/delete\uFF09\uFF0C\u5E76\u5904\u7406\u76F8\u5173\u7684\u72B6\u6001\u53D8\u5316\u3002\u4E0B\u9762\u5217\u4E3E\u51FA useMutation \u63D0\u4F9B\u7684\u6240\u6709\u65B9\u6CD5\uFF1A"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"mutate(data, options?): \u7528\u4E8E\u624B\u52A8\u89E6\u53D1 mutation \u51FD\u6570\u6267\u884C\uFF0C\u5E76\u66F4\u65B0\u76F8\u5173\u7684\u72B6\u6001\u53D8\u91CF\u3002"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u25CF data: \u8981\u4F20\u9012\u7ED9 mutation \u51FD\u6570\u7684\u6570\u636E\u3002 \u25CF options: \u53EF\u9009\u5BF9\u8C61\uFF0C\u5305\u542B\u4EE5\u4E0B\u5C5E\u6027\uFF1A \u25CB onMutate: \u5728 mutation \u51FD\u6570\u6267\u884C\u4E4B\u524D\u8C03\u7528\u7684\u56DE\u8C03\u51FD\u6570\u3002 \u25CB onSuccess: \u5728 mutation \u51FD\u6570\u6210\u529F\u6267\u884C\u540E\u8C03\u7528\u7684\u56DE\u8C03\u51FD\u6570\u3002 \u25CB onError: \u5728 mutation \u51FD\u6570\u6267\u884C\u51FA\u9519\u540E\u8C03\u7528\u7684\u56DE\u8C03\u51FD\u6570\u3002 \u25CB onSettled: \u5728 mutation \u51FD\u6570\u6267\u884C\u7ED3\u675F\u540E\u8C03\u7528\u7684\u56DE\u8C03\u51FD\u6570\u3002 \u25CB variables: \u8981\u8986\u76D6\u9ED8\u8BA4 mutationKey \u7684\u53C2\u6570\u5BF9\u8C61\u3002 \u25CB update: \u66F4\u65B0\u7F13\u5B58\u7684\u51FD\u6570\uFF0C\u7528\u4E8E\u624B\u52A8\u66F4\u65B0\u7F13\u5B58\u4E2D\u7684\u6570\u636E\u3002 \u25CB optimisticUpdate: \u5728 mutation \u51FD\u6570\u6267\u884C\u671F\u95F4\u8FDB\u884C\u4E50\u89C2\u66F4\u65B0\u7684\u51FD\u6570\u3002 \u25CB throwOnError: \u662F\u5426\u5728 mutation \u51FD\u6570\u6267\u884C\u51FA\u9519\u65F6\u629B\u51FA\u5F02\u5E38\u3002 \u25CB retry: \u662F\u5426\u81EA\u52A8\u91CD\u8BD5 mutation \u51FD\u6570\uFF0C\u6216\u8005\u63D0\u4F9B\u4E00\u4E2A\u91CD\u8BD5\u914D\u7F6E\u5BF9\u8C61\u3002"}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"mutateAsync(data, options?): \u4E0E mutate \u65B9\u6CD5\u7C7B\u4F3C\uFF0C\u4F46\u4F7F\u7528 async/await \u8BED\u6CD5\u6765\u6267\u884C mutation \u51FD\u6570\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A Promise \u5BF9\u8C61\u3002\u4E0D\u4F1A\u89E6\u53D1 isLoading \u548C isError \u7B49\u72B6\u6001\u53D8\u91CF\u7684\u66F4\u65B0\uFF0C\u9700\u8981\u624B\u52A8\u5904\u7406\u7ED3\u679C\u3002"}),"\n",(0,t.jsx)(n.li,{children:"\u8FD4\u56DE\u503C\uFF1A\u4E00\u4E2A\u5305\u542B\u4EE5\u4E0B\u5C5E\u6027\u7684\u5BF9\u8C61\uFF1A"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u25CF mutate: \u7528\u4E8E\u89E6\u53D1 mutation \u51FD\u6570\u6267\u884C\u7684\u65B9\u6CD5\u3002 \u25CF mutateAsync: \u4F7F\u7528 async/await \u8BED\u6CD5\u6765\u6267\u884C mutation \u51FD\u6570\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A Promise \u5BF9\u8C61\u3002\u4E0D\u4F1A\u89E6\u53D1 isLoading \u548C isError \u7B49\u72B6\u6001\u53D8\u91CF\u7684\u66F4\u65B0\uFF0C\u9700\u8981\u624B\u52A8\u5904\u7406\u7ED3\u679C\u3002 \u25CF reset: \u91CD\u7F6E mutation \u51FD\u6570\u7684\u72B6\u6001\uFF0C\u6E05\u9664\u7F13\u5B58\u4E2D\u7684\u6570\u636E\u5E76\u91CD\u65B0\u52A0\u8F7D\u6570\u636E\u3002 \u25CF isLoading: \u8868\u793A mutation \u51FD\u6570\u662F\u5426\u5728\u6267\u884C\u7684\u5E03\u5C14\u503C\u3002 \u25CF isError: \u8868\u793A mutation \u51FD\u6570\u6267\u884C\u671F\u95F4\u662F\u5426\u51FA\u9519\u7684\u5E03\u5C14\u503C\u3002 \u25CF error: \u5982\u679C mutation \u51FD\u6570\u6267\u884C\u51FA\u9519\uFF0C\u5219\u4E3A\u9519\u8BEF\u5BF9\u8C61\u3002 \u25CF data: \u5982\u679C mutation \u51FD\u6570\u6267\u884C\u6210\u529F\uFF0C\u5219\u4E3A\u8FD4\u56DE\u7684\u6570\u636E\u3002"})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}n.default=o,o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["posts%2Freact%2FreactQuery.md"]={toc:[{text:"\u4EC0\u4E48\u662F react-query",id:"\u4EC0\u4E48\u662F-react-query",depth:2},{text:"\u5BA2\u6237\u7AEF\u5E94\u7528\u72B6\u6001",id:"\u5BA2\u6237\u7AEF\u5E94\u7528\u72B6\u6001",depth:2},{text:"\u670D\u52A1\u7AEF\u72B6\u6001\u6709\u4EE5\u4E0B\u7279\u70B9",id:"\u670D\u52A1\u7AEF\u72B6\u6001\u6709\u4EE5\u4E0B\u7279\u70B9",depth:2},{text:"React Query \u8FD8\u9488\u5BF9\u4E0B\u5217\u5E38\u89C1\u9700\u6C42\u7ED9\u51FA\u4E86\u81EA\u5DF1\u7684\u89E3\u51B3\u65B9\u6848",id:"react-query-\u8FD8\u9488\u5BF9\u4E0B\u5217\u5E38\u89C1\u9700\u6C42\u7ED9\u51FA\u4E86\u81EA\u5DF1\u7684\u89E3\u51B3\u65B9\u6848",depth:3},{text:"1. \u7F13\u5B58",id:"1-\u7F13\u5B58",depth:4},{text:"2. \u5C06\u5BF9\u540C\u4E00\u6570\u636E\u7684\u591A\u4E2A\u8BF7\u6C42\u7B80\u5316\u4E3A\u4E00\u4E2A\u8BF7\u6C42",id:"2-\u5C06\u5BF9\u540C\u4E00\u6570\u636E\u7684\u591A\u4E2A\u8BF7\u6C42\u7B80\u5316\u4E3A\u4E00\u4E2A\u8BF7\u6C42",depth:4},{text:"3. \u5728\u540E\u53F0\u66F4\u65B0\u201D\u8FC7\u671F\u201D\u6570\u636E",id:"3-\u5728\u540E\u53F0\u66F4\u65B0\u8FC7\u671F\u6570\u636E",depth:4},{text:"4. \u77E5\u9053\u6570\u636E\u4F55\u65F6\u201D\u8FC7\u671F\u201D",id:"4-\u77E5\u9053\u6570\u636E\u4F55\u65F6\u8FC7\u671F",depth:4},{text:"5. \u5C3D\u53EF\u80FD\u5FEB\u5730\u53CD\u6620\u6570\u636E\u7684\u66F4\u65B0",id:"5-\u5C3D\u53EF\u80FD\u5FEB\u5730\u53CD\u6620\u6570\u636E\u7684\u66F4\u65B0",depth:4},{text:"6. \u6027\u80FD\u4F18\u5316\uFF0C\u5982\u5206\u9875\u548C\u61D2\u52A0\u8F7D\u6570\u636E",id:"6-\u6027\u80FD\u4F18\u5316\u5982\u5206\u9875\u548C\u61D2\u52A0\u8F7D\u6570\u636E",depth:4},{text:"7. \u7BA1\u7406\u5185\u5B58",id:"7-\u7BA1\u7406\u5185\u5B58",depth:4},{text:"8. \u5171\u4EAB\u6570\u636E",id:"8-\u5171\u4EAB\u6570\u636E",depth:4},{text:"\u4F7F\u7528 react-query",id:"\u4F7F\u7528-react-query",depth:2},{text:"1. \u9996\u5148\uFF0C\u9700\u8981\u5B89\u88C5 React Query\uFF1A",id:"1-\u9996\u5148\u9700\u8981\u5B89\u88C5-react-query",depth:3},{text:"2. \u4F7F\u7528 useQuery \u83B7\u53D6\u6570\u636E",id:"2-\u4F7F\u7528-usequery-\u83B7\u53D6\u6570\u636E",depth:3},{text:"3. \u4F18\u96C5\u5730\u5904\u7406\u9519\u8BEF\u548C\u91CD\u8BD5",id:"3-\u4F18\u96C5\u5730\u5904\u7406\u9519\u8BEF\u548C\u91CD\u8BD5",depth:3},{text:"4. \u7F13\u5B58\u548C\u81EA\u52A8\u66F4\u65B0",id:"4-\u7F13\u5B58\u548C\u81EA\u52A8\u66F4\u65B0",depth:3},{text:"5. \u4F7F\u7528 useMutation \u53D1\u9001\u6570\u636E",id:"5-\u4F7F\u7528-usemutation-\u53D1\u9001\u6570\u636E",depth:3},{text:"6. \u4F7F\u7528 QueryClient \u65E0\u7F1D\u6574\u5408",id:"6-\u4F7F\u7528-queryclient-\u65E0\u7F1D\u6574\u5408",depth:3},{text:"QueryClient",id:"queryclient",depth:2},{text:"QueryClientProvider",id:"queryclientprovider",depth:2},{text:"useMutation \u91CC \u5982\u4F55\u5C06\u5B9E\u65F6\u72B6\u6001\u4F20\u9012\u51FA\u53BB",id:"usemutation-\u91CC-\u5982\u4F55\u5C06\u5B9E\u65F6\u72B6\u6001\u4F20\u9012\u51FA\u53BB",depth:2}],title:"\u4F7F\u7528 react-query \u8BA9\u72B6\u6001\u7BA1\u7406\u66F4\u52A0\u9AD8\u6548\u4F18\u96C5",frontmatter:{icon:"react",description:"\u672C\u6587\u4ECB\u7ECD\u4E86\u5982\u4F55\u4F7F\u7528 React Query \u8BA9\u524D\u7AEF\u9879\u76EE\u7684\u72B6\u6001\u7BA1\u7406\u53D8\u5F97\u66F4\u52A0\u9AD8\u6548\u4F18\u96C5\uFF0C\u8BE6\u7EC6\u89E3\u6790\u4E86 React Query \u7684\u7528\u6CD5\u548C\u7279\u6027\u3002",footer:"<a href='https://beian.mit.gov.cn/' target='blank'>\u6D59ICP\u59072021037683\u53F7-2</a>React Query \u72B6\u6001\u7BA1\u7406",order:3,star:3,date:"2024-04-13T00:00:00.000Z",author:"h7ml",image:"https://www.h7ml.cn/logo.png",banner:"https://www.h7ml.cn/logo.png",category:["react","react query"],tag:["React","\u72B6\u6001\u7BA1\u7406","React Query"],shortTitle:"React Query \u72B6\u6001\u7BA1\u7406",head:[["meta",{name:"keywords",content:"React, \u72B6\u6001\u7BA1\u7406, React Query, \u524D\u7AEF\u5F00\u53D1, \u7F13\u5B58, \u81EA\u52A8\u66F4\u65B0, \u5F02\u6B65\u8BF7\u6C42"}]]}}}}]);